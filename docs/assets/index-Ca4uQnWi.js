(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Dm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qh={exports:{}},Go={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function WM(){if(dv)return Go;dv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Go.Fragment=e,Go.jsx=n,Go.jsxs=n,Go}var hv;function ZM(){return hv||(hv=1,Qh.exports=WM()),Qh.exports}var M=ZM(),Wh={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function eA(){if(pv)return be;pv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function A(k,Y,Z){this.props=k,this.context=Y,this.refs=T,this.updater=Z||S}A.prototype.isReactComponent={},A.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function _(){}_.prototype=A.prototype;function j(k,Y,Z){this.props=k,this.context=Y,this.refs=T,this.updater=Z||S}var $=j.prototype=new _;$.constructor=j,E($,A.prototype),$.isPureReactComponent=!0;var H=Array.isArray;function q(){}var P={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function X(k,Y,Z){var ie=Z.ref;return{$$typeof:t,type:k,key:Y,ref:ie!==void 0?ie:null,props:Z}}function fe(k,Y){return X(k.type,Y,k.props)}function oe(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function Te(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Z){return Y[Z]})}var te=/\/+/g;function de(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?Te(""+k.key):Y.toString(36)}function Se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(q,q):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function I(k,Y,Z,ie,se){var ve=typeof k;(ve==="undefined"||ve==="boolean")&&(k=null);var _e=!1;if(k===null)_e=!0;else switch(ve){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(k.$$typeof){case t:case e:_e=!0;break;case m:return _e=k._init,I(_e(k._payload),Y,Z,ie,se)}}if(_e)return se=se(k),_e=ie===""?"."+de(k,0):ie,H(se)?(Z="",_e!=null&&(Z=_e.replace(te,"$&/")+"/"),I(se,Y,Z,"",function(gr){return gr})):se!=null&&(oe(se)&&(se=fe(se,Z+(se.key==null||k&&k.key===se.key?"":(""+se.key).replace(te,"$&/")+"/")+_e)),Y.push(se)),1;_e=0;var lt=ie===""?".":ie+":";if(H(k))for(var We=0;We<k.length;We++)ie=k[We],ve=lt+de(ie,We),_e+=I(ie,Y,Z,ve,se);else if(We=v(k),typeof We=="function")for(k=We.call(k),We=0;!(ie=k.next()).done;)ie=ie.value,ve=lt+de(ie,We++),_e+=I(ie,Y,Z,ve,se);else if(ve==="object"){if(typeof k.then=="function")return I(Se(k),Y,Z,ie,se);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _e}function ee(k,Y,Z){if(k==null)return k;var ie=[],se=0;return I(k,ie,"","",function(ve){return Y.call(Z,ve,se++)}),ie}function me(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(Z){(k._status===0||k._status===-1)&&(k._status=1,k._result=Z)},function(Z){(k._status===0||k._status===-1)&&(k._status=2,k._result=Z)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var Be=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},He={map:ee,forEach:function(k,Y,Z){ee(k,function(){Y.apply(this,arguments)},Z)},count:function(k){var Y=0;return ee(k,function(){Y++}),Y},toArray:function(k){return ee(k,function(Y){return Y})||[]},only:function(k){if(!oe(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return be.Activity=y,be.Children=He,be.Component=A,be.Fragment=n,be.Profiler=s,be.PureComponent=j,be.StrictMode=i,be.Suspense=d,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,be.__COMPILER_RUNTIME={__proto__:null,c:function(k){return P.H.useMemoCache(k)}},be.cache=function(k){return function(){return k.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(k,Y,Z){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=E({},k.props),se=k.key;if(Y!=null)for(ve in Y.key!==void 0&&(se=""+Y.key),Y)!K.call(Y,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Y.ref===void 0||(ie[ve]=Y[ve]);var ve=arguments.length-2;if(ve===1)ie.children=Z;else if(1<ve){for(var _e=Array(ve),lt=0;lt<ve;lt++)_e[lt]=arguments[lt+2];ie.children=_e}return X(k.type,se,ie)},be.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},be.createElement=function(k,Y,Z){var ie,se={},ve=null;if(Y!=null)for(ie in Y.key!==void 0&&(ve=""+Y.key),Y)K.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(se[ie]=Y[ie]);var _e=arguments.length-2;if(_e===1)se.children=Z;else if(1<_e){for(var lt=Array(_e),We=0;We<_e;We++)lt[We]=arguments[We+2];se.children=lt}if(k&&k.defaultProps)for(ie in _e=k.defaultProps,_e)se[ie]===void 0&&(se[ie]=_e[ie]);return X(k,ve,se)},be.createRef=function(){return{current:null}},be.forwardRef=function(k){return{$$typeof:c,render:k}},be.isValidElement=oe,be.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:me}},be.memo=function(k,Y){return{$$typeof:h,type:k,compare:Y===void 0?null:Y}},be.startTransition=function(k){var Y=P.T,Z={};P.T=Z;try{var ie=k(),se=P.S;se!==null&&se(Z,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(q,Be)}catch(ve){Be(ve)}finally{Y!==null&&Z.types!==null&&(Y.types=Z.types),P.T=Y}},be.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},be.use=function(k){return P.H.use(k)},be.useActionState=function(k,Y,Z){return P.H.useActionState(k,Y,Z)},be.useCallback=function(k,Y){return P.H.useCallback(k,Y)},be.useContext=function(k){return P.H.useContext(k)},be.useDebugValue=function(){},be.useDeferredValue=function(k,Y){return P.H.useDeferredValue(k,Y)},be.useEffect=function(k,Y){return P.H.useEffect(k,Y)},be.useEffectEvent=function(k){return P.H.useEffectEvent(k)},be.useId=function(){return P.H.useId()},be.useImperativeHandle=function(k,Y,Z){return P.H.useImperativeHandle(k,Y,Z)},be.useInsertionEffect=function(k,Y){return P.H.useInsertionEffect(k,Y)},be.useLayoutEffect=function(k,Y){return P.H.useLayoutEffect(k,Y)},be.useMemo=function(k,Y){return P.H.useMemo(k,Y)},be.useOptimistic=function(k,Y){return P.H.useOptimistic(k,Y)},be.useReducer=function(k,Y,Z){return P.H.useReducer(k,Y,Z)},be.useRef=function(k){return P.H.useRef(k)},be.useState=function(k){return P.H.useState(k)},be.useSyncExternalStore=function(k,Y,Z){return P.H.useSyncExternalStore(k,Y,Z)},be.useTransition=function(){return P.H.useTransition()},be.version="19.2.3",be}var mv;function Oa(){return mv||(mv=1,Wh.exports=eA()),Wh.exports}var R=Oa();const un=Dm(R);var Zh={exports:{}},$o={},ep={exports:{}},tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function tA(){return gv||(gv=1,(function(t){function e(I,ee){var me=I.length;I.push(ee);e:for(;0<me;){var Be=me-1>>>1,He=I[Be];if(0<s(He,ee))I[Be]=ee,I[me]=He,me=Be;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var ee=I[0],me=I.pop();if(me!==ee){I[0]=me;e:for(var Be=0,He=I.length,k=He>>>1;Be<k;){var Y=2*(Be+1)-1,Z=I[Y],ie=Y+1,se=I[ie];if(0>s(Z,me))ie<He&&0>s(se,Z)?(I[Be]=se,I[ie]=me,Be=ie):(I[Be]=Z,I[Y]=me,Be=Y);else if(ie<He&&0>s(se,me))I[Be]=se,I[ie]=me,Be=ie;else break e}}return ee}function s(I,ee){var me=I.sortIndex-ee.sortIndex;return me!==0?me:I.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var d=[],h=[],m=1,y=null,b=3,v=!1,S=!1,E=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function $(I){for(var ee=n(h);ee!==null;){if(ee.callback===null)i(h);else if(ee.startTime<=I)i(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(h)}}function H(I){if(E=!1,$(I),!S)if(n(d)!==null)S=!0,q||(q=!0,Te());else{var ee=n(h);ee!==null&&Se(H,ee.startTime-I)}}var q=!1,P=-1,K=5,X=-1;function fe(){return T?!0:!(t.unstable_now()-X<K)}function oe(){if(T=!1,q){var I=t.unstable_now();X=I;var ee=!0;try{e:{S=!1,E&&(E=!1,_(P),P=-1),v=!0;var me=b;try{t:{for($(I),y=n(d);y!==null&&!(y.expirationTime>I&&fe());){var Be=y.callback;if(typeof Be=="function"){y.callback=null,b=y.priorityLevel;var He=Be(y.expirationTime<=I);if(I=t.unstable_now(),typeof He=="function"){y.callback=He,$(I),ee=!0;break t}y===n(d)&&i(d),$(I)}else i(d);y=n(d)}if(y!==null)ee=!0;else{var k=n(h);k!==null&&Se(H,k.startTime-I),ee=!1}}break e}finally{y=null,b=me,v=!1}ee=void 0}}finally{ee?Te():q=!1}}}var Te;if(typeof j=="function")Te=function(){j(oe)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=oe,Te=function(){de.postMessage(null)}}else Te=function(){A(oe,0)};function Se(I,ee){P=A(function(){I(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(I){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var me=b;b=ee;try{return I()}finally{b=me}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(I,ee){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var me=b;b=I;try{return ee()}finally{b=me}},t.unstable_scheduleCallback=function(I,ee,me){var Be=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,I){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=me+He,I={id:m++,callback:ee,priorityLevel:I,startTime:me,expirationTime:He,sortIndex:-1},me>Be?(I.sortIndex=me,e(h,I),n(d)===null&&I===n(h)&&(E?(_(P),P=-1):E=!0,Se(H,me-Be))):(I.sortIndex=He,e(d,I),S||v||(S=!0,q||(q=!0,Te()))),I},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(I){var ee=b;return function(){var me=b;b=ee;try{return I.apply(this,arguments)}finally{b=me}}}})(tp)),tp}var yv;function nA(){return yv||(yv=1,ep.exports=tA()),ep.exports}var np={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function rA(){if(bv)return Pt;bv=1;var t=Oa();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Pt.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},Pt.flushSync=function(d){var h=u.T,m=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=h,i.p=m,i.d.f()}},Pt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Pt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Pt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):m==="script"&&i.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Pt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Pt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Pt.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Pt.requestFormReset=function(d){i.d.r(d)},Pt.unstable_batchedUpdates=function(d,h){return d(h)},Pt.useFormState=function(d,h,m){return u.H.useFormState(d,h,m)},Pt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pt.version="19.2.3",Pt}var vv;function C1(){if(vv)return np.exports;vv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),np.exports=rA(),np.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function iA(){if(xv)return $o;xv=1;var t=nA(),e=Oa(),n=C1();function i(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)l+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,a=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(a=l.return),r=l.return;while(r)}return l.tag===3?a:null}function u(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function c(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function h(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(i(188));return l!==r?null:r}for(var a=r,f=l;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(f=p.return,f!==null){a=f;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return d(p),r;if(g===f)return d(p),l;g=g.sibling}throw Error(i(188))}if(a.return!==f.return)a=p,f=g;else{for(var x=!1,C=p.child;C;){if(C===a){x=!0,a=p,f=g;break}if(C===f){x=!0,f=p,a=g;break}C=C.sibling}if(!x){for(C=g.child;C;){if(C===a){x=!0,a=g,f=p;break}if(C===f){x=!0,f=g,a=p;break}C=C.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==f)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:l}function m(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=m(r),l!==null)return l;r=r.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function Te(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var te=Symbol.for("react.client.reference");function de(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===te?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case q:return"SuspenseList";case X:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case j:return r.displayName||"Context";case _:return(r._context.displayName||"Context")+".Consumer";case $:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return l=r.displayName||null,l!==null?l:de(r.type)||"Memo";case K:l=r._payload,r=r._init;try{return de(r(l))}catch{}}return null}var Se=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],He=-1;function k(r){return{current:r}}function Y(r){0>He||(r.current=Be[He],Be[He]=null,He--)}function Z(r,l){He++,Be[He]=r.current,r.current=l}var ie=k(null),se=k(null),ve=k(null),_e=k(null);function lt(r,l){switch(Z(ve,l),Z(se,r),Z(ie,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?zb(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=zb(l),r=jb(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Y(ie),Z(ie,r)}function We(){Y(ie),Y(se),Y(ve)}function gr(r){r.memoizedState!==null&&Z(_e,r);var l=ie.current,a=jb(l,r.type);l!==a&&(Z(se,r),Z(ie,a))}function Ji(r){se.current===r&&(Y(ie),Y(se)),_e.current===r&&(Y(_e),Io._currentValue=me)}var Bl,yr;function Tn(r){if(Bl===void 0)try{throw Error()}catch(a){var l=a.stack.trim().match(/\n( *(at )?)/);Bl=l&&l[1]||"",yr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bl+r+yr}var $n=!1;function Xi(r,l){if(!r||$n)return"";$n=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(U){var B=U}Reflect.construct(r,[],F)}else{try{F.call()}catch(U){B=U}r.call(F.prototype)}}else{try{throw Error()}catch(U){B=U}(F=r())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(U){if(U&&B&&typeof U.stack=="string")return[U.stack,B.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),x=g[0],C=g[1];if(x&&C){var w=x.split(`
`),z=C.split(`
`);for(p=f=0;f<w.length&&!w[f].includes("DetermineComponentFrameRoot");)f++;for(;p<z.length&&!z[p].includes("DetermineComponentFrameRoot");)p++;if(f===w.length||p===z.length)for(f=w.length-1,p=z.length-1;1<=f&&0<=p&&w[f]!==z[p];)p--;for(;1<=f&&0<=p;f--,p--)if(w[f]!==z[p]){if(f!==1||p!==1)do if(f--,p--,0>p||w[f]!==z[p]){var V=`
`+w[f].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=f&&0<=p);break}}}finally{$n=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Tn(a):""}function qs(r,l){switch(r.tag){case 26:case 27:case 5:return Tn(r.type);case 16:return Tn("Lazy");case 13:return r.child!==l&&l!==null?Tn("Suspense Fallback"):Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 15:return Xi(r.type,!1);case 11:return Xi(r.type.render,!1);case 1:return Xi(r.type,!0);case 31:return Tn("Activity");default:return""}}function br(r){try{var l="",a=null;do l+=qs(r,a),a=r,r=r.return;while(r);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Zr=Object.prototype.hasOwnProperty,ei=t.unstable_scheduleCallback,Hl=t.unstable_cancelCallback,Ha=t.unstable_shouldYield,Vf=t.unstable_requestPaint,Rt=t.unstable_now,Qi=t.unstable_getCurrentPriorityLevel,vr=t.unstable_ImmediatePriority,fn=t.unstable_UserBlockingPriority,ti=t.unstable_NormalPriority,Ua=t.unstable_LowPriority,Gs=t.unstable_IdlePriority,$s=t.log,Ia=t.unstable_setDisableYieldValue,er=null,Mt=null;function At(r){if(typeof $s=="function"&&Ia(r),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(er,r)}catch{}}var pt=Math.clz32?Math.clz32:qf,Fs=Math.log,Ys=Math.LN2;function qf(r){return r>>>=0,r===0?32:31-(Fs(r)/Ys|0)|0}var xr=256,Sr=262144,Ul=4194304;function dn(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Il(r,l,a){var f=r.pendingLanes;if(f===0)return 0;var p=0,g=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var C=f&134217727;return C!==0?(f=C&~g,f!==0?p=dn(f):(x&=C,x!==0?p=dn(x):a||(a=C&~r,a!==0&&(p=dn(a))))):(C=f&~g,C!==0?p=dn(C):x!==0?p=dn(x):a||(a=f&~r,a!==0&&(p=dn(a)))),p===0?0:l!==0&&l!==p&&(l&g)===0&&(g=p&-p,a=l&-l,g>=a||g===32&&(a&4194048)!==0)?l:p}function Wi(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function ct(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(){var r=Ul;return Ul<<=1,(Ul&62914560)===0&&(Ul=4194304),r}function Ks(r){for(var l=[],a=0;31>a;a++)l.push(r);return l}function ni(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Js(r,l,a,f,p,g){var x=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var C=r.entanglements,w=r.expirationTimes,z=r.hiddenUpdates;for(a=x&~a;0<a;){var V=31-pt(a),F=1<<V;C[V]=0,w[V]=-1;var B=z[V];if(B!==null)for(z[V]=null,V=0;V<B.length;V++){var U=B[V];U!==null&&(U.lane&=-536870913)}a&=~F}f!==0&&Xs(r,f,0),g!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=g&~(x&~l))}function Xs(r,l,a){r.pendingLanes|=l,r.suspendedLanes&=~l;var f=31-pt(l);r.entangledLanes|=l,r.entanglements[f]=r.entanglements[f]|1073741824|a&261930}function Qs(r,l){var a=r.entangledLanes|=l;for(r=r.entanglements;a;){var f=31-pt(a),p=1<<f;p&l|r[f]&l&&(r[f]|=l),a&=~p}}function Pa(r,l){var a=l&-l;return a=(a&42)!==0?1:Zt(a),(a&(r.suspendedLanes|l))!==0?0:a}function Zt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Fn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ws(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:lv(r.type))}function Zs(r,l){var a=ee.p;try{return ee.p=r,l()}finally{ee.p=a}}var Cn=Math.random().toString(36).slice(2),mt="__reactFiber$"+Cn,Ze="__reactProps$"+Cn,Tr="__reactContainer$"+Cn,Pl="__reactEvents$"+Cn,Va="__reactListeners$"+Cn,qa="__reactHandles$"+Cn,Ga="__reactResources$"+Cn,ae="__reactMarker$"+Cn;function N(r){delete r[mt],delete r[Ze],delete r[Pl],delete r[Va],delete r[qa]}function Q(r){var l=r[mt];if(l)return l;for(var a=r.parentNode;a;){if(l=a[Tr]||a[mt]){if(a=l.alternate,l.child!==null||a!==null&&a.child!==null)for(r=qb(r);r!==null;){if(a=r[mt])return a;r=qb(r)}return l}r=a,a=r.parentNode}return null}function re(r){if(r=r[mt]||r[Tr]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function Ue(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(i(33))}function tt(r){var l=r[Ga];return l||(l=r[Ga]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ae(r){r[ae]=!0}var Dt=new Set,Mn={};function en(r,l){tr(r,l),tr(r+"Capture",l)}function tr(r,l){for(Mn[r]=l,r=0;r<l.length;r++)Dt.add(l[r])}var Et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eo={},to={};function GT(r){return Zr.call(to,r)?!0:Zr.call(eo,r)?!1:Et.test(r)?to[r]=!0:(eo[r]=!0,!1)}function $a(r,l,a){if(GT(l))if(a===null)r.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+a)}}function Fa(r,l,a){if(a===null)r.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+a)}}function Cr(r,l,a,f){if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(l,a,""+f)}}function An(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wg(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function $T(r,l,a){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var p=f.get,g=f.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return p.call(this)},set:function(x){a=""+x,g.call(this,x)}}),Object.defineProperty(r,l,{enumerable:f.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Gf(r){if(!r._valueTracker){var l=wg(r)?"checked":"value";r._valueTracker=$T(r,l,""+r[l])}}function kg(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var a=l.getValue(),f="";return r&&(f=wg(r)?r.checked?"true":"false":r.value),r=f,r!==a?(l.setValue(r),!0):!1}function Ya(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var FT=/[\n"\\]/g;function wn(r){return r.replace(FT,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function $f(r,l,a,f,p,g,x,C){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),l!=null?x==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+An(l)):r.value!==""+An(l)&&(r.value=""+An(l)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),l!=null?Ff(r,x,An(l)):a!=null?Ff(r,x,An(a)):f!=null&&r.removeAttribute("value"),p==null&&g!=null&&(r.defaultChecked=!!g),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+An(C):r.removeAttribute("name")}function Ng(r,l,a,f,p,g,x,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),l!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||l!=null)){Gf(r);return}a=a!=null?""+An(a):"",l=l!=null?""+An(l):a,C||l===r.value||(r.value=l),r.defaultValue=l}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=C?r.checked:!!f,r.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x),Gf(r)}function Ff(r,l,a){l==="number"&&Ya(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Vl(r,l,a,f){if(r=r.options,l){l={};for(var p=0;p<a.length;p++)l["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=l.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&f&&(r[a].defaultSelected=!0)}else{for(a=""+An(a),l=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}l!==null||r[p].disabled||(l=r[p])}l!==null&&(l.selected=!0)}}function Og(r,l,a){if(l!=null&&(l=""+An(l),l!==r.value&&(r.value=l),a==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=a!=null?""+An(a):""}function Rg(r,l,a,f){if(l==null){if(f!=null){if(a!=null)throw Error(i(92));if(Se(f)){if(1<f.length)throw Error(i(93));f=f[0]}a=f}a==null&&(a=""),l=a}a=An(l),r.defaultValue=a,f=r.textContent,f===a&&f!==""&&f!==null&&(r.value=f),Gf(r)}function ql(r,l){if(l){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=l;return}}r.textContent=l}var YT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dg(r,l,a){var f=l.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?f?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":f?r.setProperty(l,a):typeof a!="number"||a===0||YT.has(l)?l==="float"?r.cssFloat=a:r[l]=(""+a).trim():r[l]=a+"px"}function _g(r,l,a){if(l!=null&&typeof l!="object")throw Error(i(62));if(r=r.style,a!=null){for(var f in a)!a.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var p in l)f=l[p],l.hasOwnProperty(p)&&a[p]!==f&&Dg(r,p,f)}else for(var g in l)l.hasOwnProperty(g)&&Dg(r,g,l[g])}function Yf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),JT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(r){return JT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Mr(){}var Kf=null;function Jf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gl=null,$l=null;function Lg(r){var l=re(r);if(l&&(r=l.stateNode)){var a=r[Ze]||null;e:switch(r=l.stateNode,l.type){case"input":if($f(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),l=a.name,a.type==="radio"&&l!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wn(""+l)+'"][type="radio"]'),l=0;l<a.length;l++){var f=a[l];if(f!==r&&f.form===r.form){var p=f[Ze]||null;if(!p)throw Error(i(90));$f(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<a.length;l++)f=a[l],f.form===r.form&&kg(f)}break e;case"textarea":Og(r,a.value,a.defaultValue);break e;case"select":l=a.value,l!=null&&Vl(r,!!a.multiple,l,!1)}}}var Xf=!1;function zg(r,l,a){if(Xf)return r(l,a);Xf=!0;try{var f=r(l);return f}finally{if(Xf=!1,(Gl!==null||$l!==null)&&(zu(),Gl&&(l=Gl,r=$l,$l=Gl=null,Lg(l),r)))for(l=0;l<r.length;l++)Lg(r[l])}}function no(r,l){var a=r.stateNode;if(a===null)return null;var f=a[Ze]||null;if(f===null)return null;a=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,l,typeof a));return a}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qf=!1;if(Ar)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Qf=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Qf=!1}var ri=null,Wf=null,Ja=null;function jg(){if(Ja)return Ja;var r,l=Wf,a=l.length,f,p="value"in ri?ri.value:ri.textContent,g=p.length;for(r=0;r<a&&l[r]===p[r];r++);var x=a-r;for(f=1;f<=x&&l[a-f]===p[g-f];f++);return Ja=p.slice(r,1<f?1-f:void 0)}function Xa(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function Qa(){return!0}function Bg(){return!1}function tn(r){function l(a,f,p,g,x){this._reactName=a,this._targetInst=p,this.type=f,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Qa:Bg,this.isPropagationStopped=Bg,this}return y(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),l}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=tn(Zi),io=y({},Zi,{view:0,detail:0}),XT=tn(io),Zf,ed,lo,Za=y({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==lo&&(lo&&r.type==="mousemove"?(Zf=r.screenX-lo.screenX,ed=r.screenY-lo.screenY):ed=Zf=0,lo=r),Zf)},movementY:function(r){return"movementY"in r?r.movementY:ed}}),Hg=tn(Za),QT=y({},Za,{dataTransfer:0}),WT=tn(QT),ZT=y({},io,{relatedTarget:0}),td=tn(ZT),eC=y({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),tC=tn(eC),nC=y({},Zi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rC=tn(nC),iC=y({},Zi,{data:0}),Ug=tn(iC),lC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aC(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=oC[r])?!!l[r]:!1}function nd(){return aC}var uC=y({},io,{key:function(r){if(r.key){var l=lC[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=Xa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(r){return r.type==="keypress"?Xa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),cC=tn(uC),fC=y({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ig=tn(fC),dC=y({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),hC=tn(dC),pC=y({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),mC=tn(pC),gC=y({},Za,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yC=tn(gC),bC=y({},Zi,{newState:0,oldState:0}),vC=tn(bC),xC=[9,13,27,32],rd=Ar&&"CompositionEvent"in window,so=null;Ar&&"documentMode"in document&&(so=document.documentMode);var SC=Ar&&"TextEvent"in window&&!so,Pg=Ar&&(!rd||so&&8<so&&11>=so),Vg=" ",qg=!1;function Gg(r,l){switch(r){case"keyup":return xC.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $g(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fl=!1;function EC(r,l){switch(r){case"compositionend":return $g(l);case"keypress":return l.which!==32?null:(qg=!0,Vg);case"textInput":return r=l.data,r===Vg&&qg?null:r;default:return null}}function TC(r,l){if(Fl)return r==="compositionend"||!rd&&Gg(r,l)?(r=jg(),Ja=Wf=ri=null,Fl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Pg&&l.locale!=="ko"?null:l.data;default:return null}}var CC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!CC[r.type]:l==="textarea"}function Yg(r,l,a,f){Gl?$l?$l.push(f):$l=[f]:Gl=f,l=Vu(l,"onChange"),0<l.length&&(a=new Wa("onChange","change",null,a,f),r.push({event:a,listeners:l}))}var oo=null,ao=null;function MC(r){Nb(r,0)}function eu(r){var l=Ue(r);if(kg(l))return r}function Kg(r,l){if(r==="change")return l}var Jg=!1;if(Ar){var id;if(Ar){var ld="oninput"in document;if(!ld){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),ld=typeof Xg.oninput=="function"}id=ld}else id=!1;Jg=id&&(!document.documentMode||9<document.documentMode)}function Qg(){oo&&(oo.detachEvent("onpropertychange",Wg),ao=oo=null)}function Wg(r){if(r.propertyName==="value"&&eu(ao)){var l=[];Yg(l,ao,r,Jf(r)),zg(MC,l)}}function AC(r,l,a){r==="focusin"?(Qg(),oo=l,ao=a,oo.attachEvent("onpropertychange",Wg)):r==="focusout"&&Qg()}function wC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return eu(ao)}function kC(r,l){if(r==="click")return eu(l)}function NC(r,l){if(r==="input"||r==="change")return eu(l)}function OC(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var hn=typeof Object.is=="function"?Object.is:OC;function uo(r,l){if(hn(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var a=Object.keys(r),f=Object.keys(l);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var p=a[f];if(!Zr.call(l,p)||!hn(r[p],l[p]))return!1}return!0}function Zg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ey(r,l){var a=Zg(r);r=0;for(var f;a;){if(a.nodeType===3){if(f=r+a.textContent.length,r<=l&&f>=l)return{node:a,offset:l-r};r=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zg(a)}}function ty(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?ty(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function ny(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=Ya(r.document);l instanceof r.HTMLIFrameElement;){try{var a=typeof l.contentWindow.location.href=="string"}catch{a=!1}if(a)r=l.contentWindow;else break;l=Ya(r.document)}return l}function sd(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var RC=Ar&&"documentMode"in document&&11>=document.documentMode,Yl=null,od=null,co=null,ad=!1;function ry(r,l,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ad||Yl==null||Yl!==Ya(f)||(f=Yl,"selectionStart"in f&&sd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),co&&uo(co,f)||(co=f,f=Vu(od,"onSelect"),0<f.length&&(l=new Wa("onSelect","select",null,l,a),r.push({event:l,listeners:f}),l.target=Yl)))}function el(r,l){var a={};return a[r.toLowerCase()]=l.toLowerCase(),a["Webkit"+r]="webkit"+l,a["Moz"+r]="moz"+l,a}var Kl={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionrun:el("Transition","TransitionRun"),transitionstart:el("Transition","TransitionStart"),transitioncancel:el("Transition","TransitionCancel"),transitionend:el("Transition","TransitionEnd")},ud={},iy={};Ar&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function tl(r){if(ud[r])return ud[r];if(!Kl[r])return r;var l=Kl[r],a;for(a in l)if(l.hasOwnProperty(a)&&a in iy)return ud[r]=l[a];return r}var ly=tl("animationend"),sy=tl("animationiteration"),oy=tl("animationstart"),DC=tl("transitionrun"),_C=tl("transitionstart"),LC=tl("transitioncancel"),ay=tl("transitionend"),uy=new Map,cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cd.push("scrollEnd");function Yn(r,l){uy.set(r,l),en(l,[r])}var tu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},kn=[],Jl=0,fd=0;function nu(){for(var r=Jl,l=fd=Jl=0;l<r;){var a=kn[l];kn[l++]=null;var f=kn[l];kn[l++]=null;var p=kn[l];kn[l++]=null;var g=kn[l];if(kn[l++]=null,f!==null&&p!==null){var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}g!==0&&cy(a,p,g)}}function ru(r,l,a,f){kn[Jl++]=r,kn[Jl++]=l,kn[Jl++]=a,kn[Jl++]=f,fd|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function dd(r,l,a,f){return ru(r,l,a,f),iu(r)}function nl(r,l){return ru(r,null,null,l),iu(r)}function cy(r,l,a){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a);for(var p=!1,g=r.return;g!==null;)g.childLanes|=a,f=g.alternate,f!==null&&(f.childLanes|=a),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(p=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,p&&l!==null&&(p=31-pt(a),r=g.hiddenUpdates,f=r[p],f===null?r[p]=[l]:f.push(l),l.lane=a|536870912),g):null}function iu(r){if(50<_o)throw _o=0,Sh=null,Error(i(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var Xl={};function zC(r,l,a,f){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(r,l,a,f){return new zC(r,l,a,f)}function hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wr(r,l){var a=r.alternate;return a===null?(a=pn(r.tag,l,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=l,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,l=r.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function fy(r,l){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,l=a.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function lu(r,l,a,f,p,g){var x=0;if(f=r,typeof r=="function")hd(r)&&(x=1);else if(typeof r=="string")x=IM(r,a,ie.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case X:return r=pn(31,a,l,p),r.elementType=X,r.lanes=g,r;case E:return rl(a.children,p,g,l);case T:x=8,p|=24;break;case A:return r=pn(12,a,l,p|2),r.elementType=A,r.lanes=g,r;case H:return r=pn(13,a,l,p),r.elementType=H,r.lanes=g,r;case q:return r=pn(19,a,l,p),r.elementType=q,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:x=10;break e;case _:x=9;break e;case $:x=11;break e;case P:x=14;break e;case K:x=16,f=null;break e}x=29,a=Error(i(130,r===null?"null":typeof r,"")),f=null}return l=pn(x,a,l,p),l.elementType=r,l.type=f,l.lanes=g,l}function rl(r,l,a,f){return r=pn(7,r,f,l),r.lanes=a,r}function pd(r,l,a){return r=pn(6,r,null,l),r.lanes=a,r}function dy(r){var l=pn(18,null,null,0);return l.stateNode=r,l}function md(r,l,a){return l=pn(4,r.children!==null?r.children:[],r.key,l),l.lanes=a,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var hy=new WeakMap;function Nn(r,l){if(typeof r=="object"&&r!==null){var a=hy.get(r);return a!==void 0?a:(l={value:r,source:l,stack:br(l)},hy.set(r,l),l)}return{value:r,source:l,stack:br(l)}}var Ql=[],Wl=0,su=null,fo=0,On=[],Rn=0,ii=null,nr=1,rr="";function kr(r,l){Ql[Wl++]=fo,Ql[Wl++]=su,su=r,fo=l}function py(r,l,a){On[Rn++]=nr,On[Rn++]=rr,On[Rn++]=ii,ii=r;var f=nr;r=rr;var p=32-pt(f)-1;f&=~(1<<p),a+=1;var g=32-pt(l)+p;if(30<g){var x=p-p%5;g=(f&(1<<x)-1).toString(32),f>>=x,p-=x,nr=1<<32-pt(l)+p|a<<p|f,rr=g+r}else nr=1<<g|a<<p|f,rr=r}function gd(r){r.return!==null&&(kr(r,1),py(r,1,0))}function yd(r){for(;r===su;)su=Ql[--Wl],Ql[Wl]=null,fo=Ql[--Wl],Ql[Wl]=null;for(;r===ii;)ii=On[--Rn],On[Rn]=null,rr=On[--Rn],On[Rn]=null,nr=On[--Rn],On[Rn]=null}function my(r,l){On[Rn++]=nr,On[Rn++]=rr,On[Rn++]=ii,nr=l.id,rr=l.overflow,ii=r}var _t=null,Je=null,De=!1,li=null,Dn=!1,bd=Error(i(519));function si(r){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ho(Nn(l,r)),bd}function gy(r){var l=r.stateNode,a=r.type,f=r.memoizedProps;switch(l[mt]=r,l[Ze]=f,a){case"dialog":Ne("cancel",l),Ne("close",l);break;case"iframe":case"object":case"embed":Ne("load",l);break;case"video":case"audio":for(a=0;a<zo.length;a++)Ne(zo[a],l);break;case"source":Ne("error",l);break;case"img":case"image":case"link":Ne("error",l),Ne("load",l);break;case"details":Ne("toggle",l);break;case"input":Ne("invalid",l),Ng(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ne("invalid",l);break;case"textarea":Ne("invalid",l),Rg(l,f.value,f.defaultValue,f.children)}a=f.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||l.textContent===""+a||f.suppressHydrationWarning===!0||_b(l.textContent,a)?(f.popover!=null&&(Ne("beforetoggle",l),Ne("toggle",l)),f.onScroll!=null&&Ne("scroll",l),f.onScrollEnd!=null&&Ne("scrollend",l),f.onClick!=null&&(l.onclick=Mr),l=!0):l=!1,l||si(r,!0)}function yy(r){for(_t=r.return;_t;)switch(_t.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:_t=_t.return}}function Zl(r){if(r!==_t)return!1;if(!De)return yy(r),De=!0,!1;var l=r.tag,a;if((a=l!==3&&l!==27)&&((a=l===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||jh(r.type,r.memoizedProps)),a=!a),a&&Je&&si(r),yy(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Je=Vb(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Je=Vb(r)}else l===27?(l=Je,xi(r.type)?(r=Ph,Ph=null,Je=r):Je=l):Je=_t?Ln(r.stateNode.nextSibling):null;return!0}function il(){Je=_t=null,De=!1}function vd(){var r=li;return r!==null&&(sn===null?sn=r:sn.push.apply(sn,r),li=null),r}function ho(r){li===null?li=[r]:li.push(r)}var xd=k(null),ll=null,Nr=null;function oi(r,l,a){Z(xd,l._currentValue),l._currentValue=a}function Or(r){r._currentValue=xd.current,Y(xd)}function Sd(r,l,a){for(;r!==null;){var f=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),r===a)break;r=r.return}}function Ed(r,l,a,f){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var g=p.dependencies;if(g!==null){var x=p.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=p;for(var w=0;w<l.length;w++)if(C.context===l[w]){g.lanes|=a,C=g.alternate,C!==null&&(C.lanes|=a),Sd(g.return,a,r),f||(x=null);break e}g=C.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(i(341));x.lanes|=a,g=x.alternate,g!==null&&(g.lanes|=a),Sd(x,a,r),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===r){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function es(r,l,a,f){r=null;for(var p=l,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var C=p.type;hn(p.pendingProps.value,x.value)||(r!==null?r.push(C):r=[C])}}else if(p===_e.current){if(x=p.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Io):r=[Io])}p=p.return}r!==null&&Ed(l,r,a,f),l.flags|=262144}function ou(r){for(r=r.firstContext;r!==null;){if(!hn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function sl(r){ll=r,Nr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Lt(r){return by(ll,r)}function au(r,l){return ll===null&&sl(r),by(r,l)}function by(r,l){var a=l._currentValue;if(l={context:l,memoizedValue:a,next:null},Nr===null){if(r===null)throw Error(i(308));Nr=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else Nr=Nr.next=l;return a}var jC=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(a,f){r.push(f)}};this.abort=function(){l.aborted=!0,r.forEach(function(a){return a()})}},BC=t.unstable_scheduleCallback,HC=t.unstable_NormalPriority,gt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Td(){return{controller:new jC,data:new Map,refCount:0}}function po(r){r.refCount--,r.refCount===0&&BC(HC,function(){r.controller.abort()})}var mo=null,Cd=0,ts=0,ns=null;function UC(r,l){if(mo===null){var a=mo=[];Cd=0,ts=wh(),ns={status:"pending",value:void 0,then:function(f){a.push(f)}}}return Cd++,l.then(vy,vy),l}function vy(){if(--Cd===0&&mo!==null){ns!==null&&(ns.status="fulfilled");var r=mo;mo=null,ts=0,ns=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function IC(r,l){var a=[],f={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return r.then(function(){f.status="fulfilled",f.value=l;for(var p=0;p<a.length;p++)(0,a[p])(l)},function(p){for(f.status="rejected",f.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),f}var xy=I.S;I.S=function(r,l){rb=Rt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&UC(r,l),xy!==null&&xy(r,l)};var ol=k(null);function Md(){var r=ol.current;return r!==null?r:Ye.pooledCache}function uu(r,l){l===null?Z(ol,ol.current):Z(ol,l.pool)}function Sy(){var r=Md();return r===null?null:{parent:gt._currentValue,pool:r}}var rs=Error(i(460)),Ad=Error(i(474)),cu=Error(i(542)),fu={then:function(){}};function Ey(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ty(r,l,a){switch(a=r[a],a===void 0?r.push(l):a!==l&&(l.then(Mr,Mr),l=a),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,My(r),r;default:if(typeof l.status=="string")l.then(Mr,Mr);else{if(r=Ye,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=l,r.status="pending",r.then(function(f){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=f}},function(f){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,My(r),r}throw ul=l,rs}}function al(r){try{var l=r._init;return l(r._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ul=a,rs):a}}var ul=null;function Cy(){if(ul===null)throw Error(i(459));var r=ul;return ul=null,r}function My(r){if(r===rs||r===cu)throw Error(i(483))}var is=null,go=0;function du(r){var l=go;return go+=1,is===null&&(is=[]),Ty(is,r,l)}function yo(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function hu(r,l){throw l.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(l),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Ay(r){function l(D,O){if(r){var L=D.deletions;L===null?(D.deletions=[O],D.flags|=16):L.push(O)}}function a(D,O){if(!r)return null;for(;O!==null;)l(D,O),O=O.sibling;return null}function f(D){for(var O=new Map;D!==null;)D.key!==null?O.set(D.key,D):O.set(D.index,D),D=D.sibling;return O}function p(D,O){return D=wr(D,O),D.index=0,D.sibling=null,D}function g(D,O,L){return D.index=L,r?(L=D.alternate,L!==null?(L=L.index,L<O?(D.flags|=67108866,O):L):(D.flags|=67108866,O)):(D.flags|=1048576,O)}function x(D){return r&&D.alternate===null&&(D.flags|=67108866),D}function C(D,O,L,G){return O===null||O.tag!==6?(O=pd(L,D.mode,G),O.return=D,O):(O=p(O,L),O.return=D,O)}function w(D,O,L,G){var he=L.type;return he===E?V(D,O,L.props.children,G,L.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===K&&al(he)===O.type)?(O=p(O,L.props),yo(O,L),O.return=D,O):(O=lu(L.type,L.key,L.props,null,D.mode,G),yo(O,L),O.return=D,O)}function z(D,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=md(L,D.mode,G),O.return=D,O):(O=p(O,L.children||[]),O.return=D,O)}function V(D,O,L,G,he){return O===null||O.tag!==7?(O=rl(L,D.mode,G,he),O.return=D,O):(O=p(O,L),O.return=D,O)}function F(D,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=pd(""+O,D.mode,L),O.return=D,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return L=lu(O.type,O.key,O.props,null,D.mode,L),yo(L,O),L.return=D,L;case S:return O=md(O,D.mode,L),O.return=D,O;case K:return O=al(O),F(D,O,L)}if(Se(O)||Te(O))return O=rl(O,D.mode,L,null),O.return=D,O;if(typeof O.then=="function")return F(D,du(O),L);if(O.$$typeof===j)return F(D,au(D,O),L);hu(D,O)}return null}function B(D,O,L,G){var he=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return he!==null?null:C(D,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case v:return L.key===he?w(D,O,L,G):null;case S:return L.key===he?z(D,O,L,G):null;case K:return L=al(L),B(D,O,L,G)}if(Se(L)||Te(L))return he!==null?null:V(D,O,L,G,null);if(typeof L.then=="function")return B(D,O,du(L),G);if(L.$$typeof===j)return B(D,O,au(D,L),G);hu(D,L)}return null}function U(D,O,L,G,he){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return D=D.get(L)||null,C(O,D,""+G,he);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return D=D.get(G.key===null?L:G.key)||null,w(O,D,G,he);case S:return D=D.get(G.key===null?L:G.key)||null,z(O,D,G,he);case K:return G=al(G),U(D,O,L,G,he)}if(Se(G)||Te(G))return D=D.get(L)||null,V(O,D,G,he,null);if(typeof G.then=="function")return U(D,O,L,du(G),he);if(G.$$typeof===j)return U(D,O,L,au(O,G),he);hu(O,G)}return null}function le(D,O,L,G){for(var he=null,Le=null,ue=O,Ee=O=0,Re=null;ue!==null&&Ee<L.length;Ee++){ue.index>Ee?(Re=ue,ue=null):Re=ue.sibling;var ze=B(D,ue,L[Ee],G);if(ze===null){ue===null&&(ue=Re);break}r&&ue&&ze.alternate===null&&l(D,ue),O=g(ze,O,Ee),Le===null?he=ze:Le.sibling=ze,Le=ze,ue=Re}if(Ee===L.length)return a(D,ue),De&&kr(D,Ee),he;if(ue===null){for(;Ee<L.length;Ee++)ue=F(D,L[Ee],G),ue!==null&&(O=g(ue,O,Ee),Le===null?he=ue:Le.sibling=ue,Le=ue);return De&&kr(D,Ee),he}for(ue=f(ue);Ee<L.length;Ee++)Re=U(ue,D,Ee,L[Ee],G),Re!==null&&(r&&Re.alternate!==null&&ue.delete(Re.key===null?Ee:Re.key),O=g(Re,O,Ee),Le===null?he=Re:Le.sibling=Re,Le=Re);return r&&ue.forEach(function(Mi){return l(D,Mi)}),De&&kr(D,Ee),he}function ge(D,O,L,G){if(L==null)throw Error(i(151));for(var he=null,Le=null,ue=O,Ee=O=0,Re=null,ze=L.next();ue!==null&&!ze.done;Ee++,ze=L.next()){ue.index>Ee?(Re=ue,ue=null):Re=ue.sibling;var Mi=B(D,ue,ze.value,G);if(Mi===null){ue===null&&(ue=Re);break}r&&ue&&Mi.alternate===null&&l(D,ue),O=g(Mi,O,Ee),Le===null?he=Mi:Le.sibling=Mi,Le=Mi,ue=Re}if(ze.done)return a(D,ue),De&&kr(D,Ee),he;if(ue===null){for(;!ze.done;Ee++,ze=L.next())ze=F(D,ze.value,G),ze!==null&&(O=g(ze,O,Ee),Le===null?he=ze:Le.sibling=ze,Le=ze);return De&&kr(D,Ee),he}for(ue=f(ue);!ze.done;Ee++,ze=L.next())ze=U(ue,D,Ee,ze.value,G),ze!==null&&(r&&ze.alternate!==null&&ue.delete(ze.key===null?Ee:ze.key),O=g(ze,O,Ee),Le===null?he=ze:Le.sibling=ze,Le=ze);return r&&ue.forEach(function(QM){return l(D,QM)}),De&&kr(D,Ee),he}function $e(D,O,L,G){if(typeof L=="object"&&L!==null&&L.type===E&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case v:e:{for(var he=L.key;O!==null;){if(O.key===he){if(he=L.type,he===E){if(O.tag===7){a(D,O.sibling),G=p(O,L.props.children),G.return=D,D=G;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===K&&al(he)===O.type){a(D,O.sibling),G=p(O,L.props),yo(G,L),G.return=D,D=G;break e}a(D,O);break}else l(D,O);O=O.sibling}L.type===E?(G=rl(L.props.children,D.mode,G,L.key),G.return=D,D=G):(G=lu(L.type,L.key,L.props,null,D.mode,G),yo(G,L),G.return=D,D=G)}return x(D);case S:e:{for(he=L.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(D,O.sibling),G=p(O,L.children||[]),G.return=D,D=G;break e}else{a(D,O);break}else l(D,O);O=O.sibling}G=md(L,D.mode,G),G.return=D,D=G}return x(D);case K:return L=al(L),$e(D,O,L,G)}if(Se(L))return le(D,O,L,G);if(Te(L)){if(he=Te(L),typeof he!="function")throw Error(i(150));return L=he.call(L),ge(D,O,L,G)}if(typeof L.then=="function")return $e(D,O,du(L),G);if(L.$$typeof===j)return $e(D,O,au(D,L),G);hu(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(D,O.sibling),G=p(O,L),G.return=D,D=G):(a(D,O),G=pd(L,D.mode,G),G.return=D,D=G),x(D)):a(D,O)}return function(D,O,L,G){try{go=0;var he=$e(D,O,L,G);return is=null,he}catch(ue){if(ue===rs||ue===cu)throw ue;var Le=pn(29,ue,null,D.mode);return Le.lanes=G,Le.return=D,Le}finally{}}}var cl=Ay(!0),wy=Ay(!1),ai=!1;function wd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ui(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ci(r,l,a){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(je&2)!==0){var p=f.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),f.pending=l,l=iu(r),cy(r,null,a),l}return ru(r,f,l,a),iu(r)}function bo(r,l,a){if(l=l.updateQueue,l!==null&&(l=l.shared,(a&4194048)!==0)){var f=l.lanes;f&=r.pendingLanes,a|=f,l.lanes=a,Qs(r,a)}}function Nd(r,l){var a=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?p=g=l:g=g.next=l}else p=g=l;a={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=l:r.next=l,a.lastBaseUpdate=l}var Od=!1;function vo(){if(Od){var r=ns;if(r!==null)throw r}}function xo(r,l,a,f){Od=!1;var p=r.updateQueue;ai=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var w=C,z=w.next;w.next=null,x===null?g=z:x.next=z,x=w;var V=r.alternate;V!==null&&(V=V.updateQueue,C=V.lastBaseUpdate,C!==x&&(C===null?V.firstBaseUpdate=z:C.next=z,V.lastBaseUpdate=w))}if(g!==null){var F=p.baseState;x=0,V=z=w=null,C=g;do{var B=C.lane&-536870913,U=B!==C.lane;if(U?(Oe&B)===B:(f&B)===B){B!==0&&B===ts&&(Od=!0),V!==null&&(V=V.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var le=r,ge=C;B=l;var $e=a;switch(ge.tag){case 1:if(le=ge.payload,typeof le=="function"){F=le.call($e,F,B);break e}F=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ge.payload,B=typeof le=="function"?le.call($e,F,B):le,B==null)break e;F=y({},F,B);break e;case 2:ai=!0}}B=C.callback,B!==null&&(r.flags|=64,U&&(r.flags|=8192),U=p.callbacks,U===null?p.callbacks=[B]:U.push(B))}else U={lane:B,tag:C.tag,payload:C.payload,callback:C.callback,next:null},V===null?(z=V=U,w=F):V=V.next=U,x|=B;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;U=C,C=U.next,U.next=null,p.lastBaseUpdate=U,p.shared.pending=null}}while(!0);V===null&&(w=F),p.baseState=w,p.firstBaseUpdate=z,p.lastBaseUpdate=V,g===null&&(p.shared.lanes=0),mi|=x,r.lanes=x,r.memoizedState=F}}function ky(r,l){if(typeof r!="function")throw Error(i(191,r));r.call(l)}function Ny(r,l){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)ky(a[r],l)}var ls=k(null),pu=k(0);function Oy(r,l){r=Ur,Z(pu,r),Z(ls,l),Ur=r|l.baseLanes}function Rd(){Z(pu,Ur),Z(ls,ls.current)}function Dd(){Ur=pu.current,Y(ls),Y(pu)}var mn=k(null),_n=null;function fi(r){var l=r.alternate;Z(ft,ft.current&1),Z(mn,r),_n===null&&(l===null||ls.current!==null||l.memoizedState!==null)&&(_n=r)}function _d(r){Z(ft,ft.current),Z(mn,r),_n===null&&(_n=r)}function Ry(r){r.tag===22?(Z(ft,ft.current),Z(mn,r),_n===null&&(_n=r)):di()}function di(){Z(ft,ft.current),Z(mn,mn.current)}function gn(r){Y(mn),_n===r&&(_n=null),Y(ft)}var ft=k(0);function mu(r){for(var l=r;l!==null;){if(l.tag===13){var a=l.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Uh(a)||Ih(a)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Rr=0,xe=null,qe=null,yt=null,gu=!1,ss=!1,fl=!1,yu=0,So=0,as=null,PC=0;function st(){throw Error(i(321))}function Ld(r,l){if(l===null)return!1;for(var a=0;a<l.length&&a<r.length;a++)if(!hn(r[a],l[a]))return!1;return!0}function zd(r,l,a,f,p,g){return Rr=g,xe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,I.H=r===null||r.memoizedState===null?p0:Xd,fl=!1,g=a(f,p),fl=!1,ss&&(g=_y(l,a,f,p)),Dy(r),g}function Dy(r){I.H=Co;var l=qe!==null&&qe.next!==null;if(Rr=0,yt=qe=xe=null,gu=!1,So=0,as=null,l)throw Error(i(300));r===null||bt||(r=r.dependencies,r!==null&&ou(r)&&(bt=!0))}function _y(r,l,a,f){xe=r;var p=0;do{if(ss&&(as=null),So=0,ss=!1,25<=p)throw Error(i(301));if(p+=1,yt=qe=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}I.H=m0,g=l(a,f)}while(ss);return g}function VC(){var r=I.H,l=r.useState()[0];return l=typeof l.then=="function"?Eo(l):l,r=r.useState()[0],(qe!==null?qe.memoizedState:null)!==r&&(xe.flags|=1024),l}function jd(){var r=yu!==0;return yu=0,r}function Bd(r,l,a){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~a}function Hd(r){if(gu){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}gu=!1}Rr=0,yt=qe=xe=null,ss=!1,So=yu=0,as=null}function $t(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=r:yt=yt.next=r,yt}function dt(){if(qe===null){var r=xe.alternate;r=r!==null?r.memoizedState:null}else r=qe.next;var l=yt===null?xe.memoizedState:yt.next;if(l!==null)yt=l,qe=r;else{if(r===null)throw xe.alternate===null?Error(i(467)):Error(i(310));qe=r,r={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},yt===null?xe.memoizedState=yt=r:yt=yt.next=r}return yt}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(r){var l=So;return So+=1,as===null&&(as=[]),r=Ty(as,r,l),l=xe,(yt===null?l.memoizedState:yt.next)===null&&(l=l.alternate,I.H=l===null||l.memoizedState===null?p0:Xd),r}function vu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Eo(r);if(r.$$typeof===j)return Lt(r)}throw Error(i(438,String(r)))}function Ud(r){var l=null,a=xe.updateQueue;if(a!==null&&(l=a.memoCache),l==null){var f=xe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),a===null&&(a=bu(),xe.updateQueue=a),a.memoCache=l,a=l.data[l.index],a===void 0)for(a=l.data[l.index]=Array(r),f=0;f<r;f++)a[f]=fe;return l.index++,a}function Dr(r,l){return typeof l=="function"?l(r):l}function xu(r){var l=dt();return Id(l,qe,r)}function Id(r,l,a){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=a;var p=r.baseQueue,g=f.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}l.baseQueue=p=g,f.pending=null}if(g=r.baseState,p===null)r.memoizedState=g;else{l=p.next;var C=x=null,w=null,z=l,V=!1;do{var F=z.lane&-536870913;if(F!==z.lane?(Oe&F)===F:(Rr&F)===F){var B=z.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),F===ts&&(V=!0);else if((Rr&B)===B){z=z.next,B===ts&&(V=!0);continue}else F={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(C=w=F,x=g):w=w.next=F,xe.lanes|=B,mi|=B;F=z.action,fl&&a(g,F),g=z.hasEagerState?z.eagerState:a(g,F)}else B={lane:F,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(C=w=B,x=g):w=w.next=B,xe.lanes|=F,mi|=F;z=z.next}while(z!==null&&z!==l);if(w===null?x=g:w.next=C,!hn(g,r.memoizedState)&&(bt=!0,V&&(a=ns,a!==null)))throw a;r.memoizedState=g,r.baseState=x,r.baseQueue=w,f.lastRenderedState=g}return p===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Pd(r){var l=dt(),a=l.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var f=a.dispatch,p=a.pending,g=l.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do g=r(g,x.action),x=x.next;while(x!==p);hn(g,l.memoizedState)||(bt=!0),l.memoizedState=g,l.baseQueue===null&&(l.baseState=g),a.lastRenderedState=g}return[g,f]}function Ly(r,l,a){var f=xe,p=dt(),g=De;if(g){if(a===void 0)throw Error(i(407));a=a()}else a=l();var x=!hn((qe||p).memoizedState,a);if(x&&(p.memoizedState=a,bt=!0),p=p.queue,Gd(By.bind(null,f,p,r),[r]),p.getSnapshot!==l||x||yt!==null&&yt.memoizedState.tag&1){if(f.flags|=2048,us(9,{destroy:void 0},jy.bind(null,f,p,a,l),null),Ye===null)throw Error(i(349));g||(Rr&127)!==0||zy(f,l,a)}return a}function zy(r,l,a){r.flags|=16384,r={getSnapshot:l,value:a},l=xe.updateQueue,l===null?(l=bu(),xe.updateQueue=l,l.stores=[r]):(a=l.stores,a===null?l.stores=[r]:a.push(r))}function jy(r,l,a,f){l.value=a,l.getSnapshot=f,Hy(l)&&Uy(r)}function By(r,l,a){return a(function(){Hy(l)&&Uy(r)})}function Hy(r){var l=r.getSnapshot;r=r.value;try{var a=l();return!hn(r,a)}catch{return!0}}function Uy(r){var l=nl(r,2);l!==null&&on(l,r,2)}function Vd(r){var l=$t();if(typeof r=="function"){var a=r;if(r=a(),fl){At(!0);try{a()}finally{At(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:r},l}function Iy(r,l,a,f){return r.baseState=a,Id(r,qe,typeof f=="function"?f:Dr)}function qC(r,l,a,f,p){if(Tu(r))throw Error(i(485));if(r=l.action,r!==null){var g={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};I.T!==null?a(!0):g.isTransition=!1,f(g),a=l.pending,a===null?(g.next=l.pending=g,Py(l,g)):(g.next=a.next,l.pending=a.next=g)}}function Py(r,l){var a=l.action,f=l.payload,p=r.state;if(l.isTransition){var g=I.T,x={};I.T=x;try{var C=a(p,f),w=I.S;w!==null&&w(x,C),Vy(r,l,C)}catch(z){qd(r,l,z)}finally{g!==null&&x.types!==null&&(g.types=x.types),I.T=g}}else try{g=a(p,f),Vy(r,l,g)}catch(z){qd(r,l,z)}}function Vy(r,l,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(f){qy(r,l,f)},function(f){return qd(r,l,f)}):qy(r,l,a)}function qy(r,l,a){l.status="fulfilled",l.value=a,Gy(l),r.state=a,l=r.pending,l!==null&&(a=l.next,a===l?r.pending=null:(a=a.next,l.next=a,Py(r,a)))}function qd(r,l,a){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=a,Gy(l),l=l.next;while(l!==f)}r.action=null}function Gy(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function $y(r,l){return l}function Fy(r,l){if(De){var a=Ye.formState;if(a!==null){e:{var f=xe;if(De){if(Je){t:{for(var p=Je,g=Dn;p.nodeType!==8;){if(!g){p=null;break t}if(p=Ln(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Je=Ln(p.nextSibling),f=p.data==="F!";break e}}si(f)}f=!1}f&&(l=a[0])}}return a=$t(),a.memoizedState=a.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$y,lastRenderedState:l},a.queue=f,a=f0.bind(null,xe,f),f.dispatch=a,f=Vd(!1),g=Jd.bind(null,xe,!1,f.queue),f=$t(),p={state:l,dispatch:null,action:r,pending:null},f.queue=p,a=qC.bind(null,xe,p,g,a),p.dispatch=a,f.memoizedState=r,[l,a,!1]}function Yy(r){var l=dt();return Ky(l,qe,r)}function Ky(r,l,a){if(l=Id(r,l,$y)[0],r=xu(Dr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=Eo(l)}catch(x){throw x===rs?cu:x}else f=l;l=dt();var p=l.queue,g=p.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,us(9,{destroy:void 0},GC.bind(null,p,a),null)),[f,g,r]}function GC(r,l){r.action=l}function Jy(r){var l=dt(),a=qe;if(a!==null)return Ky(l,a,r);dt(),l=l.memoizedState,a=dt();var f=a.queue.dispatch;return a.memoizedState=r,[l,f,!1]}function us(r,l,a,f){return r={tag:r,create:a,deps:f,inst:l,next:null},l=xe.updateQueue,l===null&&(l=bu(),xe.updateQueue=l),a=l.lastEffect,a===null?l.lastEffect=r.next=r:(f=a.next,a.next=r,r.next=f,l.lastEffect=r),r}function Xy(){return dt().memoizedState}function Su(r,l,a,f){var p=$t();xe.flags|=r,p.memoizedState=us(1|l,{destroy:void 0},a,f===void 0?null:f)}function Eu(r,l,a,f){var p=dt();f=f===void 0?null:f;var g=p.memoizedState.inst;qe!==null&&f!==null&&Ld(f,qe.memoizedState.deps)?p.memoizedState=us(l,g,a,f):(xe.flags|=r,p.memoizedState=us(1|l,g,a,f))}function Qy(r,l){Su(8390656,8,r,l)}function Gd(r,l){Eu(2048,8,r,l)}function $C(r){xe.flags|=4;var l=xe.updateQueue;if(l===null)l=bu(),xe.updateQueue=l,l.events=[r];else{var a=l.events;a===null?l.events=[r]:a.push(r)}}function Wy(r){var l=dt().memoizedState;return $C({ref:l,nextImpl:r}),function(){if((je&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function Zy(r,l){return Eu(4,2,r,l)}function e0(r,l){return Eu(4,4,r,l)}function t0(r,l){if(typeof l=="function"){r=r();var a=l(r);return function(){typeof a=="function"?a():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function n0(r,l,a){a=a!=null?a.concat([r]):null,Eu(4,4,t0.bind(null,l,r),a)}function $d(){}function r0(r,l){var a=dt();l=l===void 0?null:l;var f=a.memoizedState;return l!==null&&Ld(l,f[1])?f[0]:(a.memoizedState=[r,l],r)}function i0(r,l){var a=dt();l=l===void 0?null:l;var f=a.memoizedState;if(l!==null&&Ld(l,f[1]))return f[0];if(f=r(),fl){At(!0);try{r()}finally{At(!1)}}return a.memoizedState=[f,l],f}function Fd(r,l,a){return a===void 0||(Rr&1073741824)!==0&&(Oe&261930)===0?r.memoizedState=l:(r.memoizedState=a,r=lb(),xe.lanes|=r,mi|=r,a)}function l0(r,l,a,f){return hn(a,l)?a:ls.current!==null?(r=Fd(r,a,f),hn(r,l)||(bt=!0),r):(Rr&42)===0||(Rr&1073741824)!==0&&(Oe&261930)===0?(bt=!0,r.memoizedState=a):(r=lb(),xe.lanes|=r,mi|=r,l)}function s0(r,l,a,f,p){var g=ee.p;ee.p=g!==0&&8>g?g:8;var x=I.T,C={};I.T=C,Jd(r,!1,l,a);try{var w=p(),z=I.S;if(z!==null&&z(C,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=IC(w,f);To(r,l,V,vn(r))}else To(r,l,f,vn(r))}catch(F){To(r,l,{then:function(){},status:"rejected",reason:F},vn())}finally{ee.p=g,x!==null&&C.types!==null&&(x.types=C.types),I.T=x}}function FC(){}function Yd(r,l,a,f){if(r.tag!==5)throw Error(i(476));var p=o0(r).queue;s0(r,p,l,me,a===null?FC:function(){return a0(r),a(f)})}function o0(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:me},next:null};var a={};return l.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:a},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function a0(r){var l=o0(r);l.next===null&&(l=r.alternate.memoizedState),To(r,l.next.queue,{},vn())}function Kd(){return Lt(Io)}function u0(){return dt().memoizedState}function c0(){return dt().memoizedState}function YC(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var a=vn();r=ui(a);var f=ci(l,r,a);f!==null&&(on(f,l,a),bo(f,l,a)),l={cache:Td()},r.payload=l;return}l=l.return}}function KC(r,l,a){var f=vn();a={lane:f,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(r)?d0(l,a):(a=dd(r,l,a,f),a!==null&&(on(a,r,f),h0(a,l,f)))}function f0(r,l,a){var f=vn();To(r,l,a,f)}function To(r,l,a,f){var p={lane:f,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tu(r))d0(l,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=l.lastRenderedReducer,g!==null))try{var x=l.lastRenderedState,C=g(x,a);if(p.hasEagerState=!0,p.eagerState=C,hn(C,x))return ru(r,l,p,0),Ye===null&&nu(),!1}catch{}finally{}if(a=dd(r,l,p,f),a!==null)return on(a,r,f),h0(a,l,f),!0}return!1}function Jd(r,l,a,f){if(f={lane:2,revertLane:wh(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Tu(r)){if(l)throw Error(i(479))}else l=dd(r,a,f,2),l!==null&&on(l,r,2)}function Tu(r){var l=r.alternate;return r===xe||l!==null&&l===xe}function d0(r,l){ss=gu=!0;var a=r.pending;a===null?l.next=l:(l.next=a.next,a.next=l),r.pending=l}function h0(r,l,a){if((a&4194048)!==0){var f=l.lanes;f&=r.pendingLanes,a|=f,l.lanes=a,Qs(r,a)}}var Co={readContext:Lt,use:vu,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Co.useEffectEvent=st;var p0={readContext:Lt,use:vu,useCallback:function(r,l){return $t().memoizedState=[r,l===void 0?null:l],r},useContext:Lt,useEffect:Qy,useImperativeHandle:function(r,l,a){a=a!=null?a.concat([r]):null,Su(4194308,4,t0.bind(null,l,r),a)},useLayoutEffect:function(r,l){return Su(4194308,4,r,l)},useInsertionEffect:function(r,l){Su(4,2,r,l)},useMemo:function(r,l){var a=$t();l=l===void 0?null:l;var f=r();if(fl){At(!0);try{r()}finally{At(!1)}}return a.memoizedState=[f,l],f},useReducer:function(r,l,a){var f=$t();if(a!==void 0){var p=a(l);if(fl){At(!0);try{a(l)}finally{At(!1)}}}else p=l;return f.memoizedState=f.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},f.queue=r,r=r.dispatch=KC.bind(null,xe,r),[f.memoizedState,r]},useRef:function(r){var l=$t();return r={current:r},l.memoizedState=r},useState:function(r){r=Vd(r);var l=r.queue,a=f0.bind(null,xe,l);return l.dispatch=a,[r.memoizedState,a]},useDebugValue:$d,useDeferredValue:function(r,l){var a=$t();return Fd(a,r,l)},useTransition:function(){var r=Vd(!1);return r=s0.bind(null,xe,r.queue,!0,!1),$t().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,a){var f=xe,p=$t();if(De){if(a===void 0)throw Error(i(407));a=a()}else{if(a=l(),Ye===null)throw Error(i(349));(Oe&127)!==0||zy(f,l,a)}p.memoizedState=a;var g={value:a,getSnapshot:l};return p.queue=g,Qy(By.bind(null,f,g,r),[r]),f.flags|=2048,us(9,{destroy:void 0},jy.bind(null,f,g,a,l),null),a},useId:function(){var r=$t(),l=Ye.identifierPrefix;if(De){var a=rr,f=nr;a=(f&~(1<<32-pt(f)-1)).toString(32)+a,l="_"+l+"R_"+a,a=yu++,0<a&&(l+="H"+a.toString(32)),l+="_"}else a=PC++,l="_"+l+"r_"+a.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:Kd,useFormState:Fy,useActionState:Fy,useOptimistic:function(r){var l=$t();l.memoizedState=l.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=a,l=Jd.bind(null,xe,!0,a),a.dispatch=l,[r,l]},useMemoCache:Ud,useCacheRefresh:function(){return $t().memoizedState=YC.bind(null,xe)},useEffectEvent:function(r){var l=$t(),a={impl:r};return l.memoizedState=a,function(){if((je&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Xd={readContext:Lt,use:vu,useCallback:r0,useContext:Lt,useEffect:Gd,useImperativeHandle:n0,useInsertionEffect:Zy,useLayoutEffect:e0,useMemo:i0,useReducer:xu,useRef:Xy,useState:function(){return xu(Dr)},useDebugValue:$d,useDeferredValue:function(r,l){var a=dt();return l0(a,qe.memoizedState,r,l)},useTransition:function(){var r=xu(Dr)[0],l=dt().memoizedState;return[typeof r=="boolean"?r:Eo(r),l]},useSyncExternalStore:Ly,useId:u0,useHostTransitionStatus:Kd,useFormState:Yy,useActionState:Yy,useOptimistic:function(r,l){var a=dt();return Iy(a,qe,r,l)},useMemoCache:Ud,useCacheRefresh:c0};Xd.useEffectEvent=Wy;var m0={readContext:Lt,use:vu,useCallback:r0,useContext:Lt,useEffect:Gd,useImperativeHandle:n0,useInsertionEffect:Zy,useLayoutEffect:e0,useMemo:i0,useReducer:Pd,useRef:Xy,useState:function(){return Pd(Dr)},useDebugValue:$d,useDeferredValue:function(r,l){var a=dt();return qe===null?Fd(a,r,l):l0(a,qe.memoizedState,r,l)},useTransition:function(){var r=Pd(Dr)[0],l=dt().memoizedState;return[typeof r=="boolean"?r:Eo(r),l]},useSyncExternalStore:Ly,useId:u0,useHostTransitionStatus:Kd,useFormState:Jy,useActionState:Jy,useOptimistic:function(r,l){var a=dt();return qe!==null?Iy(a,qe,r,l):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Ud,useCacheRefresh:c0};m0.useEffectEvent=Wy;function Qd(r,l,a,f){l=r.memoizedState,a=a(f,l),a=a==null?l:y({},l,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Wd={enqueueSetState:function(r,l,a){r=r._reactInternals;var f=vn(),p=ui(f);p.payload=l,a!=null&&(p.callback=a),l=ci(r,p,f),l!==null&&(on(l,r,f),bo(l,r,f))},enqueueReplaceState:function(r,l,a){r=r._reactInternals;var f=vn(),p=ui(f);p.tag=1,p.payload=l,a!=null&&(p.callback=a),l=ci(r,p,f),l!==null&&(on(l,r,f),bo(l,r,f))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var a=vn(),f=ui(a);f.tag=2,l!=null&&(f.callback=l),l=ci(r,f,a),l!==null&&(on(l,r,a),bo(l,r,a))}};function g0(r,l,a,f,p,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,g,x):l.prototype&&l.prototype.isPureReactComponent?!uo(a,f)||!uo(p,g):!0}function y0(r,l,a,f){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(a,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(a,f),l.state!==r&&Wd.enqueueReplaceState(l,l.state,null)}function dl(r,l){var a=l;if("ref"in l){a={};for(var f in l)f!=="ref"&&(a[f]=l[f])}if(r=r.defaultProps){a===l&&(a=y({},a));for(var p in r)a[p]===void 0&&(a[p]=r[p])}return a}function b0(r){tu(r)}function v0(r){console.error(r)}function x0(r){tu(r)}function Cu(r,l){try{var a=r.onUncaughtError;a(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function S0(r,l,a){try{var f=r.onCaughtError;f(a.value,{componentStack:a.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Zd(r,l,a){return a=ui(a),a.tag=3,a.payload={element:null},a.callback=function(){Cu(r,l)},a}function E0(r){return r=ui(r),r.tag=3,r}function T0(r,l,a,f){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=f.value;r.payload=function(){return p(g)},r.callback=function(){S0(l,a,f)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){S0(l,a,f),typeof p!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function JC(r,l,a,f,p){if(a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=a.alternate,l!==null&&es(l,a,p,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return _n===null?ju():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=p,f===fu?a.flags|=16384:(l=a.updateQueue,l===null?a.updateQueue=new Set([f]):l.add(f),Ch(r,f,p)),!1;case 22:return a.flags|=65536,f===fu?a.flags|=16384:(l=a.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},a.updateQueue=l):(a=l.retryQueue,a===null?l.retryQueue=new Set([f]):a.add(f)),Ch(r,f,p)),!1}throw Error(i(435,a.tag))}return Ch(r,f,p),ju(),!1}if(De)return l=mn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,f!==bd&&(r=Error(i(422),{cause:f}),ho(Nn(r,a)))):(f!==bd&&(l=Error(i(423),{cause:f}),ho(Nn(l,a))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,f=Nn(f,a),p=Zd(r.stateNode,f,p),Nd(r,p),ot!==4&&(ot=2)),!1;var g=Error(i(520),{cause:f});if(g=Nn(g,a),Do===null?Do=[g]:Do.push(g),ot!==4&&(ot=2),l===null)return!0;f=Nn(f,a),a=l;do{switch(a.tag){case 3:return a.flags|=65536,r=p&-p,a.lanes|=r,r=Zd(a.stateNode,f,r),Nd(a,r),!1;case 1:if(l=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(gi===null||!gi.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=E0(p),T0(p,r,a,f),Nd(a,p),!1}a=a.return}while(a!==null);return!1}var eh=Error(i(461)),bt=!1;function zt(r,l,a,f){l.child=r===null?wy(l,null,a,f):cl(l,r.child,a,f)}function C0(r,l,a,f,p){a=a.render;var g=l.ref;if("ref"in f){var x={};for(var C in f)C!=="ref"&&(x[C]=f[C])}else x=f;return sl(l),f=zd(r,l,a,x,g,p),C=jd(),r!==null&&!bt?(Bd(r,l,p),_r(r,l,p)):(De&&C&&gd(l),l.flags|=1,zt(r,l,f,p),l.child)}function M0(r,l,a,f,p){if(r===null){var g=a.type;return typeof g=="function"&&!hd(g)&&g.defaultProps===void 0&&a.compare===null?(l.tag=15,l.type=g,A0(r,l,g,f,p)):(r=lu(a.type,null,f,l,l.mode,p),r.ref=l.ref,r.return=l,l.child=r)}if(g=r.child,!ah(r,p)){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:uo,a(x,f)&&r.ref===l.ref)return _r(r,l,p)}return l.flags|=1,r=wr(g,f),r.ref=l.ref,r.return=l,l.child=r}function A0(r,l,a,f,p){if(r!==null){var g=r.memoizedProps;if(uo(g,f)&&r.ref===l.ref)if(bt=!1,l.pendingProps=f=g,ah(r,p))(r.flags&131072)!==0&&(bt=!0);else return l.lanes=r.lanes,_r(r,l,p)}return th(r,l,a,f,p)}function w0(r,l,a,f){var p=f.children,g=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((l.flags&128)!==0){if(g=g!==null?g.baseLanes|a:a,r!==null){for(f=l.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;f=p&~g}else f=0,l.child=null;return k0(r,l,g,a,f)}if((a&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&uu(l,g!==null?g.cachePool:null),g!==null?Oy(l,g):Rd(),Ry(l);else return f=l.lanes=536870912,k0(r,l,g!==null?g.baseLanes|a:a,a,f)}else g!==null?(uu(l,g.cachePool),Oy(l,g),di(),l.memoizedState=null):(r!==null&&uu(l,null),Rd(),di());return zt(r,l,p,a),l.child}function Mo(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function k0(r,l,a,f,p){var g=Md();return g=g===null?null:{parent:gt._currentValue,pool:g},l.memoizedState={baseLanes:a,cachePool:g},r!==null&&uu(l,null),Rd(),Ry(l),r!==null&&es(r,l,f,!0),l.childLanes=p,null}function Mu(r,l){return l=wu({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function N0(r,l,a){return cl(l,r.child,null,a),r=Mu(l,l.pendingProps),r.flags|=2,gn(l),l.memoizedState=null,r}function XC(r,l,a){var f=l.pendingProps,p=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(De){if(f.mode==="hidden")return r=Mu(l,f),l.lanes=536870912,Mo(null,r);if(_d(l),(r=Je)?(r=Pb(r,Dn),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:ii!==null?{id:nr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},a=dy(r),a.return=l,l.child=a,_t=l,Je=null)):r=null,r===null)throw si(l);return l.lanes=536870912,null}return Mu(l,f)}var g=r.memoizedState;if(g!==null){var x=g.dehydrated;if(_d(l),p)if(l.flags&256)l.flags&=-257,l=N0(r,l,a);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(i(558));else if(bt||es(r,l,a,!1),p=(a&r.childLanes)!==0,bt||p){if(f=Ye,f!==null&&(x=Pa(f,a),x!==0&&x!==g.retryLane))throw g.retryLane=x,nl(r,x),on(f,r,x),eh;ju(),l=N0(r,l,a)}else r=g.treeContext,Je=Ln(x.nextSibling),_t=l,De=!0,li=null,Dn=!1,r!==null&&my(l,r),l=Mu(l,f),l.flags|=4096;return l}return r=wr(r.child,{mode:f.mode,children:f.children}),r.ref=l.ref,l.child=r,r.return=l,r}function Au(r,l){var a=l.ref;if(a===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(l.flags|=4194816)}}function th(r,l,a,f,p){return sl(l),a=zd(r,l,a,f,void 0,p),f=jd(),r!==null&&!bt?(Bd(r,l,p),_r(r,l,p)):(De&&f&&gd(l),l.flags|=1,zt(r,l,a,p),l.child)}function O0(r,l,a,f,p,g){return sl(l),l.updateQueue=null,a=_y(l,f,a,p),Dy(r),f=jd(),r!==null&&!bt?(Bd(r,l,g),_r(r,l,g)):(De&&f&&gd(l),l.flags|=1,zt(r,l,a,g),l.child)}function R0(r,l,a,f,p){if(sl(l),l.stateNode===null){var g=Xl,x=a.contextType;typeof x=="object"&&x!==null&&(g=Lt(x)),g=new a(f,g),l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Wd,l.stateNode=g,g._reactInternals=l,g=l.stateNode,g.props=f,g.state=l.memoizedState,g.refs={},wd(l),x=a.contextType,g.context=typeof x=="object"&&x!==null?Lt(x):Xl,g.state=l.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Qd(l,a,x,f),g.state=l.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Wd.enqueueReplaceState(g,g.state,null),xo(l,f,g,p),vo(),g.state=l.memoizedState),typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(r===null){g=l.stateNode;var C=l.memoizedProps,w=dl(a,C);g.props=w;var z=g.context,V=a.contextType;x=Xl,typeof V=="object"&&V!==null&&(x=Lt(V));var F=a.getDerivedStateFromProps;V=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=l.pendingProps!==C,V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||z!==x)&&y0(l,g,f,x),ai=!1;var B=l.memoizedState;g.state=B,xo(l,f,g,p),vo(),z=l.memoizedState,C||B!==z||ai?(typeof F=="function"&&(Qd(l,a,F,f),z=l.memoizedState),(w=ai||g0(l,a,w,f,B,z,x))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(l.flags|=4194308)):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=z),g.props=f,g.state=z,g.context=x,f=w):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{g=l.stateNode,kd(r,l),x=l.memoizedProps,V=dl(a,x),g.props=V,F=l.pendingProps,B=g.context,z=a.contextType,w=Xl,typeof z=="object"&&z!==null&&(w=Lt(z)),C=a.getDerivedStateFromProps,(z=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==F||B!==w)&&y0(l,g,f,w),ai=!1,B=l.memoizedState,g.state=B,xo(l,f,g,p),vo();var U=l.memoizedState;x!==F||B!==U||ai||r!==null&&r.dependencies!==null&&ou(r.dependencies)?(typeof C=="function"&&(Qd(l,a,C,f),U=l.memoizedState),(V=ai||g0(l,a,V,f,B,U,w)||r!==null&&r.dependencies!==null&&ou(r.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,U,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,U,w)),typeof g.componentDidUpdate=="function"&&(l.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&B===r.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&B===r.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=U),g.props=f,g.state=U,g.context=w,f=V):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&B===r.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&B===r.memoizedState||(l.flags|=1024),f=!1)}return g=f,Au(r,l),f=(l.flags&128)!==0,g||f?(g=l.stateNode,a=f&&typeof a.getDerivedStateFromError!="function"?null:g.render(),l.flags|=1,r!==null&&f?(l.child=cl(l,r.child,null,p),l.child=cl(l,null,a,p)):zt(r,l,a,p),l.memoizedState=g.state,r=l.child):r=_r(r,l,p),r}function D0(r,l,a,f){return il(),l.flags|=256,zt(r,l,a,f),l.child}var nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(r){return{baseLanes:r,cachePool:Sy()}}function ih(r,l,a){return r=r!==null?r.childLanes&~a:0,l&&(r|=bn),r}function _0(r,l,a){var f=l.pendingProps,p=!1,g=(l.flags&128)!==0,x;if((x=g)||(x=r!==null&&r.memoizedState===null?!1:(ft.current&2)!==0),x&&(p=!0,l.flags&=-129),x=(l.flags&32)!==0,l.flags&=-33,r===null){if(De){if(p?fi(l):di(),(r=Je)?(r=Pb(r,Dn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:ii!==null?{id:nr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},a=dy(r),a.return=l,l.child=a,_t=l,Je=null)):r=null,r===null)throw si(l);return Ih(r)?l.lanes=32:l.lanes=536870912,null}var C=f.children;return f=f.fallback,p?(di(),p=l.mode,C=wu({mode:"hidden",children:C},p),f=rl(f,p,a,null),C.return=l,f.return=l,C.sibling=f,l.child=C,f=l.child,f.memoizedState=rh(a),f.childLanes=ih(r,x,a),l.memoizedState=nh,Mo(null,f)):(fi(l),lh(l,C))}var w=r.memoizedState;if(w!==null&&(C=w.dehydrated,C!==null)){if(g)l.flags&256?(fi(l),l.flags&=-257,l=sh(r,l,a)):l.memoizedState!==null?(di(),l.child=r.child,l.flags|=128,l=null):(di(),C=f.fallback,p=l.mode,f=wu({mode:"visible",children:f.children},p),C=rl(C,p,a,null),C.flags|=2,f.return=l,C.return=l,f.sibling=C,l.child=f,cl(l,r.child,null,a),f=l.child,f.memoizedState=rh(a),f.childLanes=ih(r,x,a),l.memoizedState=nh,l=Mo(null,f));else if(fi(l),Ih(C)){if(x=C.nextSibling&&C.nextSibling.dataset,x)var z=x.dgst;x=z,f=Error(i(419)),f.stack="",f.digest=x,ho({value:f,source:null,stack:null}),l=sh(r,l,a)}else if(bt||es(r,l,a,!1),x=(a&r.childLanes)!==0,bt||x){if(x=Ye,x!==null&&(f=Pa(x,a),f!==0&&f!==w.retryLane))throw w.retryLane=f,nl(r,f),on(x,r,f),eh;Uh(C)||ju(),l=sh(r,l,a)}else Uh(C)?(l.flags|=192,l.child=r.child,l=null):(r=w.treeContext,Je=Ln(C.nextSibling),_t=l,De=!0,li=null,Dn=!1,r!==null&&my(l,r),l=lh(l,f.children),l.flags|=4096);return l}return p?(di(),C=f.fallback,p=l.mode,w=r.child,z=w.sibling,f=wr(w,{mode:"hidden",children:f.children}),f.subtreeFlags=w.subtreeFlags&65011712,z!==null?C=wr(z,C):(C=rl(C,p,a,null),C.flags|=2),C.return=l,f.return=l,f.sibling=C,l.child=f,Mo(null,f),f=l.child,C=r.child.memoizedState,C===null?C=rh(a):(p=C.cachePool,p!==null?(w=gt._currentValue,p=p.parent!==w?{parent:w,pool:w}:p):p=Sy(),C={baseLanes:C.baseLanes|a,cachePool:p}),f.memoizedState=C,f.childLanes=ih(r,x,a),l.memoizedState=nh,Mo(r.child,f)):(fi(l),a=r.child,r=a.sibling,a=wr(a,{mode:"visible",children:f.children}),a.return=l,a.sibling=null,r!==null&&(x=l.deletions,x===null?(l.deletions=[r],l.flags|=16):x.push(r)),l.child=a,l.memoizedState=null,a)}function lh(r,l){return l=wu({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function wu(r,l){return r=pn(22,r,null,l),r.lanes=0,r}function sh(r,l,a){return cl(l,r.child,null,a),r=lh(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function L0(r,l,a){r.lanes|=l;var f=r.alternate;f!==null&&(f.lanes|=l),Sd(r.return,l,a)}function oh(r,l,a,f,p,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:p,treeForkCount:g}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=a,x.tailMode=p,x.treeForkCount=g)}function z0(r,l,a){var f=l.pendingProps,p=f.revealOrder,g=f.tail;f=f.children;var x=ft.current,C=(x&2)!==0;if(C?(x=x&1|2,l.flags|=128):x&=1,Z(ft,x),zt(r,l,f,a),f=De?fo:0,!C&&r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&L0(r,a,l);else if(r.tag===19)L0(r,a,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(a=l.child,p=null;a!==null;)r=a.alternate,r!==null&&mu(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=l.child,l.child=null):(p=a.sibling,a.sibling=null),oh(l,!1,p,a,g,f);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=l.child,l.child=null;p!==null;){if(r=p.alternate,r!==null&&mu(r)===null){l.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}oh(l,!0,a,null,g,f);break;case"together":oh(l,!1,null,null,void 0,f);break;default:l.memoizedState=null}return l.child}function _r(r,l,a){if(r!==null&&(l.dependencies=r.dependencies),mi|=l.lanes,(a&l.childLanes)===0)if(r!==null){if(es(r,l,a,!1),(a&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(i(153));if(l.child!==null){for(r=l.child,a=wr(r,r.pendingProps),l.child=a,a.return=l;r.sibling!==null;)r=r.sibling,a=a.sibling=wr(r,r.pendingProps),a.return=l;a.sibling=null}return l.child}function ah(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&ou(r)))}function QC(r,l,a){switch(l.tag){case 3:lt(l,l.stateNode.containerInfo),oi(l,gt,r.memoizedState.cache),il();break;case 27:case 5:gr(l);break;case 4:lt(l,l.stateNode.containerInfo);break;case 10:oi(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,_d(l),null;break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(fi(l),l.flags|=128,null):(a&l.child.childLanes)!==0?_0(r,l,a):(fi(l),r=_r(r,l,a),r!==null?r.sibling:null);fi(l);break;case 19:var p=(r.flags&128)!==0;if(f=(a&l.childLanes)!==0,f||(es(r,l,a,!1),f=(a&l.childLanes)!==0),p){if(f)return z0(r,l,a);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Z(ft,ft.current),f)break;return null;case 22:return l.lanes=0,w0(r,l,a,l.pendingProps);case 24:oi(l,gt,r.memoizedState.cache)}return _r(r,l,a)}function j0(r,l,a){if(r!==null)if(r.memoizedProps!==l.pendingProps)bt=!0;else{if(!ah(r,a)&&(l.flags&128)===0)return bt=!1,QC(r,l,a);bt=(r.flags&131072)!==0}else bt=!1,De&&(l.flags&1048576)!==0&&py(l,fo,l.index);switch(l.lanes=0,l.tag){case 16:e:{var f=l.pendingProps;if(r=al(l.elementType),l.type=r,typeof r=="function")hd(r)?(f=dl(r,f),l.tag=1,l=R0(null,l,r,f,a)):(l.tag=0,l=th(null,l,r,f,a));else{if(r!=null){var p=r.$$typeof;if(p===$){l.tag=11,l=C0(null,l,r,f,a);break e}else if(p===P){l.tag=14,l=M0(null,l,r,f,a);break e}}throw l=de(r)||r,Error(i(306,l,""))}}return l;case 0:return th(r,l,l.type,l.pendingProps,a);case 1:return f=l.type,p=dl(f,l.pendingProps),R0(r,l,f,p,a);case 3:e:{if(lt(l,l.stateNode.containerInfo),r===null)throw Error(i(387));f=l.pendingProps;var g=l.memoizedState;p=g.element,kd(r,l),xo(l,f,null,a);var x=l.memoizedState;if(f=x.cache,oi(l,gt,f),f!==g.cache&&Ed(l,[gt],a,!0),vo(),f=x.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:x.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=D0(r,l,f,a);break e}else if(f!==p){p=Nn(Error(i(424)),l),ho(p),l=D0(r,l,f,a);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Je=Ln(r.firstChild),_t=l,De=!0,li=null,Dn=!0,a=wy(l,null,f,a),l.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(il(),f===p){l=_r(r,l,a);break e}zt(r,l,f,a)}l=l.child}return l;case 26:return Au(r,l),r===null?(a=Yb(l.type,null,l.pendingProps,null))?l.memoizedState=a:De||(a=l.type,r=l.pendingProps,f=qu(ve.current).createElement(a),f[mt]=l,f[Ze]=r,jt(f,a,r),Ae(f),l.stateNode=f):l.memoizedState=Yb(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return gr(l),r===null&&De&&(f=l.stateNode=Gb(l.type,l.pendingProps,ve.current),_t=l,Dn=!0,p=Je,xi(l.type)?(Ph=p,Je=Ln(f.firstChild)):Je=p),zt(r,l,l.pendingProps.children,a),Au(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&De&&((p=f=Je)&&(f=wM(f,l.type,l.pendingProps,Dn),f!==null?(l.stateNode=f,_t=l,Je=Ln(f.firstChild),Dn=!1,p=!0):p=!1),p||si(l)),gr(l),p=l.type,g=l.pendingProps,x=r!==null?r.memoizedProps:null,f=g.children,jh(p,g)?f=null:x!==null&&jh(p,x)&&(l.flags|=32),l.memoizedState!==null&&(p=zd(r,l,VC,null,null,a),Io._currentValue=p),Au(r,l),zt(r,l,f,a),l.child;case 6:return r===null&&De&&((r=a=Je)&&(a=kM(a,l.pendingProps,Dn),a!==null?(l.stateNode=a,_t=l,Je=null,r=!0):r=!1),r||si(l)),null;case 13:return _0(r,l,a);case 4:return lt(l,l.stateNode.containerInfo),f=l.pendingProps,r===null?l.child=cl(l,null,f,a):zt(r,l,f,a),l.child;case 11:return C0(r,l,l.type,l.pendingProps,a);case 7:return zt(r,l,l.pendingProps,a),l.child;case 8:return zt(r,l,l.pendingProps.children,a),l.child;case 12:return zt(r,l,l.pendingProps.children,a),l.child;case 10:return f=l.pendingProps,oi(l,l.type,f.value),zt(r,l,f.children,a),l.child;case 9:return p=l.type._context,f=l.pendingProps.children,sl(l),p=Lt(p),f=f(p),l.flags|=1,zt(r,l,f,a),l.child;case 14:return M0(r,l,l.type,l.pendingProps,a);case 15:return A0(r,l,l.type,l.pendingProps,a);case 19:return z0(r,l,a);case 31:return XC(r,l,a);case 22:return w0(r,l,a,l.pendingProps);case 24:return sl(l),f=Lt(gt),r===null?(p=Md(),p===null&&(p=Ye,g=Td(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),l.memoizedState={parent:f,cache:p},wd(l),oi(l,gt,p)):((r.lanes&a)!==0&&(kd(r,l),xo(l,null,null,a),vo()),p=r.memoizedState,g=l.memoizedState,p.parent!==f?(p={parent:f,cache:f},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),oi(l,gt,f)):(f=g.cache,oi(l,gt,f),f!==p.cache&&Ed(l,[gt],a,!0))),zt(r,l,l.pendingProps.children,a),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Lr(r){r.flags|=4}function uh(r,l,a,f,p){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(ub())r.flags|=8192;else throw ul=fu,Ad}else r.flags&=-16777217}function B0(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Wb(l))if(ub())r.flags|=8192;else throw ul=fu,Ad}function ku(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?Er():536870912,r.lanes|=l,hs|=l)}function Ao(r,l){if(!De)switch(r.tailMode){case"hidden":l=r.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Xe(r){var l=r.alternate!==null&&r.alternate.child===r.child,a=0,f=0;if(l)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=a,l}function WC(r,l,a){var f=l.pendingProps;switch(yd(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(l),null;case 1:return Xe(l),null;case 3:return a=l.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Or(gt),We(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Zl(l)?Lr(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,vd())),Xe(l),null;case 26:var p=l.type,g=l.memoizedState;return r===null?(Lr(l),g!==null?(Xe(l),B0(l,g)):(Xe(l),uh(l,p,null,f,a))):g?g!==r.memoizedState?(Lr(l),Xe(l),B0(l,g)):(Xe(l),l.flags&=-16777217):(r=r.memoizedProps,r!==f&&Lr(l),Xe(l),uh(l,p,r,f,a)),null;case 27:if(Ji(l),a=ve.current,p=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==f&&Lr(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return Xe(l),null}r=ie.current,Zl(l)?gy(l):(r=Gb(p,f,a),l.stateNode=r,Lr(l))}return Xe(l),null;case 5:if(Ji(l),p=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==f&&Lr(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return Xe(l),null}if(g=ie.current,Zl(l))gy(l);else{var x=qu(ve.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof f.is=="string"?x.createElement("select",{is:f.is}):x.createElement("select"),f.multiple?g.multiple=!0:f.size&&(g.size=f.size);break;default:g=typeof f.is=="string"?x.createElement(p,{is:f.is}):x.createElement(p)}}g[mt]=l,g[Ze]=f;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=g;e:switch(jt(g,p,f),p){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Lr(l)}}return Xe(l),uh(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,a),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==f&&Lr(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(i(166));if(r=ve.current,Zl(l)){if(r=l.stateNode,a=l.memoizedProps,f=null,p=_t,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}r[mt]=l,r=!!(r.nodeValue===a||f!==null&&f.suppressHydrationWarning===!0||_b(r.nodeValue,a)),r||si(l,!0)}else r=qu(r).createTextNode(f),r[mt]=l,l.stateNode=r}return Xe(l),null;case 31:if(a=l.memoizedState,r===null||r.memoizedState!==null){if(f=Zl(l),a!==null){if(r===null){if(!f)throw Error(i(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[mt]=l}else il(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xe(l),r=!1}else a=vd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=a),r=!0;if(!r)return l.flags&256?(gn(l),l):(gn(l),null);if((l.flags&128)!==0)throw Error(i(558))}return Xe(l),null;case 13:if(f=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Zl(l),f!==null&&f.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[mt]=l}else il(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xe(l),p=!1}else p=vd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(gn(l),l):(gn(l),null)}return gn(l),(l.flags&128)!==0?(l.lanes=a,l):(a=f!==null,r=r!==null&&r.memoizedState!==null,a&&(f=l.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool),g=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==p&&(f.flags|=2048)),a!==r&&a&&(l.child.flags|=8192),ku(l,l.updateQueue),Xe(l),null);case 4:return We(),r===null&&Rh(l.stateNode.containerInfo),Xe(l),null;case 10:return Or(l.type),Xe(l),null;case 19:if(Y(ft),f=l.memoizedState,f===null)return Xe(l),null;if(p=(l.flags&128)!==0,g=f.rendering,g===null)if(p)Ao(f,!1);else{if(ot!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(g=mu(r),g!==null){for(l.flags|=128,Ao(f,!1),r=g.updateQueue,l.updateQueue=r,ku(l,r),l.subtreeFlags=0,r=a,a=l.child;a!==null;)fy(a,r),a=a.sibling;return Z(ft,ft.current&1|2),De&&kr(l,f.treeForkCount),l.child}r=r.sibling}f.tail!==null&&Rt()>_u&&(l.flags|=128,p=!0,Ao(f,!1),l.lanes=4194304)}else{if(!p)if(r=mu(g),r!==null){if(l.flags|=128,p=!0,r=r.updateQueue,l.updateQueue=r,ku(l,r),Ao(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!De)return Xe(l),null}else 2*Rt()-f.renderingStartTime>_u&&a!==536870912&&(l.flags|=128,p=!0,Ao(f,!1),l.lanes=4194304);f.isBackwards?(g.sibling=l.child,l.child=g):(r=f.last,r!==null?r.sibling=g:l.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Rt(),r.sibling=null,a=ft.current,Z(ft,p?a&1|2:a&1),De&&kr(l,f.treeForkCount),r):(Xe(l),null);case 22:case 23:return gn(l),Dd(),f=l.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(a&536870912)!==0&&(l.flags&128)===0&&(Xe(l),l.subtreeFlags&6&&(l.flags|=8192)):Xe(l),a=l.updateQueue,a!==null&&ku(l,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==a&&(l.flags|=2048),r!==null&&Y(ol),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),l.memoizedState.cache!==a&&(l.flags|=2048),Or(gt),Xe(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function ZC(r,l){switch(yd(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Or(gt),We(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Ji(l),null;case 31:if(l.memoizedState!==null){if(gn(l),l.alternate===null)throw Error(i(340));il()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(gn(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(i(340));il()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return Y(ft),null;case 4:return We(),null;case 10:return Or(l.type),null;case 22:case 23:return gn(l),Dd(),r!==null&&Y(ol),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Or(gt),null;case 25:return null;default:return null}}function H0(r,l){switch(yd(l),l.tag){case 3:Or(gt),We();break;case 26:case 27:case 5:Ji(l);break;case 4:We();break;case 31:l.memoizedState!==null&&gn(l);break;case 13:gn(l);break;case 19:Y(ft);break;case 10:Or(l.type);break;case 22:case 23:gn(l),Dd(),r!==null&&Y(ol);break;case 24:Or(gt)}}function wo(r,l){try{var a=l.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var p=f.next;a=p;do{if((a.tag&r)===r){f=void 0;var g=a.create,x=a.inst;f=g(),x.destroy=f}a=a.next}while(a!==p)}}catch(C){Pe(l,l.return,C)}}function hi(r,l,a){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var g=p.next;f=g;do{if((f.tag&r)===r){var x=f.inst,C=x.destroy;if(C!==void 0){x.destroy=void 0,p=l;var w=a,z=C;try{z()}catch(V){Pe(p,w,V)}}}f=f.next}while(f!==g)}}catch(V){Pe(l,l.return,V)}}function U0(r){var l=r.updateQueue;if(l!==null){var a=r.stateNode;try{Ny(l,a)}catch(f){Pe(r,r.return,f)}}}function I0(r,l,a){a.props=dl(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(f){Pe(r,l,f)}}function ko(r,l){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof a=="function"?r.refCleanup=a(f):a.current=f}}catch(p){Pe(r,l,p)}}function ir(r,l){var a=r.ref,f=r.refCleanup;if(a!==null)if(typeof f=="function")try{f()}catch(p){Pe(r,l,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Pe(r,l,p)}else a.current=null}function P0(r){var l=r.type,a=r.memoizedProps,f=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":a.autoFocus&&f.focus();break e;case"img":a.src?f.src=a.src:a.srcSet&&(f.srcset=a.srcSet)}}catch(p){Pe(r,r.return,p)}}function ch(r,l,a){try{var f=r.stateNode;SM(f,r.type,a,l),f[Ze]=l}catch(p){Pe(r,r.return,p)}}function V0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&xi(r.type)||r.tag===4}function fh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||V0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&xi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dh(r,l,a){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,l):(l=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.appendChild(r),a=a._reactRootContainer,a!=null||l.onclick!==null||(l.onclick=Mr));else if(f!==4&&(f===27&&xi(r.type)&&(a=r.stateNode,l=null),r=r.child,r!==null))for(dh(r,l,a),r=r.sibling;r!==null;)dh(r,l,a),r=r.sibling}function Nu(r,l,a){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?a.insertBefore(r,l):a.appendChild(r);else if(f!==4&&(f===27&&xi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Nu(r,l,a),r=r.sibling;r!==null;)Nu(r,l,a),r=r.sibling}function q0(r){var l=r.stateNode,a=r.memoizedProps;try{for(var f=r.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);jt(l,f,a),l[mt]=r,l[Ze]=a}catch(g){Pe(r,r.return,g)}}var zr=!1,vt=!1,hh=!1,G0=typeof WeakSet=="function"?WeakSet:Set,wt=null;function eM(r,l){if(r=r.containerInfo,Lh=Xu,r=ny(r),sd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var p=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,C=-1,w=-1,z=0,V=0,F=r,B=null;t:for(;;){for(var U;F!==a||p!==0&&F.nodeType!==3||(C=x+p),F!==g||f!==0&&F.nodeType!==3||(w=x+f),F.nodeType===3&&(x+=F.nodeValue.length),(U=F.firstChild)!==null;)B=F,F=U;for(;;){if(F===r)break t;if(B===a&&++z===p&&(C=x),B===g&&++V===f&&(w=x),(U=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=U}a=C===-1||w===-1?null:{start:C,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(zh={focusedElem:r,selectionRange:a},Xu=!1,wt=l;wt!==null;)if(l=wt,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,wt=r;else for(;wt!==null;){switch(l=wt,g=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(a=0;a<r.length;a++)p=r[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,a=l,p=g.memoizedProps,g=g.memoizedState,f=a.stateNode;try{var le=dl(a.type,p);r=f.getSnapshotBeforeUpdate(le,g),f.__reactInternalSnapshotBeforeUpdate=r}catch(ge){Pe(a,a.return,ge)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,a=r.nodeType,a===9)Hh(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=l.sibling,r!==null){r.return=l.return,wt=r;break}wt=l.return}}function $0(r,l,a){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Br(r,a),f&4&&wo(5,a);break;case 1:if(Br(r,a),f&4)if(r=a.stateNode,l===null)try{r.componentDidMount()}catch(x){Pe(a,a.return,x)}else{var p=dl(a.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(p,l,r.__reactInternalSnapshotBeforeUpdate)}catch(x){Pe(a,a.return,x)}}f&64&&U0(a),f&512&&ko(a,a.return);break;case 3:if(Br(r,a),f&64&&(r=a.updateQueue,r!==null)){if(l=null,a.child!==null)switch(a.child.tag){case 27:case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}try{Ny(r,l)}catch(x){Pe(a,a.return,x)}}break;case 27:l===null&&f&4&&q0(a);case 26:case 5:Br(r,a),l===null&&f&4&&P0(a),f&512&&ko(a,a.return);break;case 12:Br(r,a);break;case 31:Br(r,a),f&4&&K0(r,a);break;case 13:Br(r,a),f&4&&J0(r,a),f&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=uM.bind(null,a),NM(r,a))));break;case 22:if(f=a.memoizedState!==null||zr,!f){l=l!==null&&l.memoizedState!==null||vt,p=zr;var g=vt;zr=f,(vt=l)&&!g?Hr(r,a,(a.subtreeFlags&8772)!==0):Br(r,a),zr=p,vt=g}break;case 30:break;default:Br(r,a)}}function F0(r){var l=r.alternate;l!==null&&(r.alternate=null,F0(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&N(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var et=null,nn=!1;function jr(r,l,a){for(a=a.child;a!==null;)Y0(r,l,a),a=a.sibling}function Y0(r,l,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(er,a)}catch{}switch(a.tag){case 26:vt||ir(a,l),jr(r,l,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||ir(a,l);var f=et,p=nn;xi(a.type)&&(et=a.stateNode,nn=!1),jr(r,l,a),Bo(a.stateNode),et=f,nn=p;break;case 5:vt||ir(a,l);case 6:if(f=et,p=nn,et=null,jr(r,l,a),et=f,nn=p,et!==null)if(nn)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(a.stateNode)}catch(g){Pe(a,l,g)}else try{et.removeChild(a.stateNode)}catch(g){Pe(a,l,g)}break;case 18:et!==null&&(nn?(r=et,Ub(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),Ss(r)):Ub(et,a.stateNode));break;case 4:f=et,p=nn,et=a.stateNode.containerInfo,nn=!0,jr(r,l,a),et=f,nn=p;break;case 0:case 11:case 14:case 15:hi(2,a,l),vt||hi(4,a,l),jr(r,l,a);break;case 1:vt||(ir(a,l),f=a.stateNode,typeof f.componentWillUnmount=="function"&&I0(a,l,f)),jr(r,l,a);break;case 21:jr(r,l,a);break;case 22:vt=(f=vt)||a.memoizedState!==null,jr(r,l,a),vt=f;break;default:jr(r,l,a)}}function K0(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ss(r)}catch(a){Pe(l,l.return,a)}}}function J0(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ss(r)}catch(a){Pe(l,l.return,a)}}function tM(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new G0),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new G0),l;default:throw Error(i(435,r.tag))}}function Ou(r,l){var a=tM(r);l.forEach(function(f){if(!a.has(f)){a.add(f);var p=cM.bind(null,r,f);f.then(p,p)}})}function rn(r,l){var a=l.deletions;if(a!==null)for(var f=0;f<a.length;f++){var p=a[f],g=r,x=l,C=x;e:for(;C!==null;){switch(C.tag){case 27:if(xi(C.type)){et=C.stateNode,nn=!1;break e}break;case 5:et=C.stateNode,nn=!1;break e;case 3:case 4:et=C.stateNode.containerInfo,nn=!0;break e}C=C.return}if(et===null)throw Error(i(160));Y0(g,x,p),et=null,nn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)X0(l,r),l=l.sibling}var Kn=null;function X0(r,l){var a=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rn(l,r),ln(r),f&4&&(hi(3,r,r.return),wo(3,r),hi(5,r,r.return));break;case 1:rn(l,r),ln(r),f&512&&(vt||a===null||ir(a,a.return)),f&64&&zr&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?f:a.concat(f))));break;case 26:var p=Kn;if(rn(l,r),ln(r),f&512&&(vt||a===null||ir(a,a.return)),f&4){var g=a!==null?a.memoizedState:null;if(f=r.memoizedState,a===null)if(f===null)if(r.stateNode===null){e:{f=r.type,a=r.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ae]||g[mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(f),p.head.insertBefore(g,p.querySelector("head > title"))),jt(g,f,a),g[mt]=r,Ae(g),f=g;break e;case"link":var x=Xb("link","href",p).get(f+(a.href||""));if(x){for(var C=0;C<x.length;C++)if(g=x[C],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(C,1);break t}}g=p.createElement(f),jt(g,f,a),p.head.appendChild(g);break;case"meta":if(x=Xb("meta","content",p).get(f+(a.content||""))){for(C=0;C<x.length;C++)if(g=x[C],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(C,1);break t}}g=p.createElement(f),jt(g,f,a),p.head.appendChild(g);break;default:throw Error(i(468,f))}g[mt]=r,Ae(g),f=g}r.stateNode=f}else Qb(p,r.type,r.stateNode);else r.stateNode=Jb(p,f,r.memoizedProps);else g!==f?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,f===null?Qb(p,r.type,r.stateNode):Jb(p,f,r.memoizedProps)):f===null&&r.stateNode!==null&&ch(r,r.memoizedProps,a.memoizedProps)}break;case 27:rn(l,r),ln(r),f&512&&(vt||a===null||ir(a,a.return)),a!==null&&f&4&&ch(r,r.memoizedProps,a.memoizedProps);break;case 5:if(rn(l,r),ln(r),f&512&&(vt||a===null||ir(a,a.return)),r.flags&32){p=r.stateNode;try{ql(p,"")}catch(le){Pe(r,r.return,le)}}f&4&&r.stateNode!=null&&(p=r.memoizedProps,ch(r,p,a!==null?a.memoizedProps:p)),f&1024&&(hh=!0);break;case 6:if(rn(l,r),ln(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,a=r.stateNode;try{a.nodeValue=f}catch(le){Pe(r,r.return,le)}}break;case 3:if(Fu=null,p=Kn,Kn=Gu(l.containerInfo),rn(l,r),Kn=p,ln(r),f&4&&a!==null&&a.memoizedState.isDehydrated)try{Ss(l.containerInfo)}catch(le){Pe(r,r.return,le)}hh&&(hh=!1,Q0(r));break;case 4:f=Kn,Kn=Gu(r.stateNode.containerInfo),rn(l,r),ln(r),Kn=f;break;case 12:rn(l,r),ln(r);break;case 31:rn(l,r),ln(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Ou(r,f)));break;case 13:rn(l,r),ln(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Du=Rt()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Ou(r,f)));break;case 22:p=r.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=zr,V=vt;if(zr=z||p,vt=V||w,rn(l,r),vt=V,zr=z,ln(r),f&8192)e:for(l=r.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(a===null||w||zr||vt||hl(r)),a=null,l=r;;){if(l.tag===5||l.tag===26){if(a===null){w=a=l;try{if(g=w.stateNode,p)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{C=w.stateNode;var F=w.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;C.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){Pe(w,w.return,le)}}}else if(l.tag===6){if(a===null){w=l;try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(le){Pe(w,w.return,le)}}}else if(l.tag===18){if(a===null){w=l;try{var U=w.stateNode;p?Ib(U,!0):Ib(w.stateNode,!1)}catch(le){Pe(w,w.return,le)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;a===l&&(a=null),l=l.return}a===l&&(a=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=r.updateQueue,f!==null&&(a=f.retryQueue,a!==null&&(f.retryQueue=null,Ou(r,a))));break;case 19:rn(l,r),ln(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Ou(r,f)));break;case 30:break;case 21:break;default:rn(l,r),ln(r)}}function ln(r){var l=r.flags;if(l&2){try{for(var a,f=r.return;f!==null;){if(V0(f)){a=f;break}f=f.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,g=fh(r);Nu(r,g,p);break;case 5:var x=a.stateNode;a.flags&32&&(ql(x,""),a.flags&=-33);var C=fh(r);Nu(r,C,x);break;case 3:case 4:var w=a.stateNode.containerInfo,z=fh(r);dh(r,z,w);break;default:throw Error(i(161))}}catch(V){Pe(r,r.return,V)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function Q0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;Q0(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function Br(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)$0(r,l.alternate,l),l=l.sibling}function hl(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:hi(4,l,l.return),hl(l);break;case 1:ir(l,l.return);var a=l.stateNode;typeof a.componentWillUnmount=="function"&&I0(l,l.return,a),hl(l);break;case 27:Bo(l.stateNode);case 26:case 5:ir(l,l.return),hl(l);break;case 22:l.memoizedState===null&&hl(l);break;case 30:hl(l);break;default:hl(l)}r=r.sibling}}function Hr(r,l,a){for(a=a&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,p=r,g=l,x=g.flags;switch(g.tag){case 0:case 11:case 15:Hr(p,g,a),wo(4,g);break;case 1:if(Hr(p,g,a),f=g,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(z){Pe(f,f.return,z)}if(f=g,p=f.updateQueue,p!==null){var C=f.stateNode;try{var w=p.shared.hiddenCallbacks;if(w!==null)for(p.shared.hiddenCallbacks=null,p=0;p<w.length;p++)ky(w[p],C)}catch(z){Pe(f,f.return,z)}}a&&x&64&&U0(g),ko(g,g.return);break;case 27:q0(g);case 26:case 5:Hr(p,g,a),a&&f===null&&x&4&&P0(g),ko(g,g.return);break;case 12:Hr(p,g,a);break;case 31:Hr(p,g,a),a&&x&4&&K0(p,g);break;case 13:Hr(p,g,a),a&&x&4&&J0(p,g);break;case 22:g.memoizedState===null&&Hr(p,g,a),ko(g,g.return);break;case 30:break;default:Hr(p,g,a)}l=l.sibling}}function ph(r,l){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&po(a))}function mh(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&po(r))}function Jn(r,l,a,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)W0(r,l,a,f),l=l.sibling}function W0(r,l,a,f){var p=l.flags;switch(l.tag){case 0:case 11:case 15:Jn(r,l,a,f),p&2048&&wo(9,l);break;case 1:Jn(r,l,a,f);break;case 3:Jn(r,l,a,f),p&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&po(r)));break;case 12:if(p&2048){Jn(r,l,a,f),r=l.stateNode;try{var g=l.memoizedProps,x=g.id,C=g.onPostCommit;typeof C=="function"&&C(x,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(w){Pe(l,l.return,w)}}else Jn(r,l,a,f);break;case 31:Jn(r,l,a,f);break;case 13:Jn(r,l,a,f);break;case 23:break;case 22:g=l.stateNode,x=l.alternate,l.memoizedState!==null?g._visibility&2?Jn(r,l,a,f):No(r,l):g._visibility&2?Jn(r,l,a,f):(g._visibility|=2,cs(r,l,a,f,(l.subtreeFlags&10256)!==0||!1)),p&2048&&ph(x,l);break;case 24:Jn(r,l,a,f),p&2048&&mh(l.alternate,l);break;default:Jn(r,l,a,f)}}function cs(r,l,a,f,p){for(p=p&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var g=r,x=l,C=a,w=f,z=x.flags;switch(x.tag){case 0:case 11:case 15:cs(g,x,C,w,p),wo(8,x);break;case 23:break;case 22:var V=x.stateNode;x.memoizedState!==null?V._visibility&2?cs(g,x,C,w,p):No(g,x):(V._visibility|=2,cs(g,x,C,w,p)),p&&z&2048&&ph(x.alternate,x);break;case 24:cs(g,x,C,w,p),p&&z&2048&&mh(x.alternate,x);break;default:cs(g,x,C,w,p)}l=l.sibling}}function No(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var a=r,f=l,p=f.flags;switch(f.tag){case 22:No(a,f),p&2048&&ph(f.alternate,f);break;case 24:No(a,f),p&2048&&mh(f.alternate,f);break;default:No(a,f)}l=l.sibling}}var Oo=8192;function fs(r,l,a){if(r.subtreeFlags&Oo)for(r=r.child;r!==null;)Z0(r,l,a),r=r.sibling}function Z0(r,l,a){switch(r.tag){case 26:fs(r,l,a),r.flags&Oo&&r.memoizedState!==null&&PM(a,Kn,r.memoizedState,r.memoizedProps);break;case 5:fs(r,l,a);break;case 3:case 4:var f=Kn;Kn=Gu(r.stateNode.containerInfo),fs(r,l,a),Kn=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=Oo,Oo=16777216,fs(r,l,a),Oo=f):fs(r,l,a));break;default:fs(r,l,a)}}function eb(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Ro(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var a=0;a<l.length;a++){var f=l[a];wt=f,nb(f,r)}eb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tb(r),r=r.sibling}function tb(r){switch(r.tag){case 0:case 11:case 15:Ro(r),r.flags&2048&&hi(9,r,r.return);break;case 3:Ro(r);break;case 12:Ro(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,Ru(r)):Ro(r);break;default:Ro(r)}}function Ru(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var a=0;a<l.length;a++){var f=l[a];wt=f,nb(f,r)}eb(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:hi(8,l,l.return),Ru(l);break;case 22:a=l.stateNode,a._visibility&2&&(a._visibility&=-3,Ru(l));break;default:Ru(l)}r=r.sibling}}function nb(r,l){for(;wt!==null;){var a=wt;switch(a.tag){case 0:case 11:case 15:hi(8,a,l);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var f=a.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:po(a.memoizedState.cache)}if(f=a.child,f!==null)f.return=a,wt=f;else e:for(a=r;wt!==null;){f=wt;var p=f.sibling,g=f.return;if(F0(f),f===a){wt=null;break e}if(p!==null){p.return=g,wt=p;break e}wt=g}}}var nM={getCacheForType:function(r){var l=Lt(gt),a=l.data.get(r);return a===void 0&&(a=r(),l.data.set(r,a)),a},cacheSignal:function(){return Lt(gt).controller.signal}},rM=typeof WeakMap=="function"?WeakMap:Map,je=0,Ye=null,ke=null,Oe=0,Ie=0,yn=null,pi=!1,ds=!1,gh=!1,Ur=0,ot=0,mi=0,pl=0,yh=0,bn=0,hs=0,Do=null,sn=null,bh=!1,Du=0,rb=0,_u=1/0,Lu=null,gi=null,Tt=0,yi=null,ps=null,Ir=0,vh=0,xh=null,ib=null,_o=0,Sh=null;function vn(){return(je&2)!==0&&Oe!==0?Oe&-Oe:I.T!==null?wh():Ws()}function lb(){if(bn===0)if((Oe&536870912)===0||De){var r=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),bn=r}else bn=536870912;return r=mn.current,r!==null&&(r.flags|=32),bn}function on(r,l,a){(r===Ye&&(Ie===2||Ie===9)||r.cancelPendingCommit!==null)&&(ms(r,0),bi(r,Oe,bn,!1)),ni(r,a),((je&2)===0||r!==Ye)&&(r===Ye&&((je&2)===0&&(pl|=a),ot===4&&bi(r,Oe,bn,!1)),lr(r))}function sb(r,l,a){if((je&6)!==0)throw Error(i(327));var f=!a&&(l&127)===0&&(l&r.expiredLanes)===0||Wi(r,l),p=f?sM(r,l):Th(r,l,!0),g=f;do{if(p===0){ds&&!f&&bi(r,l,0,!1);break}else{if(a=r.current.alternate,g&&!iM(a)){p=Th(r,l,!1),g=!1;continue}if(p===2){if(g=l,r.errorRecoveryDisabledLanes&g)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){l=x;e:{var C=r;p=Do;var w=C.current.memoizedState.isDehydrated;if(w&&(ms(C,x).flags|=256),x=Th(C,x,!1),x!==2){if(gh&&!w){C.errorRecoveryDisabledLanes|=g,pl|=g,p=4;break e}g=sn,sn=p,g!==null&&(sn===null?sn=g:sn.push.apply(sn,g))}p=x}if(g=!1,p!==2)continue}}if(p===1){ms(r,0),bi(r,l,0,!0);break}e:{switch(f=r,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:bi(f,l,bn,!pi);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(p=Du+300-Rt(),10<p)){if(bi(f,l,bn,!pi),Il(f,0,!0)!==0)break e;Ir=l,f.timeoutHandle=Bb(ob.bind(null,f,a,sn,Lu,bh,l,bn,pl,hs,pi,g,"Throttled",-0,0),p);break e}ob(f,a,sn,Lu,bh,l,bn,pl,hs,pi,g,null,-0,0)}}break}while(!0);lr(r)}function ob(r,l,a,f,p,g,x,C,w,z,V,F,B,U){if(r.timeoutHandle=-1,F=l.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mr},Z0(l,g,F);var le=(g&62914560)===g?Du-Rt():(g&4194048)===g?rb-Rt():0;if(le=VM(F,le),le!==null){Ir=g,r.cancelPendingCommit=le(mb.bind(null,r,l,g,a,f,p,x,C,w,V,F,null,B,U)),bi(r,g,x,!z);return}}mb(r,l,g,a,f,p,x,C,w)}function iM(r){for(var l=r;;){var a=l.tag;if((a===0||a===11||a===15)&&l.flags&16384&&(a=l.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var f=0;f<a.length;f++){var p=a[f],g=p.getSnapshot;p=p.value;try{if(!hn(g(),p))return!1}catch{return!1}}if(a=l.child,l.subtreeFlags&16384&&a!==null)a.return=l,l=a;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function bi(r,l,a,f){l&=~yh,l&=~pl,r.suspendedLanes|=l,r.pingedLanes&=~l,f&&(r.warmLanes|=l),f=r.expirationTimes;for(var p=l;0<p;){var g=31-pt(p),x=1<<g;f[g]=-1,p&=~x}a!==0&&Xs(r,a,l)}function zu(){return(je&6)===0?(Lo(0),!1):!0}function Eh(){if(ke!==null){if(Ie===0)var r=ke.return;else r=ke,Nr=ll=null,Hd(r),is=null,go=0,r=ke;for(;r!==null;)H0(r.alternate,r),r=r.return;ke=null}}function ms(r,l){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,CM(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Ir=0,Eh(),Ye=r,ke=a=wr(r.current,null),Oe=l,Ie=0,yn=null,pi=!1,ds=Wi(r,l),gh=!1,hs=bn=yh=pl=mi=ot=0,sn=Do=null,bh=!1,(l&8)!==0&&(l|=l&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=l;0<f;){var p=31-pt(f),g=1<<p;l|=r[p],f&=~g}return Ur=l,nu(),a}function ab(r,l){xe=null,I.H=Co,l===rs||l===cu?(l=Cy(),Ie=3):l===Ad?(l=Cy(),Ie=4):Ie=l===eh?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,yn=l,ke===null&&(ot=1,Cu(r,Nn(l,r.current)))}function ub(){var r=mn.current;return r===null?!0:(Oe&4194048)===Oe?_n===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?r===_n:!1}function cb(){var r=I.H;return I.H=Co,r===null?Co:r}function fb(){var r=I.A;return I.A=nM,r}function ju(){ot=4,pi||(Oe&4194048)!==Oe&&mn.current!==null||(ds=!0),(mi&134217727)===0&&(pl&134217727)===0||Ye===null||bi(Ye,Oe,bn,!1)}function Th(r,l,a){var f=je;je|=2;var p=cb(),g=fb();(Ye!==r||Oe!==l)&&(Lu=null,ms(r,l)),l=!1;var x=ot;e:do try{if(Ie!==0&&ke!==null){var C=ke,w=yn;switch(Ie){case 8:Eh(),x=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(l=!0);var z=Ie;if(Ie=0,yn=null,gs(r,C,w,z),a&&ds){x=0;break e}break;default:z=Ie,Ie=0,yn=null,gs(r,C,w,z)}}lM(),x=ot;break}catch(V){ab(r,V)}while(!0);return l&&r.shellSuspendCounter++,Nr=ll=null,je=f,I.H=p,I.A=g,ke===null&&(Ye=null,Oe=0,nu()),x}function lM(){for(;ke!==null;)db(ke)}function sM(r,l){var a=je;je|=2;var f=cb(),p=fb();Ye!==r||Oe!==l?(Lu=null,_u=Rt()+500,ms(r,l)):ds=Wi(r,l);e:do try{if(Ie!==0&&ke!==null){l=ke;var g=yn;t:switch(Ie){case 1:Ie=0,yn=null,gs(r,l,g,1);break;case 2:case 9:if(Ey(g)){Ie=0,yn=null,hb(l);break}l=function(){Ie!==2&&Ie!==9||Ye!==r||(Ie=7),lr(r)},g.then(l,l);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Ey(g)?(Ie=0,yn=null,hb(l)):(Ie=0,yn=null,gs(r,l,g,7));break;case 5:var x=null;switch(ke.tag){case 26:x=ke.memoizedState;case 5:case 27:var C=ke;if(x?Wb(x):C.stateNode.complete){Ie=0,yn=null;var w=C.sibling;if(w!==null)ke=w;else{var z=C.return;z!==null?(ke=z,Bu(z)):ke=null}break t}}Ie=0,yn=null,gs(r,l,g,5);break;case 6:Ie=0,yn=null,gs(r,l,g,6);break;case 8:Eh(),ot=6;break e;default:throw Error(i(462))}}oM();break}catch(V){ab(r,V)}while(!0);return Nr=ll=null,I.H=f,I.A=p,je=a,ke!==null?0:(Ye=null,Oe=0,nu(),ot)}function oM(){for(;ke!==null&&!Ha();)db(ke)}function db(r){var l=j0(r.alternate,r,Ur);r.memoizedProps=r.pendingProps,l===null?Bu(r):ke=l}function hb(r){var l=r,a=l.alternate;switch(l.tag){case 15:case 0:l=O0(a,l,l.pendingProps,l.type,void 0,Oe);break;case 11:l=O0(a,l,l.pendingProps,l.type.render,l.ref,Oe);break;case 5:Hd(l);default:H0(a,l),l=ke=fy(l,Ur),l=j0(a,l,Ur)}r.memoizedProps=r.pendingProps,l===null?Bu(r):ke=l}function gs(r,l,a,f){Nr=ll=null,Hd(l),is=null,go=0;var p=l.return;try{if(JC(r,p,l,a,Oe)){ot=1,Cu(r,Nn(a,r.current)),ke=null;return}}catch(g){if(p!==null)throw ke=p,g;ot=1,Cu(r,Nn(a,r.current)),ke=null;return}l.flags&32768?(De||f===1?r=!0:ds||(Oe&536870912)!==0?r=!1:(pi=r=!0,(f===2||f===9||f===3||f===6)&&(f=mn.current,f!==null&&f.tag===13&&(f.flags|=16384))),pb(l,r)):Bu(l)}function Bu(r){var l=r;do{if((l.flags&32768)!==0){pb(l,pi);return}r=l.return;var a=WC(l.alternate,l,Ur);if(a!==null){ke=a;return}if(l=l.sibling,l!==null){ke=l;return}ke=l=r}while(l!==null);ot===0&&(ot=5)}function pb(r,l){do{var a=ZC(r.alternate,r);if(a!==null){a.flags&=32767,ke=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!l&&(r=r.sibling,r!==null)){ke=r;return}ke=r=a}while(r!==null);ot=6,ke=null}function mb(r,l,a,f,p,g,x,C,w){r.cancelPendingCommit=null;do Hu();while(Tt!==0);if((je&6)!==0)throw Error(i(327));if(l!==null){if(l===r.current)throw Error(i(177));if(g=l.lanes|l.childLanes,g|=fd,Js(r,a,g,x,C,w),r===Ye&&(ke=Ye=null,Oe=0),ps=l,yi=r,Ir=a,vh=g,xh=p,ib=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,fM(ti,function(){return xb(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=I.T,I.T=null,p=ee.p,ee.p=2,x=je,je|=4;try{eM(r,l,a)}finally{je=x,ee.p=p,I.T=f}}Tt=1,gb(),yb(),bb()}}function gb(){if(Tt===1){Tt=0;var r=yi,l=ps,a=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var f=ee.p;ee.p=2;var p=je;je|=4;try{X0(l,r);var g=zh,x=ny(r.containerInfo),C=g.focusedElem,w=g.selectionRange;if(x!==C&&C&&C.ownerDocument&&ty(C.ownerDocument.documentElement,C)){if(w!==null&&sd(C)){var z=w.start,V=w.end;if(V===void 0&&(V=z),"selectionStart"in C)C.selectionStart=z,C.selectionEnd=Math.min(V,C.value.length);else{var F=C.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var U=B.getSelection(),le=C.textContent.length,ge=Math.min(w.start,le),$e=w.end===void 0?ge:Math.min(w.end,le);!U.extend&&ge>$e&&(x=$e,$e=ge,ge=x);var D=ey(C,ge),O=ey(C,$e);if(D&&O&&(U.rangeCount!==1||U.anchorNode!==D.node||U.anchorOffset!==D.offset||U.focusNode!==O.node||U.focusOffset!==O.offset)){var L=F.createRange();L.setStart(D.node,D.offset),U.removeAllRanges(),ge>$e?(U.addRange(L),U.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),U.addRange(L))}}}}for(F=[],U=C;U=U.parentNode;)U.nodeType===1&&F.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<F.length;C++){var G=F[C];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Xu=!!Lh,zh=Lh=null}finally{je=p,ee.p=f,I.T=a}}r.current=l,Tt=2}}function yb(){if(Tt===2){Tt=0;var r=yi,l=ps,a=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var f=ee.p;ee.p=2;var p=je;je|=4;try{$0(r,l.alternate,l)}finally{je=p,ee.p=f,I.T=a}}Tt=3}}function bb(){if(Tt===4||Tt===3){Tt=0,Vf();var r=yi,l=ps,a=Ir,f=ib;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Tt=5:(Tt=0,ps=yi=null,vb(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(gi=null),Fn(a),l=l.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(er,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=I.T,p=ee.p,ee.p=2,I.T=null;try{for(var g=r.onRecoverableError,x=0;x<f.length;x++){var C=f[x];g(C.value,{componentStack:C.stack})}}finally{I.T=l,ee.p=p}}(Ir&3)!==0&&Hu(),lr(r),p=r.pendingLanes,(a&261930)!==0&&(p&42)!==0?r===Sh?_o++:(_o=0,Sh=r):_o=0,Lo(0)}}function vb(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,po(l)))}function Hu(){return gb(),yb(),bb(),xb()}function xb(){if(Tt!==5)return!1;var r=yi,l=vh;vh=0;var a=Fn(Ir),f=I.T,p=ee.p;try{ee.p=32>a?32:a,I.T=null,a=xh,xh=null;var g=yi,x=Ir;if(Tt=0,ps=yi=null,Ir=0,(je&6)!==0)throw Error(i(331));var C=je;if(je|=4,tb(g.current),W0(g,g.current,x,a),je=C,Lo(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(er,g)}catch{}return!0}finally{ee.p=p,I.T=f,vb(r,l)}}function Sb(r,l,a){l=Nn(a,l),l=Zd(r.stateNode,l,2),r=ci(r,l,2),r!==null&&(ni(r,2),lr(r))}function Pe(r,l,a){if(r.tag===3)Sb(r,r,a);else for(;l!==null;){if(l.tag===3){Sb(l,r,a);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(gi===null||!gi.has(f))){r=Nn(a,r),a=E0(2),f=ci(l,a,2),f!==null&&(T0(a,f,l,r),ni(f,2),lr(f));break}}l=l.return}}function Ch(r,l,a){var f=r.pingCache;if(f===null){f=r.pingCache=new rM;var p=new Set;f.set(l,p)}else p=f.get(l),p===void 0&&(p=new Set,f.set(l,p));p.has(a)||(gh=!0,p.add(a),r=aM.bind(null,r,l,a),l.then(r,r))}function aM(r,l,a){var f=r.pingCache;f!==null&&f.delete(l),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Ye===r&&(Oe&a)===a&&(ot===4||ot===3&&(Oe&62914560)===Oe&&300>Rt()-Du?(je&2)===0&&ms(r,0):yh|=a,hs===Oe&&(hs=0)),lr(r)}function Eb(r,l){l===0&&(l=Er()),r=nl(r,l),r!==null&&(ni(r,l),lr(r))}function uM(r){var l=r.memoizedState,a=0;l!==null&&(a=l.retryLane),Eb(r,a)}function cM(r,l){var a=0;switch(r.tag){case 31:case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(l),Eb(r,a)}function fM(r,l){return ei(r,l)}var Uu=null,ys=null,Mh=!1,Iu=!1,Ah=!1,vi=0;function lr(r){r!==ys&&r.next===null&&(ys===null?Uu=ys=r:ys=ys.next=r),Iu=!0,Mh||(Mh=!0,hM())}function Lo(r,l){if(!Ah&&Iu){Ah=!0;do for(var a=!1,f=Uu;f!==null;){if(r!==0){var p=f.pendingLanes;if(p===0)var g=0;else{var x=f.suspendedLanes,C=f.pingedLanes;g=(1<<31-pt(42|r)+1)-1,g&=p&~(x&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Ab(f,g))}else g=Oe,g=Il(f,f===Ye?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||Wi(f,g)||(a=!0,Ab(f,g));f=f.next}while(a);Ah=!1}}function dM(){Tb()}function Tb(){Iu=Mh=!1;var r=0;vi!==0&&TM()&&(r=vi);for(var l=Rt(),a=null,f=Uu;f!==null;){var p=f.next,g=Cb(f,l);g===0?(f.next=null,a===null?Uu=p:a.next=p,p===null&&(ys=a)):(a=f,(r!==0||(g&3)!==0)&&(Iu=!0)),f=p}Tt!==0&&Tt!==5||Lo(r),vi!==0&&(vi=0)}function Cb(r,l){for(var a=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var x=31-pt(g),C=1<<x,w=p[x];w===-1?((C&a)===0||(C&f)!==0)&&(p[x]=ct(C,l)):w<=l&&(r.expiredLanes|=C),g&=~C}if(l=Ye,a=Oe,a=Il(r,r===l?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,a===0||r===l&&(Ie===2||Ie===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Hl(f),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Wi(r,a)){if(l=a&-a,l===r.callbackPriority)return l;switch(f!==null&&Hl(f),Fn(a)){case 2:case 8:a=fn;break;case 32:a=ti;break;case 268435456:a=Gs;break;default:a=ti}return f=Mb.bind(null,r),a=ei(a,f),r.callbackPriority=l,r.callbackNode=a,l}return f!==null&&f!==null&&Hl(f),r.callbackPriority=2,r.callbackNode=null,2}function Mb(r,l){if(Tt!==0&&Tt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Hu()&&r.callbackNode!==a)return null;var f=Oe;return f=Il(r,r===Ye?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(sb(r,f,l),Cb(r,Rt()),r.callbackNode!=null&&r.callbackNode===a?Mb.bind(null,r):null)}function Ab(r,l){if(Hu())return null;sb(r,l,!0)}function hM(){MM(function(){(je&6)!==0?ei(vr,dM):Tb()})}function wh(){if(vi===0){var r=ts;r===0&&(r=xr,xr<<=1,(xr&261888)===0&&(xr=256)),vi=r}return vi}function wb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ka(""+r)}function kb(r,l){var a=l.ownerDocument.createElement("input");return a.name=l.name,a.value=l.value,r.id&&a.setAttribute("form",r.id),l.parentNode.insertBefore(a,l),r=new FormData(r),a.parentNode.removeChild(a),r}function pM(r,l,a,f,p){if(l==="submit"&&a&&a.stateNode===p){var g=wb((p[Ze]||null).action),x=f.submitter;x&&(l=(l=x[Ze]||null)?wb(l.formAction):x.getAttribute("formAction"),l!==null&&(g=l,x=null));var C=new Wa("action","action",null,f,p);r.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(vi!==0){var w=x?kb(p,x):new FormData(p);Yd(a,{pending:!0,data:w,method:p.method,action:g},null,w)}}else typeof g=="function"&&(C.preventDefault(),w=x?kb(p,x):new FormData(p),Yd(a,{pending:!0,data:w,method:p.method,action:g},g,w))},currentTarget:p}]})}}for(var kh=0;kh<cd.length;kh++){var Nh=cd[kh],mM=Nh.toLowerCase(),gM=Nh[0].toUpperCase()+Nh.slice(1);Yn(mM,"on"+gM)}Yn(ly,"onAnimationEnd"),Yn(sy,"onAnimationIteration"),Yn(oy,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(DC,"onTransitionRun"),Yn(_C,"onTransitionStart"),Yn(LC,"onTransitionCancel"),Yn(ay,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function Nb(r,l){l=(l&4)!==0;for(var a=0;a<r.length;a++){var f=r[a],p=f.event;f=f.listeners;e:{var g=void 0;if(l)for(var x=f.length-1;0<=x;x--){var C=f[x],w=C.instance,z=C.currentTarget;if(C=C.listener,w!==g&&p.isPropagationStopped())break e;g=C,p.currentTarget=z;try{g(p)}catch(V){tu(V)}p.currentTarget=null,g=w}else for(x=0;x<f.length;x++){if(C=f[x],w=C.instance,z=C.currentTarget,C=C.listener,w!==g&&p.isPropagationStopped())break e;g=C,p.currentTarget=z;try{g(p)}catch(V){tu(V)}p.currentTarget=null,g=w}}}}function Ne(r,l){var a=l[Pl];a===void 0&&(a=l[Pl]=new Set);var f=r+"__bubble";a.has(f)||(Ob(l,r,2,!1),a.add(f))}function Oh(r,l,a){var f=0;l&&(f|=4),Ob(a,r,f,l)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Rh(r){if(!r[Pu]){r[Pu]=!0,Dt.forEach(function(a){a!=="selectionchange"&&(yM.has(a)||Oh(a,!1,r),Oh(a,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[Pu]||(l[Pu]=!0,Oh("selectionchange",!1,l))}}function Ob(r,l,a,f){switch(lv(l)){case 2:var p=$M;break;case 8:p=FM;break;default:p=Fh}a=p.bind(null,l,a,r),p=void 0,!Qf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(l,a,{capture:!0,passive:p}):r.addEventListener(l,a,!0):p!==void 0?r.addEventListener(l,a,{passive:p}):r.addEventListener(l,a,!1)}function Dh(r,l,a,f,p){var g=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var C=f.stateNode.containerInfo;if(C===p)break;if(x===4)for(x=f.return;x!==null;){var w=x.tag;if((w===3||w===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;C!==null;){if(x=Q(C),x===null)return;if(w=x.tag,w===5||w===6||w===26||w===27){f=g=x;continue e}C=C.parentNode}}f=f.return}zg(function(){var z=g,V=Jf(a),F=[];e:{var B=uy.get(r);if(B!==void 0){var U=Wa,le=r;switch(r){case"keypress":if(Xa(a)===0)break e;case"keydown":case"keyup":U=cC;break;case"focusin":le="focus",U=td;break;case"focusout":le="blur",U=td;break;case"beforeblur":case"afterblur":U=td;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=WT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=hC;break;case ly:case sy:case oy:U=tC;break;case ay:U=mC;break;case"scroll":case"scrollend":U=XT;break;case"wheel":U=yC;break;case"copy":case"cut":case"paste":U=rC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ig;break;case"toggle":case"beforetoggle":U=vC}var ge=(l&4)!==0,$e=!ge&&(r==="scroll"||r==="scrollend"),D=ge?B!==null?B+"Capture":null:B;ge=[];for(var O=z,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||D===null||(G=no(O,D),G!=null&&ge.push(jo(O,G,L))),$e)break;O=O.return}0<ge.length&&(B=new U(B,le,null,a,V),F.push({event:B,listeners:ge}))}}if((l&7)===0){e:{if(B=r==="mouseover"||r==="pointerover",U=r==="mouseout"||r==="pointerout",B&&a!==Kf&&(le=a.relatedTarget||a.fromElement)&&(Q(le)||le[Tr]))break e;if((U||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,U?(le=a.relatedTarget||a.toElement,U=z,le=le?Q(le):null,le!==null&&($e=o(le),ge=le.tag,le!==$e||ge!==5&&ge!==27&&ge!==6)&&(le=null)):(U=null,le=z),U!==le)){if(ge=Hg,G="onMouseLeave",D="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(ge=Ig,G="onPointerLeave",D="onPointerEnter",O="pointer"),$e=U==null?B:Ue(U),L=le==null?B:Ue(le),B=new ge(G,O+"leave",U,a,V),B.target=$e,B.relatedTarget=L,G=null,Q(V)===z&&(ge=new ge(D,O+"enter",le,a,V),ge.target=L,ge.relatedTarget=$e,G=ge),$e=G,U&&le)t:{for(ge=bM,D=U,O=le,L=0,G=D;G;G=ge(G))L++;G=0;for(var he=O;he;he=ge(he))G++;for(;0<L-G;)D=ge(D),L--;for(;0<G-L;)O=ge(O),G--;for(;L--;){if(D===O||O!==null&&D===O.alternate){ge=D;break t}D=ge(D),O=ge(O)}ge=null}else ge=null;U!==null&&Rb(F,B,U,ge,!1),le!==null&&$e!==null&&Rb(F,$e,le,ge,!0)}}e:{if(B=z?Ue(z):window,U=B.nodeName&&B.nodeName.toLowerCase(),U==="select"||U==="input"&&B.type==="file")var Le=Kg;else if(Fg(B))if(Jg)Le=NC;else{Le=wC;var ue=AC}else U=B.nodeName,!U||U.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Yf(z.elementType)&&(Le=Kg):Le=kC;if(Le&&(Le=Le(r,z))){Yg(F,Le,a,V);break e}ue&&ue(r,B,z),r==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ff(B,"number",B.value)}switch(ue=z?Ue(z):window,r){case"focusin":(Fg(ue)||ue.contentEditable==="true")&&(Yl=ue,od=z,co=null);break;case"focusout":co=od=Yl=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,ry(F,a,V);break;case"selectionchange":if(RC)break;case"keydown":case"keyup":ry(F,a,V)}var Ee;if(rd)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Fl?Gg(r,a)&&(Re="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(Pg&&a.locale!=="ko"&&(Fl||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Fl&&(Ee=jg()):(ri=V,Wf="value"in ri?ri.value:ri.textContent,Fl=!0)),ue=Vu(z,Re),0<ue.length&&(Re=new Ug(Re,r,null,a,V),F.push({event:Re,listeners:ue}),Ee?Re.data=Ee:(Ee=$g(a),Ee!==null&&(Re.data=Ee)))),(Ee=SC?EC(r,a):TC(r,a))&&(Re=Vu(z,"onBeforeInput"),0<Re.length&&(ue=new Ug("onBeforeInput","beforeinput",null,a,V),F.push({event:ue,listeners:Re}),ue.data=Ee)),pM(F,r,z,a,V)}Nb(F,l)})}function jo(r,l,a){return{instance:r,listener:l,currentTarget:a}}function Vu(r,l){for(var a=l+"Capture",f=[];r!==null;){var p=r,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=no(r,a),p!=null&&f.unshift(jo(r,p,g)),p=no(r,l),p!=null&&f.push(jo(r,p,g))),r.tag===3)return f;r=r.return}return[]}function bM(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Rb(r,l,a,f,p){for(var g=l._reactName,x=[];a!==null&&a!==f;){var C=a,w=C.alternate,z=C.stateNode;if(C=C.tag,w!==null&&w===f)break;C!==5&&C!==26&&C!==27||z===null||(w=z,p?(z=no(a,g),z!=null&&x.unshift(jo(a,z,w))):p||(z=no(a,g),z!=null&&x.push(jo(a,z,w)))),a=a.return}x.length!==0&&r.push({event:l,listeners:x})}var vM=/\r\n?/g,xM=/\u0000|\uFFFD/g;function Db(r){return(typeof r=="string"?r:""+r).replace(vM,`
`).replace(xM,"")}function _b(r,l){return l=Db(l),Db(r)===l}function Ge(r,l,a,f,p,g){switch(a){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||ql(r,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&ql(r,""+f);break;case"className":Fa(r,"class",f);break;case"tabIndex":Fa(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Fa(r,a,f);break;case"style":_g(r,f,g);break;case"data":if(l!=="object"){Fa(r,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||a!=="href")){r.removeAttribute(a);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(a);break}f=Ka(""+f),r.setAttribute(a,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(l!=="input"&&Ge(r,l,"name",p.name,p,null),Ge(r,l,"formEncType",p.formEncType,p,null),Ge(r,l,"formMethod",p.formMethod,p,null),Ge(r,l,"formTarget",p.formTarget,p,null)):(Ge(r,l,"encType",p.encType,p,null),Ge(r,l,"method",p.method,p,null),Ge(r,l,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(a);break}f=Ka(""+f),r.setAttribute(a,f);break;case"onClick":f!=null&&(r.onclick=Mr);break;case"onScroll":f!=null&&Ne("scroll",r);break;case"onScrollEnd":f!=null&&Ne("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(a=f.__html,a!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}a=Ka(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(a,""+f):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":f===!0?r.setAttribute(a,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(a,f):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(a,f):r.removeAttribute(a);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(a):r.setAttribute(a,f);break;case"popover":Ne("beforetoggle",r),Ne("toggle",r),$a(r,"popover",f);break;case"xlinkActuate":Cr(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Cr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Cr(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Cr(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Cr(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Cr(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Cr(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Cr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Cr(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":$a(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=KT.get(a)||a,$a(r,a,f))}}function _h(r,l,a,f,p,g){switch(a){case"style":_g(r,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(a=f.__html,a!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof f=="string"?ql(r,f):(typeof f=="number"||typeof f=="bigint")&&ql(r,""+f);break;case"onScroll":f!=null&&Ne("scroll",r);break;case"onScrollEnd":f!=null&&Ne("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),l=a.slice(2,p?a.length-7:void 0),g=r[Ze]||null,g=g!=null?g[a]:null,typeof g=="function"&&r.removeEventListener(l,g,p),typeof f=="function")){typeof g!="function"&&g!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(l,f,p);break e}a in r?r[a]=f:f===!0?r.setAttribute(a,""):$a(r,a,f)}}}function jt(r,l,a){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",r),Ne("load",r);var f=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var x=a[g];if(x!=null)switch(g){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Ge(r,l,g,x,a,null)}}p&&Ge(r,l,"srcSet",a.srcSet,a,null),f&&Ge(r,l,"src",a.src,a,null);return;case"input":Ne("invalid",r);var C=g=x=p=null,w=null,z=null;for(f in a)if(a.hasOwnProperty(f)){var V=a[f];if(V!=null)switch(f){case"name":p=V;break;case"type":x=V;break;case"checked":w=V;break;case"defaultChecked":z=V;break;case"value":g=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,l));break;default:Ge(r,l,f,V,a,null)}}Ng(r,g,C,w,z,x,p,!1);return;case"select":Ne("invalid",r),f=x=g=null;for(p in a)if(a.hasOwnProperty(p)&&(C=a[p],C!=null))switch(p){case"value":g=C;break;case"defaultValue":x=C;break;case"multiple":f=C;default:Ge(r,l,p,C,a,null)}l=g,a=x,r.multiple=!!f,l!=null?Vl(r,!!f,l,!1):a!=null&&Vl(r,!!f,a,!0);return;case"textarea":Ne("invalid",r),g=p=f=null;for(x in a)if(a.hasOwnProperty(x)&&(C=a[x],C!=null))switch(x){case"value":f=C;break;case"defaultValue":p=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Ge(r,l,x,C,a,null)}Rg(r,f,p,g);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(f=a[w],f!=null))switch(w){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ge(r,l,w,f,a,null)}return;case"dialog":Ne("beforetoggle",r),Ne("toggle",r),Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":Ne("load",r);break;case"video":case"audio":for(f=0;f<zo.length;f++)Ne(zo[f],r);break;case"image":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"embed":case"source":case"link":Ne("error",r),Ne("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(f=a[z],f!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Ge(r,l,z,f,a,null)}return;default:if(Yf(l)){for(V in a)a.hasOwnProperty(V)&&(f=a[V],f!==void 0&&_h(r,l,V,f,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(f=a[C],f!=null&&Ge(r,l,C,f,a,null))}function SM(r,l,a,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,x=null,C=null,w=null,z=null,V=null;for(U in a){var F=a[U];if(a.hasOwnProperty(U)&&F!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=F;default:f.hasOwnProperty(U)||Ge(r,l,U,null,f,F)}}for(var B in f){var U=f[B];if(F=a[B],f.hasOwnProperty(B)&&(U!=null||F!=null))switch(B){case"type":g=U;break;case"name":p=U;break;case"checked":z=U;break;case"defaultChecked":V=U;break;case"value":x=U;break;case"defaultValue":C=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,l));break;default:U!==F&&Ge(r,l,B,U,f,F)}}$f(r,x,C,w,z,V,g,p);return;case"select":U=x=C=B=null;for(g in a)if(w=a[g],a.hasOwnProperty(g)&&w!=null)switch(g){case"value":break;case"multiple":U=w;default:f.hasOwnProperty(g)||Ge(r,l,g,null,f,w)}for(p in f)if(g=f[p],w=a[p],f.hasOwnProperty(p)&&(g!=null||w!=null))switch(p){case"value":B=g;break;case"defaultValue":C=g;break;case"multiple":x=g;default:g!==w&&Ge(r,l,p,g,f,w)}l=C,a=x,f=U,B!=null?Vl(r,!!a,B,!1):!!f!=!!a&&(l!=null?Vl(r,!!a,l,!0):Vl(r,!!a,a?[]:"",!1));return;case"textarea":U=B=null;for(C in a)if(p=a[C],a.hasOwnProperty(C)&&p!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ge(r,l,C,null,f,p)}for(x in f)if(p=f[x],g=a[x],f.hasOwnProperty(x)&&(p!=null||g!=null))switch(x){case"value":B=p;break;case"defaultValue":U=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&Ge(r,l,x,p,f,g)}Og(r,B,U);return;case"option":for(var le in a)if(B=a[le],a.hasOwnProperty(le)&&B!=null&&!f.hasOwnProperty(le))switch(le){case"selected":r.selected=!1;break;default:Ge(r,l,le,null,f,B)}for(w in f)if(B=f[w],U=a[w],f.hasOwnProperty(w)&&B!==U&&(B!=null||U!=null))switch(w){case"selected":r.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ge(r,l,w,B,f,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)B=a[ge],a.hasOwnProperty(ge)&&B!=null&&!f.hasOwnProperty(ge)&&Ge(r,l,ge,null,f,B);for(z in f)if(B=f[z],U=a[z],f.hasOwnProperty(z)&&B!==U&&(B!=null||U!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,l));break;default:Ge(r,l,z,B,f,U)}return;default:if(Yf(l)){for(var $e in a)B=a[$e],a.hasOwnProperty($e)&&B!==void 0&&!f.hasOwnProperty($e)&&_h(r,l,$e,void 0,f,B);for(V in f)B=f[V],U=a[V],!f.hasOwnProperty(V)||B===U||B===void 0&&U===void 0||_h(r,l,V,B,f,U);return}}for(var D in a)B=a[D],a.hasOwnProperty(D)&&B!=null&&!f.hasOwnProperty(D)&&Ge(r,l,D,null,f,B);for(F in f)B=f[F],U=a[F],!f.hasOwnProperty(F)||B===U||B==null&&U==null||Ge(r,l,F,B,f,U)}function Lb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EM(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,a=performance.getEntriesByType("resource"),f=0;f<a.length;f++){var p=a[f],g=p.transferSize,x=p.initiatorType,C=p.duration;if(g&&C&&Lb(x)){for(x=0,C=p.responseEnd,f+=1;f<a.length;f++){var w=a[f],z=w.startTime;if(z>C)break;var V=w.transferSize,F=w.initiatorType;V&&Lb(F)&&(w=w.responseEnd,x+=V*(w<C?1:(C-z)/(w-z)))}if(--f,l+=8*(g+x)/(p.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Lh=null,zh=null;function qu(r){return r.nodeType===9?r:r.ownerDocument}function zb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jb(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function jh(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Bh=null;function TM(){var r=window.event;return r&&r.type==="popstate"?r===Bh?!1:(Bh=r,!0):(Bh=null,!1)}var Bb=typeof setTimeout=="function"?setTimeout:void 0,CM=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,MM=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(r){return Hb.resolve(null).then(r).catch(AM)}:Bb;function AM(r){setTimeout(function(){throw r})}function xi(r){return r==="head"}function Ub(r,l){var a=l,f=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(f===0){r.removeChild(p),Ss(l);return}f--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")f++;else if(a==="html")Bo(r.ownerDocument.documentElement);else if(a==="head"){a=r.ownerDocument.head,Bo(a);for(var g=a.firstChild;g;){var x=g.nextSibling,C=g.nodeName;g[ae]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=x}}else a==="body"&&Bo(r.ownerDocument.body);a=p}while(a);Ss(l)}function Ib(r,l){var a=r;r=0;do{var f=a.nextSibling;if(a.nodeType===1?l?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(l?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(r===0)break;r--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||r++;a=f}while(a)}function Hh(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var a=l;switch(l=l.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hh(a),N(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function wM(r,l,a,f){for(;r.nodeType===1;){var p=a;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[ae])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Ln(r.nextSibling),r===null)break}return null}function kM(r,l,a){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ln(r.nextSibling),r===null))return null;return r}function Pb(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Ln(r.nextSibling),r===null))return null;return r}function Uh(r){return r.data==="$?"||r.data==="$~"}function Ih(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function NM(r,l){var a=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||a.readyState!=="loading")l();else{var f=function(){l(),a.removeEventListener("DOMContentLoaded",f)};a.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Ln(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var Ph=null;function Vb(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"||a==="/&"){if(l===0)return Ln(r.nextSibling);l--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||l++}r=r.nextSibling}return null}function qb(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(l===0)return r;l--}else a!=="/$"&&a!=="/&"||l++}r=r.previousSibling}return null}function Gb(r,l,a){switch(l=qu(a),r){case"html":if(r=l.documentElement,!r)throw Error(i(452));return r;case"head":if(r=l.head,!r)throw Error(i(453));return r;case"body":if(r=l.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Bo(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);N(r)}var zn=new Map,$b=new Set;function Gu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Pr=ee.d;ee.d={f:OM,r:RM,D:DM,C:_M,L:LM,m:zM,X:BM,S:jM,M:HM};function OM(){var r=Pr.f(),l=zu();return r||l}function RM(r){var l=re(r);l!==null&&l.tag===5&&l.type==="form"?a0(l):Pr.r(r)}var bs=typeof document>"u"?null:document;function Fb(r,l,a){var f=bs;if(f&&typeof l=="string"&&l){var p=wn(l);p='link[rel="'+r+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),$b.has(p)||($b.add(p),r={rel:r,crossOrigin:a,href:l},f.querySelector(p)===null&&(l=f.createElement("link"),jt(l,"link",r),Ae(l),f.head.appendChild(l)))}}function DM(r){Pr.D(r),Fb("dns-prefetch",r,null)}function _M(r,l){Pr.C(r,l),Fb("preconnect",r,l)}function LM(r,l,a){Pr.L(r,l,a);var f=bs;if(f&&r&&l){var p='link[rel="preload"][as="'+wn(l)+'"]';l==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+wn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+wn(a.imageSizes)+'"]')):p+='[href="'+wn(r)+'"]';var g=p;switch(l){case"style":g=vs(r);break;case"script":g=xs(r)}zn.has(g)||(r=y({rel:"preload",href:l==="image"&&a&&a.imageSrcSet?void 0:r,as:l},a),zn.set(g,r),f.querySelector(p)!==null||l==="style"&&f.querySelector(Ho(g))||l==="script"&&f.querySelector(Uo(g))||(l=f.createElement("link"),jt(l,"link",r),Ae(l),f.head.appendChild(l)))}}function zM(r,l){Pr.m(r,l);var a=bs;if(a&&r){var f=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+wn(f)+'"][href="'+wn(r)+'"]',g=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=xs(r)}if(!zn.has(g)&&(r=y({rel:"modulepreload",href:r},l),zn.set(g,r),a.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Uo(g)))return}f=a.createElement("link"),jt(f,"link",r),Ae(f),a.head.appendChild(f)}}}function jM(r,l,a){Pr.S(r,l,a);var f=bs;if(f&&r){var p=tt(f).hoistableStyles,g=vs(r);l=l||"default";var x=p.get(g);if(!x){var C={loading:0,preload:null};if(x=f.querySelector(Ho(g)))C.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":l},a),(a=zn.get(g))&&Vh(r,a);var w=x=f.createElement("link");Ae(w),jt(w,"link",r),w._p=new Promise(function(z,V){w.onload=z,w.onerror=V}),w.addEventListener("load",function(){C.loading|=1}),w.addEventListener("error",function(){C.loading|=2}),C.loading|=4,$u(x,l,f)}x={type:"stylesheet",instance:x,count:1,state:C},p.set(g,x)}}}function BM(r,l){Pr.X(r,l);var a=bs;if(a&&r){var f=tt(a).hoistableScripts,p=xs(r),g=f.get(p);g||(g=a.querySelector(Uo(p)),g||(r=y({src:r,async:!0},l),(l=zn.get(p))&&qh(r,l),g=a.createElement("script"),Ae(g),jt(g,"link",r),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function HM(r,l){Pr.M(r,l);var a=bs;if(a&&r){var f=tt(a).hoistableScripts,p=xs(r),g=f.get(p);g||(g=a.querySelector(Uo(p)),g||(r=y({src:r,async:!0,type:"module"},l),(l=zn.get(p))&&qh(r,l),g=a.createElement("script"),Ae(g),jt(g,"link",r),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function Yb(r,l,a,f){var p=(p=ve.current)?Gu(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(l=vs(a.href),a=tt(p).hoistableStyles,f=a.get(l),f||(f={type:"style",instance:null,count:0,state:null},a.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=vs(a.href);var g=tt(p).hoistableStyles,x=g.get(r);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,x),(g=p.querySelector(Ho(r)))&&!g._p&&(x.instance=g,x.state.loading=5),zn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(r,a),g||UM(p,r,a,x.state))),l&&f===null)throw Error(i(528,""));return x}if(l&&f!==null)throw Error(i(529,""));return null;case"script":return l=a.async,a=a.src,typeof a=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=xs(a),a=tt(p).hoistableScripts,f=a.get(l),f||(f={type:"script",instance:null,count:0,state:null},a.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function vs(r){return'href="'+wn(r)+'"'}function Ho(r){return'link[rel="stylesheet"]['+r+"]"}function Kb(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function UM(r,l,a,f){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=r.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),jt(l,"link",a),Ae(l),r.head.appendChild(l))}function xs(r){return'[src="'+wn(r)+'"]'}function Uo(r){return"script[async]"+r}function Jb(r,l,a){if(l.count++,l.instance===null)switch(l.type){case"style":var f=r.querySelector('style[data-href~="'+wn(a.href)+'"]');if(f)return l.instance=f,Ae(f),f;var p=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Ae(f),jt(f,"style",p),$u(f,a.precedence,r),l.instance=f;case"stylesheet":p=vs(a.href);var g=r.querySelector(Ho(p));if(g)return l.state.loading|=4,l.instance=g,Ae(g),g;f=Kb(a),(p=zn.get(p))&&Vh(f,p),g=(r.ownerDocument||r).createElement("link"),Ae(g);var x=g;return x._p=new Promise(function(C,w){x.onload=C,x.onerror=w}),jt(g,"link",f),l.state.loading|=4,$u(g,a.precedence,r),l.instance=g;case"script":return g=xs(a.src),(p=r.querySelector(Uo(g)))?(l.instance=p,Ae(p),p):(f=a,(p=zn.get(g))&&(f=y({},a),qh(f,p)),r=r.ownerDocument||r,p=r.createElement("script"),Ae(p),jt(p,"link",f),r.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,$u(f,a.precedence,r));return l.instance}function $u(r,l,a){for(var f=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,g=p,x=0;x<f.length;x++){var C=f[x];if(C.dataset.precedence===l)g=C;else if(g!==p)break}g?g.parentNode.insertBefore(r,g.nextSibling):(l=a.nodeType===9?a.head:a,l.insertBefore(r,l.firstChild))}function Vh(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function qh(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var Fu=null;function Xb(r,l,a){if(Fu===null){var f=new Map,p=Fu=new Map;p.set(a,f)}else p=Fu,f=p.get(a),f||(f=new Map,p.set(a,f));if(f.has(r))return f;for(f.set(r,null),a=a.getElementsByTagName(r),p=0;p<a.length;p++){var g=a[p];if(!(g[ae]||g[mt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(l)||"";x=r+x;var C=f.get(x);C?C.push(g):f.set(x,[g])}}return f}function Qb(r,l,a){r=r.ownerDocument||r,r.head.insertBefore(a,l==="title"?r.querySelector("head > title"):null)}function IM(r,l,a){if(a===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Wb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function PM(r,l,a,f){if(a.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=vs(f.href),g=l.querySelector(Ho(p));if(g){l=g._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=Yu.bind(r),l.then(r,r)),a.state.loading|=4,a.instance=g,Ae(g);return}g=l.ownerDocument||l,f=Kb(f),(p=zn.get(p))&&Vh(f,p),g=g.createElement("link"),Ae(g);var x=g;x._p=new Promise(function(C,w){x.onload=C,x.onerror=w}),jt(g,"link",f),a.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(a,l),(l=a.state.preload)&&(a.state.loading&3)===0&&(r.count++,a=Yu.bind(r),l.addEventListener("load",a),l.addEventListener("error",a))}}var Gh=0;function VM(r,l){return r.stylesheets&&r.count===0&&Ju(r,r.stylesheets),0<r.count||0<r.imgCount?function(a){var f=setTimeout(function(){if(r.stylesheets&&Ju(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+l);0<r.imgBytes&&Gh===0&&(Gh=62500*EM());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Ju(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>Gh?50:800)+l);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(p)}}:null}function Yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ju(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ku=null;function Ju(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ku=new Map,l.forEach(qM,r),Ku=null,Yu.call(r))}function qM(r,l){if(!(l.state.loading&4)){var a=Ku.get(r);if(a)var f=a.get(null);else{a=new Map,Ku.set(r,a);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var x=p[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),f=x)}f&&a.set(null,f)}p=l.instance,x=p.getAttribute("data-precedence"),g=a.get(x)||f,g===f&&a.set(null,p),a.set(x,p),this.count++,f=Yu.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),g?g.parentNode.insertBefore(p,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),l.state.loading|=4}}var Io={$$typeof:j,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function GM(r,l,a,f,p,g,x,C,w){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.hiddenUpdates=Ks(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Zb(r,l,a,f,p,g,x,C,w,z,V,F){return r=new GM(r,l,a,x,w,z,V,F,C),l=1,g===!0&&(l|=24),g=pn(3,null,null,l),r.current=g,g.stateNode=r,l=Td(),l.refCount++,r.pooledCache=l,l.refCount++,g.memoizedState={element:f,isDehydrated:a,cache:l},wd(g),r}function ev(r){return r?(r=Xl,r):Xl}function tv(r,l,a,f,p,g){p=ev(p),f.context===null?f.context=p:f.pendingContext=p,f=ui(l),f.payload={element:a},g=g===void 0?null:g,g!==null&&(f.callback=g),a=ci(r,f,l),a!==null&&(on(a,r,l),bo(a,r,l))}function nv(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<l?a:l}}function $h(r,l){nv(r,l),(r=r.alternate)&&nv(r,l)}function rv(r){if(r.tag===13||r.tag===31){var l=nl(r,67108864);l!==null&&on(l,r,67108864),$h(r,67108864)}}function iv(r){if(r.tag===13||r.tag===31){var l=vn();l=Zt(l);var a=nl(r,l);a!==null&&on(a,r,l),$h(r,l)}}var Xu=!0;function $M(r,l,a,f){var p=I.T;I.T=null;var g=ee.p;try{ee.p=2,Fh(r,l,a,f)}finally{ee.p=g,I.T=p}}function FM(r,l,a,f){var p=I.T;I.T=null;var g=ee.p;try{ee.p=8,Fh(r,l,a,f)}finally{ee.p=g,I.T=p}}function Fh(r,l,a,f){if(Xu){var p=Yh(f);if(p===null)Dh(r,l,f,Qu,a),sv(r,f);else if(KM(p,r,l,a,f))f.stopPropagation();else if(sv(r,f),l&4&&-1<YM.indexOf(r)){for(;p!==null;){var g=re(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=dn(g.pendingLanes);if(x!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;x;){var w=1<<31-pt(x);C.entanglements[1]|=w,x&=~w}lr(g),(je&6)===0&&(_u=Rt()+500,Lo(0))}}break;case 31:case 13:C=nl(g,2),C!==null&&on(C,g,2),zu(),$h(g,2)}if(g=Yh(f),g===null&&Dh(r,l,f,Qu,a),g===p)break;p=g}p!==null&&f.stopPropagation()}else Dh(r,l,f,null,a)}}function Yh(r){return r=Jf(r),Kh(r)}var Qu=null;function Kh(r){if(Qu=null,r=Q(r),r!==null){var l=o(r);if(l===null)r=null;else{var a=l.tag;if(a===13){if(r=u(l),r!==null)return r;r=null}else if(a===31){if(r=c(l),r!==null)return r;r=null}else if(a===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return Qu=r,null}function lv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case vr:return 2;case fn:return 8;case ti:case Ua:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var Jh=!1,Si=null,Ei=null,Ti=null,Po=new Map,Vo=new Map,Ci=[],YM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(r,l){switch(r){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Po.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(l.pointerId)}}function qo(r,l,a,f,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:l,domEventName:a,eventSystemFlags:f,nativeEvent:g,targetContainers:[p]},l!==null&&(l=re(l),l!==null&&rv(l)),r):(r.eventSystemFlags|=f,l=r.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),r)}function KM(r,l,a,f,p){switch(l){case"focusin":return Si=qo(Si,r,l,a,f,p),!0;case"dragenter":return Ei=qo(Ei,r,l,a,f,p),!0;case"mouseover":return Ti=qo(Ti,r,l,a,f,p),!0;case"pointerover":var g=p.pointerId;return Po.set(g,qo(Po.get(g)||null,r,l,a,f,p)),!0;case"gotpointercapture":return g=p.pointerId,Vo.set(g,qo(Vo.get(g)||null,r,l,a,f,p)),!0}return!1}function ov(r){var l=Q(r.target);if(l!==null){var a=o(l);if(a!==null){if(l=a.tag,l===13){if(l=u(a),l!==null){r.blockedOn=l,Zs(r.priority,function(){iv(a)});return}}else if(l===31){if(l=c(a),l!==null){r.blockedOn=l,Zs(r.priority,function(){iv(a)});return}}else if(l===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Wu(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var a=Yh(r.nativeEvent);if(a===null){a=r.nativeEvent;var f=new a.constructor(a.type,a);Kf=f,a.target.dispatchEvent(f),Kf=null}else return l=re(a),l!==null&&rv(l),r.blockedOn=a,!1;l.shift()}return!0}function av(r,l,a){Wu(r)&&a.delete(l)}function JM(){Jh=!1,Si!==null&&Wu(Si)&&(Si=null),Ei!==null&&Wu(Ei)&&(Ei=null),Ti!==null&&Wu(Ti)&&(Ti=null),Po.forEach(av),Vo.forEach(av)}function Zu(r,l){r.blockedOn===l&&(r.blockedOn=null,Jh||(Jh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JM)))}var ec=null;function uv(r){ec!==r&&(ec=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ec===r&&(ec=null);for(var l=0;l<r.length;l+=3){var a=r[l],f=r[l+1],p=r[l+2];if(typeof f!="function"){if(Kh(f||a)===null)continue;break}var g=re(a);g!==null&&(r.splice(l,3),l-=3,Yd(g,{pending:!0,data:p,method:a.method,action:f},f,p))}}))}function Ss(r){function l(w){return Zu(w,r)}Si!==null&&Zu(Si,r),Ei!==null&&Zu(Ei,r),Ti!==null&&Zu(Ti,r),Po.forEach(l),Vo.forEach(l);for(var a=0;a<Ci.length;a++){var f=Ci[a];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Ci.length&&(a=Ci[0],a.blockedOn===null);)ov(a),a.blockedOn===null&&Ci.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(f=0;f<a.length;f+=3){var p=a[f],g=a[f+1],x=p[Ze]||null;if(typeof g=="function")x||uv(a);else if(x){var C=null;if(g&&g.hasAttribute("formAction")){if(p=g,x=g[Ze]||null)C=x.formAction;else if(Kh(p)!==null)continue}else C=x.action;typeof C=="function"?a[f+1]=C:(a.splice(f,3),f-=3),uv(a)}}}function cv(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function l(){p!==null&&(p(),p=null),f||setTimeout(a,20)}function a(){if(!f&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(a,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),p!==null&&(p(),p=null)}}}function Xh(r){this._internalRoot=r}tc.prototype.render=Xh.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(i(409));var a=l.current,f=vn();tv(a,f,r,l,null,null)},tc.prototype.unmount=Xh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;tv(r.current,2,null,r,null,null),zu(),l[Tr]=null}};function tc(r){this._internalRoot=r}tc.prototype.unstable_scheduleHydration=function(r){if(r){var l=Ws();r={blockedOn:null,target:r,priority:l};for(var a=0;a<Ci.length&&l!==0&&l<Ci[a].priority;a++);Ci.splice(a,0,r),a===0&&ov(r)}};var fv=e.version;if(fv!=="19.2.3")throw Error(i(527,fv,"19.2.3"));ee.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(l),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var XM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{er=nc.inject(XM),Mt=nc}catch{}}return $o.createRoot=function(r,l){if(!s(r))throw Error(i(299));var a=!1,f="",p=b0,g=v0,x=x0;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Zb(r,1,!1,null,null,a,f,null,p,g,x,cv),r[Tr]=l.current,Rh(r),new Xh(l)},$o.hydrateRoot=function(r,l,a){if(!s(r))throw Error(i(299));var f=!1,p="",g=b0,x=v0,C=x0,w=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),l=Zb(r,1,!0,l,a??null,f,p,w,g,x,C,cv),l.context=ev(null),a=l.current,f=vn(),f=Zt(f),p=ui(f),p.callback=null,ci(a,p,f),a=f,l.current.lanes=a,ni(l,a),lr(l),r[Tr]=l.current,Rh(r),new tc(l)},$o.version="19.2.3",$o}var Sv;function lA(){if(Sv)return Zh.exports;Sv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zh.exports=iA(),Zh.exports}var sA=lA();const oA=Dm(sA);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ev="popstate";function aA(t={}){function e(s,o){let{pathname:u="/",search:c="",hash:d=""}=Dl(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Yp("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let u=s.document.querySelector("base"),c="";if(u&&u.getAttribute("href")){let d=s.location.href,h=d.indexOf("#");c=h===-1?d:d.slice(0,h)}return c+"#"+(typeof o=="string"?o:ba(o))}function i(s,o){Vn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return cA(e,n,i,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uA(){return Math.random().toString(36).substring(2,10)}function Tv(t,e){return{usr:t.state,key:t.key,idx:e}}function Yp(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Dl(e):e,state:n,key:e&&e.key||i||uA()}}function ba({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function cA(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,c="POP",d=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function y(){c="POP";let T=m(),A=T==null?null:T-h;h=T,d&&d({action:c,location:E.location,delta:A})}function b(T,A){c="PUSH";let _=Yp(E.location,T,A);n&&n(_,T),h=m()+1;let j=Tv(_,h),$=E.createHref(_);try{u.pushState(j,"",$)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign($)}o&&d&&d({action:c,location:E.location,delta:1})}function v(T,A){c="REPLACE";let _=Yp(E.location,T,A);n&&n(_,T),h=m();let j=Tv(_,h),$=E.createHref(_);u.replaceState(j,"",$),o&&d&&d({action:c,location:E.location,delta:0})}function S(T){return fA(T)}let E={get action(){return c},get location(){return t(s,u)},listen(T){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Ev,y),d=T,()=>{s.removeEventListener(Ev,y),d=null}},createHref(T){return e(s,T)},createURL:S,encodeLocation(T){let A=S(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:v,go(T){return u.go(T)}};return E}function fA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ba(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function M1(t,e,n="/"){return dA(t,e,n,!1)}function dA(t,e,n,i){let s=typeof e=="string"?Dl(e):e,o=Qr(s.pathname||"/",n);if(o==null)return null;let u=A1(t);hA(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let h=CA(o);c=EA(u[d],h,i)}return c}function A1(t,e=[],n=[],i="",s=!1){let o=(u,c,d=s,h)=>{let m={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&d)return;rt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let y=Kr([i,m.relativePath]),b=n.concat(m);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),A1(u.children,e,b,y,d)),!(u.path==null&&!u.index)&&e.push({path:y,score:xA(y,u.index),routesMeta:b})};return t.forEach((u,c)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,c);else for(let h of w1(u.path))o(u,c,!0,h)}),e}function w1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=w1(i.join("/")),c=[];return c.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...u),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function hA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var pA=/^:[\w-]+$/,mA=3,gA=2,yA=1,bA=10,vA=-2,Cv=t=>t==="*";function xA(t,e){let n=t.split("/"),i=n.length;return n.some(Cv)&&(i+=vA),e&&(i+=gA),n.filter(s=>!Cv(s)).reduce((s,o)=>s+(pA.test(o)?mA:o===""?yA:bA),i)}function SA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function EA(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",u=[];for(let c=0;c<i.length;++c){let d=i[c],h=c===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Rc({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),b=d.route;if(!y&&h&&n&&!i[i.length-1].route.index&&(y=Rc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),u.push({params:s,pathname:Kr([o,y.pathname]),pathnameBase:kA(Kr([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Kr([o,y.pathnameBase]))}return u}function Rc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=TA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((h,{paramName:m,isOptional:y},b)=>{if(m==="*"){let S=c[b]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=c[b];return y&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:t}}function TA(t,e=!1,n=!0){Vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function CA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var k1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MA=t=>k1.test(t);function AA(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Dl(t):t,o;if(n)if(MA(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=Mv(n.substring(1),"/"):o=Mv(n,e)}else o=e;return{pathname:o,search:NA(i),hash:OA(s)}}function Mv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function rp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function N1(t){let e=wA(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function O1(t,e,n,i=!1){let s;typeof t=="string"?s=Dl(t):(s={...t},rt(!s.pathname||!s.pathname.includes("?"),rp("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),rp("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),rp("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=n;else{let y=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}c=y>=0?e[y]:"/"}let d=AA(s,c),h=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Kr=t=>t.join("/").replace(/\/\/+/g,"/"),kA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,RA=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function DA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function _A(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var R1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function D1(t,e){let n=t;if(typeof n!="string"||!k1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(R1)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),c=Qr(u.pathname,e);u.origin===o.origin&&c!=null?n=c+u.search+u.hash:s=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _1=["POST","PUT","PATCH","DELETE"];new Set(_1);var LA=["GET",..._1];new Set(LA);var Ps=R.createContext(null);Ps.displayName="DataRouter";var Cf=R.createContext(null);Cf.displayName="DataRouterState";var zA=R.createContext(!1),L1=R.createContext({isTransitioning:!1});L1.displayName="ViewTransition";var jA=R.createContext(new Map);jA.displayName="Fetchers";var BA=R.createContext(null);BA.displayName="Await";var Gn=R.createContext(null);Gn.displayName="Navigation";var Ra=R.createContext(null);Ra.displayName="Location";var pr=R.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var _m=R.createContext(null);_m.displayName="RouteError";var z1="REACT_ROUTER_ERROR",HA="REDIRECT",UA="ROUTE_ERROR_RESPONSE";function IA(t){if(t.startsWith(`${z1}:${HA}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function PA(t){if(t.startsWith(`${z1}:${UA}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new RA(e.status,e.statusText,e.data)}catch{}}function VA(t,{relative:e}={}){rt(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=R.useContext(Gn),{hash:s,pathname:o,search:u}=_a(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:Kr([n,o])),i.createHref({pathname:c,search:u,hash:s})}function Da(){return R.useContext(Ra)!=null}function mr(){return rt(Da(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Ra).location}var j1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B1(t){R.useContext(Gn).static||R.useLayoutEffect(t)}function _l(){let{isDataRoute:t}=R.useContext(pr);return t?nw():qA()}function qA(){rt(Da(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Ps),{basename:e,navigator:n}=R.useContext(Gn),{matches:i}=R.useContext(pr),{pathname:s}=mr(),o=JSON.stringify(N1(i)),u=R.useRef(!1);return B1(()=>{u.current=!0}),R.useCallback((d,h={})=>{if(Vn(u.current,j1),!u.current)return;if(typeof d=="number"){n.go(d);return}let m=O1(d,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Kr([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,o,s,t])}R.createContext(null);function GA(){let{matches:t}=R.useContext(pr),e=t[t.length-1];return e?e.params:{}}function _a(t,{relative:e}={}){let{matches:n}=R.useContext(pr),{pathname:i}=mr(),s=JSON.stringify(N1(n));return R.useMemo(()=>O1(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function $A(t,e){return H1(t,e)}function H1(t,e,n,i,s){var _;rt(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(Gn),{matches:u}=R.useContext(pr),c=u[u.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let j=y&&y.path||"";I1(h,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=mr(),v;if(e){let j=typeof e=="string"?Dl(e):e;rt(m==="/"||((_=j.pathname)==null?void 0:_.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),v=j}else v=b;let S=v.pathname||"/",E=S;if(m!=="/"){let j=m.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let T=M1(t,{pathname:E});Vn(y||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Vn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=XA(T&&T.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Kr([m,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:Kr([m,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,i,s);return e&&A?R.createElement(Ra.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function FA(){let t=tw(),e=DA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:s},n):null,u)}var YA=R.createElement(FA,null),U1=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=PA(t.digest);n&&(t=n)}let e=t!==void 0?R.createElement(pr.Provider,{value:this.props.routeContext},R.createElement(_m.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(KA,{error:t},e):e}};U1.contextType=zA;var ip=new WeakMap;function KA({children:t,error:e}){let{basename:n}=R.useContext(Gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=IA(e.digest);if(i){let s=ip.get(e);if(s)throw s;let o=D1(i.location,n);if(R1&&!ip.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw ip.set(e,u),u}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function JA({routeContext:t,match:e,children:n}){let i=R.useContext(Ps);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(pr.Provider,{value:t},n)}function XA(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);rt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:b,errors:v}=n,S=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let h=n&&i?(m,y)=>{var b,v;i(m,{location:n.location,params:((v=(b=n.matches)==null?void 0:b[0])==null?void 0:v.params)??{},unstable_pattern:_A(n.matches),errorInfo:y})}:void 0;return o.reduceRight((m,y,b)=>{let v,S=!1,E=null,T=null;n&&(v=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||YA,c&&(d<0&&b===0?(I1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):d===b&&(S=!0,T=y.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,b+1)),_=()=>{let j;return v?j=E:S?j=T:y.route.Component?j=R.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=m,R.createElement(JA,{match:y,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:j})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?R.createElement(U1,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:_(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:h}):_()},null)}function Lm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QA(t){let e=R.useContext(Ps);return rt(e,Lm(t)),e}function WA(t){let e=R.useContext(Cf);return rt(e,Lm(t)),e}function ZA(t){let e=R.useContext(pr);return rt(e,Lm(t)),e}function zm(t){let e=ZA(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ew(){return zm("useRouteId")}function tw(){var i;let t=R.useContext(_m),e=WA("useRouteError"),n=zm("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function nw(){let{router:t}=QA("useNavigate"),e=zm("useNavigate"),n=R.useRef(!1);return B1(()=>{n.current=!0}),R.useCallback(async(s,o={})=>{Vn(n.current,j1),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var Av={};function I1(t,e,n){!e&&!Av[t]&&(Av[t]=!0,Vn(!1,n))}R.memo(rw);function rw({routes:t,future:e,state:n,onError:i}){return H1(t,void 0,n,i,e)}function sr(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){rt(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[c,s,o,u]);typeof n=="string"&&(n=Dl(n));let{pathname:h="/",search:m="",hash:y="",state:b=null,key:v="default"}=n,S=R.useMemo(()=>{let E=Qr(h,c);return E==null?null:{location:{pathname:E,search:m,hash:y,state:b,key:v},navigationType:i}},[c,h,m,y,b,v,i]);return Vn(S!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:R.createElement(Gn.Provider,{value:d},R.createElement(Ra.Provider,{children:e,value:S}))}function lw({children:t,location:e}){return $A(Kp(t),e)}function Kp(t,e=[]){let n=[];return R.Children.forEach(t,(i,s)=>{if(!R.isValidElement(i))return;let o=[...e,s];if(i.type===R.Fragment){n.push.apply(n,Kp(i.props.children,o));return}rt(i.type===sr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Kp(i.props.children,o)),n.push(u)}),n}var Ec="get",Tc="application/x-www-form-urlencoded";function Mf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function sw(t){return Mf(t)&&t.tagName.toLowerCase()==="button"}function ow(t){return Mf(t)&&t.tagName.toLowerCase()==="form"}function aw(t){return Mf(t)&&t.tagName.toLowerCase()==="input"}function uw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cw(t,e){return t.button===0&&(!e||e==="_self")&&!uw(t)}var rc=null;function fw(){if(rc===null)try{new FormData(document.createElement("form"),0),rc=!1}catch{rc=!0}return rc}var dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lp(t){return t!=null&&!dw.has(t)?(Vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):t}function hw(t,e){let n,i,s,o,u;if(ow(t)){let c=t.getAttribute("action");i=c?Qr(c,e):null,n=t.getAttribute("method")||Ec,s=lp(t.getAttribute("enctype"))||Tc,o=new FormData(t)}else if(sw(t)||aw(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(i=d?Qr(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Ec,s=lp(t.getAttribute("formenctype"))||lp(c.getAttribute("enctype"))||Tc,o=new FormData(c,t),!fw()){let{name:h,type:m,value:y}=t;if(m==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,y)}}else{if(Mf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ec,i=null,s=Tc,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pw(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&Qr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function mw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yw(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await mw(o,n);return u.links?u.links():[]}return[]}));return Sw(i.flat(1).filter(gw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function wv(t,e,n,i,s,o){let u=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>u(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{var y;let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function bw(t,e,{includeHydrateFallback:n}={}){return vw(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function vw(t){return[...new Set(t)]}function xw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Sw(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(xw(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function P1(){let t=R.useContext(Ps);return jm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ew(){let t=R.useContext(Cf);return jm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Bm=R.createContext(void 0);Bm.displayName="FrameworkContext";function V1(){let t=R.useContext(Bm);return jm(t,"You must render this element inside a <HydratedRouter> element"),t}function Tw(t,e){let n=R.useContext(Bm),[i,s]=R.useState(!1),[o,u]=R.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,b=R.useRef(null);R.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let E=A=>{A.forEach(_=>{u(_.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[t]),R.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let v=()=>{s(!0)},S=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Fo(c,v),onBlur:Fo(d,S),onMouseEnter:Fo(h,v),onMouseLeave:Fo(m,S),onTouchStart:Fo(y,v)}]:[!1,b,{}]}function Fo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Cw({page:t,...e}){let{router:n}=P1(),i=R.useMemo(()=>M1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?R.createElement(Aw,{page:t,matches:i,...e}):null}function Mw(t){let{manifest:e,routeModules:n}=V1(),[i,s]=R.useState([]);return R.useEffect(()=>{let o=!1;return yw(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),i}function Aw({page:t,matches:e,...n}){let i=mr(),{future:s,manifest:o,routeModules:u}=V1(),{basename:c}=P1(),{loaderData:d,matches:h}=Ew(),m=R.useMemo(()=>wv(t,e,h,o,i,"data"),[t,e,h,o,i]),y=R.useMemo(()=>wv(t,e,h,o,i,"assets"),[t,e,h,o,i]),b=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let E=new Set,T=!1;if(e.forEach(_=>{var $;let j=o.routes[_.route.id];!j||!j.hasLoader||(!m.some(H=>H.route.id===_.route.id)&&_.route.id in d&&(($=u[_.route.id])!=null&&$.shouldRevalidate)||j.hasClientLoader?T=!0:E.add(_.route.id))}),E.size===0)return[];let A=pw(t,c,s.unstable_trailingSlashAwareDataRequests,"data");return T&&E.size>0&&A.searchParams.set("_routes",e.filter(_=>E.has(_.route.id)).map(_=>_.route.id).join(",")),[A.pathname+A.search]},[c,s.unstable_trailingSlashAwareDataRequests,d,i,o,m,e,t,u]),v=R.useMemo(()=>bw(y,o),[y,o]),S=Mw(y);return R.createElement(R.Fragment,null,b.map(E=>R.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),v.map(E=>R.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),S.map(({key:E,link:T})=>R.createElement("link",{key:E,nonce:n.nonce,...T})))}function ww(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kw&&(window.__reactRouterVersion="7.12.0")}catch{}function Nw({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=R.useRef();s.current==null&&(s.current=aA({window:i,v5Compat:!0}));let o=s.current,[u,c]=R.useState({action:o.action,location:o.location}),d=R.useCallback(h=>{n===!1?c(h):R.startTransition(()=>c(h))},[n]);return R.useLayoutEffect(()=>o.listen(d),[o,d]),R.createElement(iw,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ii=R.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:c,target:d,to:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b,...v},S){let{basename:E,unstable_useTransitions:T}=R.useContext(Gn),A=typeof h=="string"&&q1.test(h),_=D1(h,E);h=_.to;let j=VA(h,{relative:s}),[$,H,q]=Tw(i,v),P=_w(h,{replace:u,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:b,unstable_useTransitions:T});function K(fe){e&&e(fe),fe.defaultPrevented||P(fe)}let X=R.createElement("a",{...v,...q,href:_.absoluteURL||j,onClick:_.isExternal||o?e:K,ref:ww(S,H),target:d,"data-discover":!A&&n==="render"?"true":void 0});return $&&!A?R.createElement(R.Fragment,null,X,R.createElement(Cw,{page:j})):X});Ii.displayName="Link";var Ow=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:c,children:d,...h},m){let y=_a(u,{relative:h.relative}),b=mr(),v=R.useContext(Cf),{navigator:S,basename:E}=R.useContext(Gn),T=v!=null&&Hw(y)&&c===!0,A=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,_=b.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(_=_.toLowerCase(),j=j?j.toLowerCase():null,A=A.toLowerCase()),j&&E&&(j=Qr(j,E)||j);const $=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let H=_===A||!s&&_.startsWith(A)&&_.charAt($)==="/",q=j!=null&&(j===A||!s&&j.startsWith(A)&&j.charAt(A.length)==="/"),P={isActive:H,isPending:q,isTransitioning:T},K=H?e:void 0,X;typeof i=="function"?X=i(P):X=[i,H?"active":null,q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let fe=typeof o=="function"?o(P):o;return R.createElement(Ii,{...h,"aria-current":K,className:X,ref:m,style:fe,to:u,viewTransition:c},typeof d=="function"?d(P):d)});Ow.displayName="NavLink";var Rw=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:u=Ec,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b,...v},S)=>{let{unstable_useTransitions:E}=R.useContext(Gn),T=jw(),A=Bw(c,{relative:h}),_=u.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&q1.test(c),$=H=>{if(d&&d(H),H.defaultPrevented)return;H.preventDefault();let q=H.nativeEvent.submitter,P=(q==null?void 0:q.getAttribute("formmethod"))||u,K=()=>T(q||H.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b});E&&n!==!1?R.startTransition(()=>K()):K()};return R.createElement("form",{ref:S,method:_,action:A,onSubmit:i?d:$,...v,"data-discover":!j&&t==="render"?"true":void 0})});Rw.displayName="Form";function Dw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(t){let e=R.useContext(Ps);return rt(e,Dw(t)),e}function _w(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let h=_l(),m=mr(),y=_a(t,{relative:o});return R.useCallback(b=>{if(cw(b,e)){b.preventDefault();let v=n!==void 0?n:ba(m)===ba(y),S=()=>h(t,{replace:v,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c});d?R.startTransition(()=>S()):S()}},[m,h,y,n,i,e,t,s,o,u,c,d])}var Lw=0,zw=()=>`__${String(++Lw)}__`;function jw(){let{router:t}=G1("useSubmit"),{basename:e}=R.useContext(Gn),n=ew(),i=t.fetch,s=t.navigate;return R.useCallback(async(o,u={})=>{let{action:c,method:d,encType:h,formData:m,body:y}=hw(o,e);if(u.navigate===!1){let b=u.fetcherKey||zw();await i(b,n,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||d,formEncType:u.encType||h,flushSync:u.flushSync})}else await s(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||d,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,s,e,n])}function Bw(t,{relative:e}={}){let{basename:n}=R.useContext(Gn),i=R.useContext(pr);rt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={..._a(t||".",{relative:e})},u=mr();if(t==null){o.search=u.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Kr([n,o.pathname])),ba(o)}function Hw(t,{relative:e}={}){let n=R.useContext(L1);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=G1("useViewTransitionState"),s=_a(t,{relative:e});if(!n.isTransitioning)return!1;let o=Qr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Qr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Rc(s.pathname,u)!=null||Rc(s.pathname,o)!=null}var Uw=C1();const Iw=Dm(Uw),kv=8,ic=10,lc=80,Pw=({index:t,heights:e,onHeightsChange:n,hoverColor:i})=>{const[s,o]=R.useState(!1),[u,c]=R.useState(!1),d=R.useRef(0),h=R.useRef([0,0]),m=R.useCallback(y=>{y.preventDefault(),o(!0),d.current=y.clientY,h.current=[...e]},[e]);return R.useEffect(()=>{if(!s)return;const y=v=>{const S=window.innerHeight;if(S<=0)return;const E=(v.clientY-d.current)/S*100,T=h.current,A=T[t],_=T[t+1],j=A+_;let $=Math.max(ic,Math.min(lc,A+E)),H=j-$;H<ic?(H=ic,$=j-ic):H>lc&&(H=lc,$=j-lc);const q=[...T];q[t]=$,q[t+1]=H,n(q)},b=()=>o(!1);return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[s,t,n]),M.jsx("div",{role:"separator","aria-orientation":"horizontal",onMouseDown:m,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:"shrink-0 border-t border-paletteBorder cursor-row-resize select-none flex items-center justify-center transition-colors",style:{height:kv,minHeight:kv,backgroundColor:(u||s)&&i?i:void 0}})},Vw=({rows:t,heights:e,onHeightsChange:n,sectionColors:i,className:s=""})=>M.jsx("div",{className:`flex flex-col gap-0 h-full overflow-hidden ${s}`,children:t.map((o,u)=>{const c=e[u]??100/t.length,d=t.length===1;return M.jsxs(un.Fragment,{children:[M.jsx("div",{className:"shrink-0 overflow-hidden min-h-0",style:d?{height:"100%",minHeight:0}:{flex:`0 0 ${c}%`},children:o}),u<t.length-1&&M.jsx(Pw,{index:u,heights:e,onHeightsChange:n,hoverColor:i==null?void 0:i[u]})]},u)})}),qw=48,sp=({className:t,rows:e,heights:n,onHeightsChange:i,sectionColors:s,topOffset:o=0})=>M.jsxs("div",{className:`flex flex-col shrink-0 h-full ${t}`,children:[o>0&&M.jsx("div",{style:{height:o},"aria-hidden":!0}),M.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:M.jsx(Vw,{rows:e,heights:n,onHeightsChange:i,sectionColors:s})})]}),Gw=({leftRows:t,middleRows:e,rightRows:n,leftHeights:i,middleHeights:s,rightHeights:o,onLeftHeightsChange:u,onMiddleHeightsChange:c,onRightHeightsChange:d,leftColors:h,middleColors:m,rightColors:y})=>M.jsxs("div",{className:"h-screen w-full flex overflow-hidden bg-bgMain text-textPrimary",children:[M.jsx(sp,{className:"w-[20%] min-w-[160px] bg-bgMain border-r border-paletteBorder",rows:t,heights:i,onHeightsChange:u,sectionColors:h,topOffset:qw}),M.jsx(sp,{className:"w-[40%] border-r border-paletteBorder",rows:e,heights:s,onHeightsChange:c,sectionColors:m}),M.jsx(sp,{className:"w-[40%]",rows:n,heights:o,onHeightsChange:d,sectionColors:y})]}),Dc=({title:t,preview:e,to:n,hoverColor:i,className:s="",draggable:o=!0})=>{const[u,c]=R.useState(!1),d=`#${n.startsWith("/")?n:`/${n}`}`;return M.jsxs("a",{href:d,draggable:o,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:`block w-full h-full text-left overflow-hidden bg-bgMain relative group ${s}`,children:[M.jsx("div",{className:"absolute top-0 left-0 pl-6 pt-4 pr-4 pb-4 z-10",children:M.jsxs("span",{className:"relative inline-block pt-0 pb-1.5 pl-0 pr-3",children:[i&&u&&M.jsx("div",{className:"absolute inset-0 rounded-none",style:{backgroundColor:i}}),M.jsx("span",{className:"relative font-mono text-sm uppercase tracking-wider group-hover:underline underline-offset-2",children:t})]})}),M.jsx("div",{className:"absolute inset-0 pt-16",children:e})]})};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:$1,setPrototypeOf:Nv,isFrozen:$w,getPrototypeOf:Fw,getOwnPropertyDescriptor:Yw}=Object;let{freeze:Jt,seal:qn,create:Jp}=Object,{apply:Xp,construct:Qp}=typeof Reflect<"u"&&Reflect;Jt||(Jt=function(e){return e});qn||(qn=function(e){return e});Xp||(Xp=function(e,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return e.apply(n,s)});Qp||(Qp=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return new e(...i)});const sc=Xt(Array.prototype.forEach),Kw=Xt(Array.prototype.lastIndexOf),Ov=Xt(Array.prototype.pop),Yo=Xt(Array.prototype.push),Jw=Xt(Array.prototype.splice),Cc=Xt(String.prototype.toLowerCase),op=Xt(String.prototype.toString),ap=Xt(String.prototype.match),Ko=Xt(String.prototype.replace),Xw=Xt(String.prototype.indexOf),Qw=Xt(String.prototype.trim),Xn=Xt(Object.prototype.hasOwnProperty),Ft=Xt(RegExp.prototype.test),Jo=Ww(TypeError);function Xt(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return Xp(t,e,i)}}function Ww(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Qp(t,n)}}function we(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cc;Nv&&Nv(t,null);let i=e.length;for(;i--;){let s=e[i];if(typeof s=="string"){const o=n(s);o!==s&&($w(e)||(e[i]=o),s=o)}t[s]=!0}return t}function Zw(t){for(let e=0;e<t.length;e++)Xn(t,e)||(t[e]=null);return t}function or(t){const e=Jp(null);for(const[n,i]of $1(t))Xn(t,n)&&(Array.isArray(i)?e[n]=Zw(i):i&&typeof i=="object"&&i.constructor===Object?e[n]=or(i):e[n]=i);return e}function Xo(t,e){for(;t!==null;){const i=Yw(t,e);if(i){if(i.get)return Xt(i.get);if(typeof i.value=="function")return Xt(i.value)}t=Fw(t)}function n(){return null}return n}const Rv=Jt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),up=Jt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),cp=Jt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ek=Jt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),fp=Jt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tk=Jt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Dv=Jt(["#text"]),_v=Jt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),dp=Jt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Lv=Jt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),oc=Jt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),nk=qn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),rk=qn(/<%[\w\W]*|[\w\W]*%>/gm),ik=qn(/\$\{[\w\W]*/gm),lk=qn(/^data-[\-\w.\u00B7-\uFFFF]+$/),sk=qn(/^aria-[\-\w]+$/),F1=qn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ok=qn(/^(?:\w+script|data):/i),ak=qn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y1=qn(/^html$/i),uk=qn(/^[a-z][.\w]*(-[.\w]+)+$/i);var zv=Object.freeze({__proto__:null,ARIA_ATTR:sk,ATTR_WHITESPACE:ak,CUSTOM_ELEMENT:uk,DATA_ATTR:lk,DOCTYPE_NAME:Y1,ERB_EXPR:rk,IS_ALLOWED_URI:F1,IS_SCRIPT_OR_DATA:ok,MUSTACHE_EXPR:nk,TMPLIT_EXPR:ik});const Qo={element:1,text:3,progressingInstruction:7,comment:8,document:9},ck=function(){return typeof window>"u"?null:window},fk=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(i=n.getAttribute(s));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},jv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function K1(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ck();const e=ae=>K1(ae);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==Qo.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const i=n,s=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:u,Node:c,Element:d,NodeFilter:h,NamedNodeMap:m=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:y,DOMParser:b,trustedTypes:v}=t,S=d.prototype,E=Xo(S,"cloneNode"),T=Xo(S,"remove"),A=Xo(S,"nextSibling"),_=Xo(S,"childNodes"),j=Xo(S,"parentNode");if(typeof u=="function"){const ae=n.createElement("template");ae.content&&ae.content.ownerDocument&&(n=ae.content.ownerDocument)}let $,H="";const{implementation:q,createNodeIterator:P,createDocumentFragment:K,getElementsByTagName:X}=n,{importNode:fe}=i;let oe=jv();e.isSupported=typeof $1=="function"&&typeof j=="function"&&q&&q.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Te,ERB_EXPR:te,TMPLIT_EXPR:de,DATA_ATTR:Se,ARIA_ATTR:I,IS_SCRIPT_OR_DATA:ee,ATTR_WHITESPACE:me,CUSTOM_ELEMENT:Be}=zv;let{IS_ALLOWED_URI:He}=zv,k=null;const Y=we({},[...Rv,...up,...cp,...fp,...Dv]);let Z=null;const ie=we({},[..._v,...dp,...Lv,...oc]);let se=Object.seal(Jp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,_e=null;const lt=Object.seal(Jp(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let We=!0,gr=!0,Ji=!1,Bl=!0,yr=!1,Tn=!0,$n=!1,Xi=!1,qs=!1,br=!1,Zr=!1,ei=!1,Hl=!0,Ha=!1;const Vf="user-content-";let Rt=!0,Qi=!1,vr={},fn=null;const ti=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ua=null;const Gs=we({},["audio","video","img","source","image","track"]);let $s=null;const Ia=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),er="http://www.w3.org/1998/Math/MathML",Mt="http://www.w3.org/2000/svg",At="http://www.w3.org/1999/xhtml";let pt=At,Fs=!1,Ys=null;const qf=we({},[er,Mt,At],op);let xr=we({},["mi","mo","mn","ms","mtext"]),Sr=we({},["annotation-xml"]);const Ul=we({},["title","style","font","a","script"]);let dn=null;const Il=["application/xhtml+xml","text/html"],Wi="text/html";let ct=null,Er=null;const Ks=n.createElement("form"),ni=function(N){return N instanceof RegExp||N instanceof Function},Js=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Er&&Er===N)){if((!N||typeof N!="object")&&(N={}),N=or(N),dn=Il.indexOf(N.PARSER_MEDIA_TYPE)===-1?Wi:N.PARSER_MEDIA_TYPE,ct=dn==="application/xhtml+xml"?op:Cc,k=Xn(N,"ALLOWED_TAGS")?we({},N.ALLOWED_TAGS,ct):Y,Z=Xn(N,"ALLOWED_ATTR")?we({},N.ALLOWED_ATTR,ct):ie,Ys=Xn(N,"ALLOWED_NAMESPACES")?we({},N.ALLOWED_NAMESPACES,op):qf,$s=Xn(N,"ADD_URI_SAFE_ATTR")?we(or(Ia),N.ADD_URI_SAFE_ATTR,ct):Ia,Ua=Xn(N,"ADD_DATA_URI_TAGS")?we(or(Gs),N.ADD_DATA_URI_TAGS,ct):Gs,fn=Xn(N,"FORBID_CONTENTS")?we({},N.FORBID_CONTENTS,ct):ti,ve=Xn(N,"FORBID_TAGS")?we({},N.FORBID_TAGS,ct):or({}),_e=Xn(N,"FORBID_ATTR")?we({},N.FORBID_ATTR,ct):or({}),vr=Xn(N,"USE_PROFILES")?N.USE_PROFILES:!1,We=N.ALLOW_ARIA_ATTR!==!1,gr=N.ALLOW_DATA_ATTR!==!1,Ji=N.ALLOW_UNKNOWN_PROTOCOLS||!1,Bl=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,yr=N.SAFE_FOR_TEMPLATES||!1,Tn=N.SAFE_FOR_XML!==!1,$n=N.WHOLE_DOCUMENT||!1,br=N.RETURN_DOM||!1,Zr=N.RETURN_DOM_FRAGMENT||!1,ei=N.RETURN_TRUSTED_TYPE||!1,qs=N.FORCE_BODY||!1,Hl=N.SANITIZE_DOM!==!1,Ha=N.SANITIZE_NAMED_PROPS||!1,Rt=N.KEEP_CONTENT!==!1,Qi=N.IN_PLACE||!1,He=N.ALLOWED_URI_REGEXP||F1,pt=N.NAMESPACE||At,xr=N.MATHML_TEXT_INTEGRATION_POINTS||xr,Sr=N.HTML_INTEGRATION_POINTS||Sr,se=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&ni(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(se.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&ni(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(se.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(se.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),yr&&(gr=!1),Zr&&(br=!0),vr&&(k=we({},Dv),Z=[],vr.html===!0&&(we(k,Rv),we(Z,_v)),vr.svg===!0&&(we(k,up),we(Z,dp),we(Z,oc)),vr.svgFilters===!0&&(we(k,cp),we(Z,dp),we(Z,oc)),vr.mathMl===!0&&(we(k,fp),we(Z,Lv),we(Z,oc))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?lt.tagCheck=N.ADD_TAGS:(k===Y&&(k=or(k)),we(k,N.ADD_TAGS,ct))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?lt.attributeCheck=N.ADD_ATTR:(Z===ie&&(Z=or(Z)),we(Z,N.ADD_ATTR,ct))),N.ADD_URI_SAFE_ATTR&&we($s,N.ADD_URI_SAFE_ATTR,ct),N.FORBID_CONTENTS&&(fn===ti&&(fn=or(fn)),we(fn,N.FORBID_CONTENTS,ct)),N.ADD_FORBID_CONTENTS&&(fn===ti&&(fn=or(fn)),we(fn,N.ADD_FORBID_CONTENTS,ct)),Rt&&(k["#text"]=!0),$n&&we(k,["html","head","body"]),k.table&&(we(k,["tbody"]),delete ve.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw Jo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Jo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');$=N.TRUSTED_TYPES_POLICY,H=$.createHTML("")}else $===void 0&&($=fk(v,s)),$!==null&&typeof H=="string"&&(H=$.createHTML(""));Jt&&Jt(N),Er=N}},Xs=we({},[...up,...cp,...ek]),Qs=we({},[...fp,...tk]),Pa=function(N){let Q=j(N);(!Q||!Q.tagName)&&(Q={namespaceURI:pt,tagName:"template"});const re=Cc(N.tagName),Ue=Cc(Q.tagName);return Ys[N.namespaceURI]?N.namespaceURI===Mt?Q.namespaceURI===At?re==="svg":Q.namespaceURI===er?re==="svg"&&(Ue==="annotation-xml"||xr[Ue]):!!Xs[re]:N.namespaceURI===er?Q.namespaceURI===At?re==="math":Q.namespaceURI===Mt?re==="math"&&Sr[Ue]:!!Qs[re]:N.namespaceURI===At?Q.namespaceURI===Mt&&!Sr[Ue]||Q.namespaceURI===er&&!xr[Ue]?!1:!Qs[re]&&(Ul[re]||!Xs[re]):!!(dn==="application/xhtml+xml"&&Ys[N.namespaceURI]):!1},Zt=function(N){Yo(e.removed,{element:N});try{j(N).removeChild(N)}catch{T(N)}},Fn=function(N,Q){try{Yo(e.removed,{attribute:Q.getAttributeNode(N),from:Q})}catch{Yo(e.removed,{attribute:null,from:Q})}if(Q.removeAttribute(N),N==="is")if(br||Zr)try{Zt(Q)}catch{}else try{Q.setAttribute(N,"")}catch{}},Ws=function(N){let Q=null,re=null;if(qs)N="<remove></remove>"+N;else{const Ae=ap(N,/^[\r\n\t ]+/);re=Ae&&Ae[0]}dn==="application/xhtml+xml"&&pt===At&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const Ue=$?$.createHTML(N):N;if(pt===At)try{Q=new b().parseFromString(Ue,dn)}catch{}if(!Q||!Q.documentElement){Q=q.createDocument(pt,"template",null);try{Q.documentElement.innerHTML=Fs?H:Ue}catch{}}const tt=Q.body||Q.documentElement;return N&&re&&tt.insertBefore(n.createTextNode(re),tt.childNodes[0]||null),pt===At?X.call(Q,$n?"html":"body")[0]:$n?Q.documentElement:tt},Zs=function(N){return P.call(N.ownerDocument||N,N,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Cn=function(N){return N instanceof y&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof m)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},mt=function(N){return typeof c=="function"&&N instanceof c};function Ze(ae,N,Q){sc(ae,re=>{re.call(e,N,Q,Er)})}const Tr=function(N){let Q=null;if(Ze(oe.beforeSanitizeElements,N,null),Cn(N))return Zt(N),!0;const re=ct(N.nodeName);if(Ze(oe.uponSanitizeElement,N,{tagName:re,allowedTags:k}),Tn&&N.hasChildNodes()&&!mt(N.firstElementChild)&&Ft(/<[/\w!]/g,N.innerHTML)&&Ft(/<[/\w!]/g,N.textContent)||N.nodeType===Qo.progressingInstruction||Tn&&N.nodeType===Qo.comment&&Ft(/<[/\w]/g,N.data))return Zt(N),!0;if(!(lt.tagCheck instanceof Function&&lt.tagCheck(re))&&(!k[re]||ve[re])){if(!ve[re]&&Va(re)&&(se.tagNameCheck instanceof RegExp&&Ft(se.tagNameCheck,re)||se.tagNameCheck instanceof Function&&se.tagNameCheck(re)))return!1;if(Rt&&!fn[re]){const Ue=j(N)||N.parentNode,tt=_(N)||N.childNodes;if(tt&&Ue){const Ae=tt.length;for(let Dt=Ae-1;Dt>=0;--Dt){const Mn=E(tt[Dt],!0);Mn.__removalCount=(N.__removalCount||0)+1,Ue.insertBefore(Mn,A(N))}}}return Zt(N),!0}return N instanceof d&&!Pa(N)||(re==="noscript"||re==="noembed"||re==="noframes")&&Ft(/<\/no(script|embed|frames)/i,N.innerHTML)?(Zt(N),!0):(yr&&N.nodeType===Qo.text&&(Q=N.textContent,sc([Te,te,de],Ue=>{Q=Ko(Q,Ue," ")}),N.textContent!==Q&&(Yo(e.removed,{element:N.cloneNode()}),N.textContent=Q)),Ze(oe.afterSanitizeElements,N,null),!1)},Pl=function(N,Q,re){if(Hl&&(Q==="id"||Q==="name")&&(re in n||re in Ks))return!1;if(!(gr&&!_e[Q]&&Ft(Se,Q))){if(!(We&&Ft(I,Q))){if(!(lt.attributeCheck instanceof Function&&lt.attributeCheck(Q,N))){if(!Z[Q]||_e[Q]){if(!(Va(N)&&(se.tagNameCheck instanceof RegExp&&Ft(se.tagNameCheck,N)||se.tagNameCheck instanceof Function&&se.tagNameCheck(N))&&(se.attributeNameCheck instanceof RegExp&&Ft(se.attributeNameCheck,Q)||se.attributeNameCheck instanceof Function&&se.attributeNameCheck(Q,N))||Q==="is"&&se.allowCustomizedBuiltInElements&&(se.tagNameCheck instanceof RegExp&&Ft(se.tagNameCheck,re)||se.tagNameCheck instanceof Function&&se.tagNameCheck(re))))return!1}else if(!$s[Q]){if(!Ft(He,Ko(re,me,""))){if(!((Q==="src"||Q==="xlink:href"||Q==="href")&&N!=="script"&&Xw(re,"data:")===0&&Ua[N])){if(!(Ji&&!Ft(ee,Ko(re,me,"")))){if(re)return!1}}}}}}}return!0},Va=function(N){return N!=="annotation-xml"&&ap(N,Be)},qa=function(N){Ze(oe.beforeSanitizeAttributes,N,null);const{attributes:Q}=N;if(!Q||Cn(N))return;const re={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Z,forceKeepAttr:void 0};let Ue=Q.length;for(;Ue--;){const tt=Q[Ue],{name:Ae,namespaceURI:Dt,value:Mn}=tt,en=ct(Ae),tr=Mn;let Et=Ae==="value"?tr:Qw(tr);if(re.attrName=en,re.attrValue=Et,re.keepAttr=!0,re.forceKeepAttr=void 0,Ze(oe.uponSanitizeAttribute,N,re),Et=re.attrValue,Ha&&(en==="id"||en==="name")&&(Fn(Ae,N),Et=Vf+Et),Tn&&Ft(/((--!?|])>)|<\/(style|title|textarea)/i,Et)){Fn(Ae,N);continue}if(en==="attributename"&&ap(Et,"href")){Fn(Ae,N);continue}if(re.forceKeepAttr)continue;if(!re.keepAttr){Fn(Ae,N);continue}if(!Bl&&Ft(/\/>/i,Et)){Fn(Ae,N);continue}yr&&sc([Te,te,de],to=>{Et=Ko(Et,to," ")});const eo=ct(N.nodeName);if(!Pl(eo,en,Et)){Fn(Ae,N);continue}if($&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!Dt)switch(v.getAttributeType(eo,en)){case"TrustedHTML":{Et=$.createHTML(Et);break}case"TrustedScriptURL":{Et=$.createScriptURL(Et);break}}if(Et!==tr)try{Dt?N.setAttributeNS(Dt,Ae,Et):N.setAttribute(Ae,Et),Cn(N)?Zt(N):Ov(e.removed)}catch{Fn(Ae,N)}}Ze(oe.afterSanitizeAttributes,N,null)},Ga=function ae(N){let Q=null;const re=Zs(N);for(Ze(oe.beforeSanitizeShadowDOM,N,null);Q=re.nextNode();)Ze(oe.uponSanitizeShadowNode,Q,null),Tr(Q),qa(Q),Q.content instanceof o&&ae(Q.content);Ze(oe.afterSanitizeShadowDOM,N,null)};return e.sanitize=function(ae){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=null,re=null,Ue=null,tt=null;if(Fs=!ae,Fs&&(ae="<!-->"),typeof ae!="string"&&!mt(ae))if(typeof ae.toString=="function"){if(ae=ae.toString(),typeof ae!="string")throw Jo("dirty is not a string, aborting")}else throw Jo("toString is not a function");if(!e.isSupported)return ae;if(Xi||Js(N),e.removed=[],typeof ae=="string"&&(Qi=!1),Qi){if(ae.nodeName){const Mn=ct(ae.nodeName);if(!k[Mn]||ve[Mn])throw Jo("root node is forbidden and cannot be sanitized in-place")}}else if(ae instanceof c)Q=Ws("<!---->"),re=Q.ownerDocument.importNode(ae,!0),re.nodeType===Qo.element&&re.nodeName==="BODY"||re.nodeName==="HTML"?Q=re:Q.appendChild(re);else{if(!br&&!yr&&!$n&&ae.indexOf("<")===-1)return $&&ei?$.createHTML(ae):ae;if(Q=Ws(ae),!Q)return br?null:ei?H:""}Q&&qs&&Zt(Q.firstChild);const Ae=Zs(Qi?ae:Q);for(;Ue=Ae.nextNode();)Tr(Ue),qa(Ue),Ue.content instanceof o&&Ga(Ue.content);if(Qi)return ae;if(br){if(Zr)for(tt=K.call(Q.ownerDocument);Q.firstChild;)tt.appendChild(Q.firstChild);else tt=Q;return(Z.shadowroot||Z.shadowrootmode)&&(tt=fe.call(i,tt,!0)),tt}let Dt=$n?Q.outerHTML:Q.innerHTML;return $n&&k["!doctype"]&&Q.ownerDocument&&Q.ownerDocument.doctype&&Q.ownerDocument.doctype.name&&Ft(Y1,Q.ownerDocument.doctype.name)&&(Dt="<!DOCTYPE "+Q.ownerDocument.doctype.name+`>
`+Dt),yr&&sc([Te,te,de],Mn=>{Dt=Ko(Dt,Mn," ")}),$&&ei?$.createHTML(Dt):Dt},e.setConfig=function(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Js(ae),Xi=!0},e.clearConfig=function(){Er=null,Xi=!1},e.isValidAttribute=function(ae,N,Q){Er||Js({});const re=ct(ae),Ue=ct(N);return Pl(re,Ue,Q)},e.addHook=function(ae,N){typeof N=="function"&&Yo(oe[ae],N)},e.removeHook=function(ae,N){if(N!==void 0){const Q=Kw(oe[ae],N);return Q===-1?void 0:Jw(oe[ae],Q,1)[0]}return Ov(oe[ae])},e.removeHooks=function(ae){oe[ae]=[]},e.removeAllHooks=function(){oe=jv()},e}var dk=K1();const hk=["p","h1","h2","h3","blockquote","strong","em","u","a","br","span"],pk=["href","target","rel","style"];function mk(t){return t!=null&&t.trim()?dk.sanitize(t,{ALLOWED_TAGS:hk,ALLOWED_ATTR:pk,ADD_ATTR:["target","rel"]}):""}function Wp(t){return t!=null&&t.trim()?/<[a-z][\s\S]*>/i.test(t)?t:t.split(/\n\n+/).map(n=>n.trim()).filter(Boolean).map(n=>`<p>${gk(n)}</p>`).join("")||"<p></p>":"<p></p>"}function gk(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function yk(t){return t!=null&&t.trim()?/<[a-z][\s\S]*>/i.test(t)?t:Wp(t):""}const Hm=({html:t,className:e,style:n})=>{const i=yk(t),s=mk(i);return s?M.jsx("div",{className:`${e??""} [&_p]:min-h-[1.5em]`,style:n,dangerouslySetInnerHTML:{__html:s}}):null},bk=24,vk=({text:t})=>{const e=R.useRef(null),[n,i]=R.useState(1);R.useEffect(()=>{const u=e.current;if(!u)return;const c=new ResizeObserver(d=>{for(const h of d){const{height:m}=h.contentRect,y=Math.max(1,Math.floor(m/bk));i(y)}});return c.observe(u),()=>c.disconnect()},[]);const o=!((t==null?void 0:t.trim())||"");return M.jsx("div",{ref:e,className:"h-full w-full overflow-hidden pl-6 pr-4 mt-4",children:o?M.jsx("p",{className:"text-sm text-textSecondary leading-relaxed",children:"Introduction"}):M.jsx(Hm,{html:t,className:"text-base leading-relaxed text-textPrimary",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:n,overflow:"hidden"}})})},Af={accent:"#66FFCC"},xk=768,Zp={aboutMe:`Silvia (b 1999) is a London-based fine art photographer whose work interrogates the fluid boundaries between the tangible and the perceived. A graduate of Central Saint Martins, she has pivoted from the structural rigour of fashion towards a more ephemeral exploration of the 'shifted concept'  capturing the weight of a glance within a fleeting moment.

Her practice is deeply rooted in travel and the quiet observation of nature and still life. By isolating objects from their traditional contexts, Silvia creates unreal spaces where philosophical enquiry and visual subtlety converge. For her, the camera is not a tool for documentation, but a medium for leaping between states of being.`,projects:[{id:"twice",title:"TWICE",description:`Twice is a series of diptych film photographs exploring the fragility of memory and the quiet dissonances embedded in everyday life.

Heraclitus observed that no one steps into the same river twice  not because the river changes, but because both the river and the person are always becoming something else. Memory operates similarly. We return to it expecting repetition and find instead a thing subtly altered, a detail misplaced, a feeling that no longer quite fits the image it belongs to.

Each photograph in this series pairs two frames that appear, at first glance, identical. They are not. The differences between them  sometimes stark, sometimes barely perceptible  enact the unreliability of recollection itself. Within individual images, too, there are misfits: objects and moments that resist the coherence of the scenes they inhabit, held in place by some invisible thread rather than any clear logic.

Shot on film, the series embraces the medium's own relationship with time and imperfection  its grain, its slight unpredictability  as formal extensions of the theme. Memory, like film, is a chemical process. It changes with exposure.`,imageUrl:"",gallery:[],year:"2025"}]},Sk="silvia_admin",Rs="sphnsx_admin_authenticated",Ek=1440*60*1e3;function Tk(){if(typeof localStorage>"u")return null;const t=localStorage.getItem(Rs);return t||sessionStorage.getItem(Rs)}function Ck(t){try{localStorage.setItem(Rs,t)}catch{}try{sessionStorage.setItem(Rs,t)}catch{}}function hp(){try{localStorage.removeItem(Rs),sessionStorage.removeItem(Rs)}catch{}}const J1=R.createContext(null);function Mk({children:t}){const[e,n]=R.useState(!1);R.useEffect(()=>{const o=Tk();if(o)try{const{timestamp:u}=JSON.parse(o);Date.now()-u<Ek?n(!0):hp()}catch{hp()}},[]);const i=R.useCallback(o=>{const u=o===Sk;return u&&(n(!0),Ck(JSON.stringify({timestamp:Date.now()}))),u},[]),s=R.useCallback(()=>{hp(),n(!1)},[]);return M.jsx(J1.Provider,{value:{isAdmin:e,login:i,logout:s},children:t})}function Ll(){const t=R.useContext(J1);if(!t)throw new Error("useAdminAuth must be used within AdminAuthProvider");return t}const Ds="silvia_jiang_portfolio_v1",Ak="sphnsx_portfolio",_s="portfolio",X1="data",em="sphnsx_portfolio_v1",wk=3800,_c=typeof import.meta<"u"&&"https://sphnsx.com/portfolio.json".trim()||void 0;let Yt=null;async function kk(){if(!_c||typeof fetch>"u")return null;try{const t=await fetch(_c,{cache:"no-store"});if(fetch("http://127.0.0.1:7244/ingest/d73bb932-4ac7-45e1-8337-35cb70e602f8",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"1d77cc"},body:JSON.stringify({sessionId:"1d77cc",location:"storageService.ts:fetchFromRemote",message:"remote response",data:{ok:t.ok,status:t.status},timestamp:Date.now(),hypothesisId:"H2"})}).catch(()=>{}),!t.ok)return null;const e=await t.json();if(e&&Array.isArray(e.projects))return e}catch(t){fetch("http://127.0.0.1:7244/ingest/d73bb932-4ac7-45e1-8337-35cb70e602f8",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"1d77cc"},body:JSON.stringify({sessionId:"1d77cc",location:"storageService.ts:fetchFromRemote",message:"remote fetch error",data:{err:String(t==null?void 0:t.message)},timestamp:Date.now(),hypothesisId:"H2"})}).catch(()=>{})}return null}function Q1(){if(typeof document>"u"||!document.cookie)return null;const t=document.cookie.split(";").map(e=>e.trim()).find(e=>e.startsWith(em+"="));if(!t)return null;try{const e=decodeURIComponent(t.slice(em.length+1)),n=JSON.parse(e);if(n&&Array.isArray(n.projects))return n}catch{}return null}function Nk(t){if(typeof document>"u")return;const e=JSON.stringify(t),n=encodeURIComponent(e);if(!(n.length>wk))try{document.cookie=em+"="+n+"; path=/; max-age=31536000; SameSite=Lax"}catch{}}function W1(){return new Promise((t,e)=>{const n=indexedDB.open(Ak,1);n.onerror=()=>e(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=()=>{const i=n.result;i.objectStoreNames.contains(_s)||i.createObjectStore(_s,{keyPath:"key"})}})}async function Ok(){const t=await W1();return new Promise((e,n)=>{const o=t.transaction(_s,"readonly").objectStore(_s).get(X1);o.onerror=()=>{t.close(),n(o.error)},o.onsuccess=()=>{t.close();const u=o.result;if(u!=null&&u.value)try{const c=JSON.parse(u.value);c&&Array.isArray(c.projects)&&e(c)}catch{}e(null)}})}const Rk=()=>{if(Yt!==null)return Yt;try{const e=typeof localStorage<"u"?localStorage.getItem(Ds):null;if(e){const n=JSON.parse(e);if(n&&Array.isArray(n.projects))return Yt=n,Yt}}catch{}try{const e=typeof sessionStorage<"u"?sessionStorage.getItem(Ds):null;if(e){const n=JSON.parse(e);if(n&&Array.isArray(n.projects))return Yt=n,Yt}}catch{}const t=Q1();return t?(Yt=t,Yt):Zp};async function Pi(){var i;if(fetch("http://127.0.0.1:7244/ingest/d73bb932-4ac7-45e1-8337-35cb70e602f8",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"1d77cc"},body:JSON.stringify({sessionId:"1d77cc",location:"storageService.ts:getPortfolioDataAsync",message:"async load config",data:{remoteConfigured:!!_c},timestamp:Date.now(),hypothesisId:"H1"})}).catch(()=>{}),_c){const s=await kk();if(fetch("http://127.0.0.1:7244/ingest/d73bb932-4ac7-45e1-8337-35cb70e602f8",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"1d77cc"},body:JSON.stringify({sessionId:"1d77cc",location:"storageService.ts:getPortfolioDataAsync",message:"remote result",data:{hasData:!!s,projectsCount:(i=s==null?void 0:s.projects)==null?void 0:i.length},timestamp:Date.now(),hypothesisId:"H2"})}).catch(()=>{}),s)return Yt=s,fr(s).catch(()=>{}),s}try{const s=await Ok();if(s)return Yt=s,fr(s).catch(()=>{}),s}catch{}const t=typeof localStorage<"u"?localStorage.getItem(Ds):null;if(t)try{const s=JSON.parse(t);if(s&&Array.isArray(s.projects))return Yt=s,fr(s).catch(()=>{}),s}catch{}const e=typeof sessionStorage<"u"?sessionStorage.getItem(Ds):null;if(e)try{const s=JSON.parse(e);if(s&&Array.isArray(s.projects))return Yt=s,fr(s).catch(()=>{}),s}catch{}const n=Q1();return n?(Yt=n,fr(n).catch(()=>{}),n):(fetch("http://127.0.0.1:7244/ingest/d73bb932-4ac7-45e1-8337-35cb70e602f8",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"1d77cc"},body:JSON.stringify({sessionId:"1d77cc",location:"storageService.ts:getPortfolioDataAsync",message:"fallback to INITIAL_DATA",data:{},timestamp:Date.now(),hypothesisId:"H5"})}).catch(()=>{}),Yt=Zp,Zp)}function fr(t){return Yt=t,W1().then(e=>new Promise((n,i)=>{const u=e.transaction(_s,"readwrite").objectStore(_s).put({key:X1,value:JSON.stringify(t)});u.onerror=()=>{e.close(),i(u.error)},u.onsuccess=()=>{e.close();let c=!1;try{typeof localStorage<"u"&&(localStorage.setItem(Ds,JSON.stringify(t)),c=!0)}catch(d){typeof console<"u"&&console.warn&&console.warn("Portfolio localStorage write failed (storage may be full or restricted):",d)}try{typeof sessionStorage<"u"&&sessionStorage.setItem(Ds,JSON.stringify(t))}catch{}Nk(t),n()}}))}async function Dk(t){const e=await Pi();e.aboutMe=t,await fr(e)}async function _k(t){const e=await Pi();e.projects.unshift(t),await fr(e)}async function Lk(t,e){const n=await Pi(),i=n.projects.findIndex(s=>s.id===t);i!==-1&&(n.projects[i]={...e,id:t},await fr(n))}async function zk(t){const e=await Pi();e.projects=e.projects.filter(n=>n.id!==t),await fr(e)}async function jk(t){const e=await Pi(),n=new Map(e.projects.map(o=>[o.id,o])),i=t.map(o=>n.get(o)).filter(o=>o!=null),s=e.projects.filter(o=>!t.includes(o.id));e.projects=[...i,...s],await fr(e)}async function Bk(){const t=await Pi();return JSON.stringify(t,null,2)}const Bv=`(max-width: ${xk-1}px)`;function Gi(){const[t,e]=R.useState(()=>typeof window<"u"?window.matchMedia(Bv).matches:!1);return R.useEffect(()=>{const n=window.matchMedia(Bv),i=s=>e(s.matches);return n.addEventListener("change",i),()=>n.removeEventListener("change",i)},[]),t}const Mc={left:"sphnsx_left_heights",middle:"sphnsx_middle_heights",right:"sphnsx_right_heights"},pp=Af.accent;function Hv(t){const e=parseInt(t.year.trim(),10);return Number.isNaN(e)?-1:e}function Uv(t){const e=100/t;return Array(t).fill(0).map((n,i)=>i===t-1?100-e*(t-1):e)}function ac(t,e){const n=t.map(s=>1/(s||1));if(e){const s=n.length?n.reduce((o,u)=>o+u,0)/n.length:1;n.push(s)}const i=n.reduce((s,o)=>s+o,0);return n.map(s=>s/i*100)}function ml(t,e,n){try{const i=JSON.parse(localStorage.getItem(Mc.left)??"null"),s=JSON.parse(localStorage.getItem(Mc.middle)??"null"),o=JSON.parse(localStorage.getItem(Mc.right)??"null");if(Array.isArray(i)&&i.length===t&&Array.isArray(s)&&s.length===e&&Array.isArray(o)&&o.length===n)return{left:i,middle:s,right:o}}catch{}return null}function mp(t,e){try{localStorage.setItem(Mc[t],JSON.stringify(e))}catch{}}const uc=({project:t,hoverColor:e,dragDisabled:n})=>M.jsx(Dc,{to:`/project/${t.id}`,title:t.title,hoverColor:e,draggable:!n,preview:t.imageUrl?M.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-contain",onContextMenu:i=>i.preventDefault(),onDragStart:i=>i.preventDefault(),style:{pointerEvents:"none"}}):M.jsx("div",{className:"w-full h-full bg-bgMain","aria-hidden":!0})}),Iv=({projectId:t,children:e,onReorder:n})=>{const i=u=>{u.dataTransfer.setData("text/plain",t),u.dataTransfer.effectAllowed="move"},s=u=>{u.preventDefault(),u.dataTransfer.dropEffect="move"},o=u=>{u.preventDefault();const c=u.dataTransfer.getData("text/plain");c&&c!==t&&n(c,t)};return M.jsx("div",{className:"h-full w-full",draggable:!0,onDragStart:i,onDragOver:s,onDrop:o,children:e})},Pv=({hoverColor:t})=>M.jsx(Dc,{to:"/project/new",title:"Add project",hoverColor:t,preview:M.jsx("div",{className:"pl-6 pr-4 mt-4",children:M.jsx("span",{className:"font-mono text-xs text-textSecondary uppercase tracking-wider",children:"New project"})})},"add-project"),Hk=({project:t})=>{const e=`/project/${t.id}`,n=()=>{const s=e?`#${e}`:"#/";window.location.hash=s,window.location.reload()},i=s=>{s.preventDefault(),s.stopPropagation(),n()};return M.jsxs("div",{role:"link",tabIndex:0,className:"block py-4 px-4 border-b border-paletteBorder bg-bgMain hover:opacity-90 transition-opacity cursor-pointer",onClick:i,onTouchEnd:s=>{s.preventDefault(),n()},onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),n())},children:[M.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textSecondary",children:t.year}),M.jsx("h3",{className:"font-mono text-lg uppercase tracking-wider text-textPrimary mt-1",children:t.title}),t.imageUrl?M.jsx("img",{src:t.imageUrl,alt:"",className:"mt-3 w-full max-h-48 object-contain bg-bgMain",onContextMenu:s=>s.preventDefault()}):null]})},Uk=({projectsByYear:t})=>M.jsx("div",{className:"min-h-screen h-screen w-full flex flex-col overflow-hidden bg-bgMain text-textPrimary",children:M.jsx("div",{className:"overflow-y-auto pt-12 pb-8 bg-bgMain",style:{position:"fixed",top:"3rem",left:0,right:0,bottom:0,zIndex:1},children:M.jsx("div",{className:"flex flex-col",children:t.map(e=>M.jsx("div",{children:M.jsx(Hk,{project:e})},e.id))})})}),Ik=({data:t,onRefresh:e})=>{const n=Gi(),{isAdmin:i}=Ll(),s=Math.ceil(t.projects.length/2),o=t.projects.slice(0,s),u=t.projects.slice(s),c=i&&o.length<=u.length,d=2,h=o.length+(c?1:0),m=u.length+(c?0:1),{leftColors:y,middleColors:b,rightColors:v}=R.useMemo(()=>({leftColors:Array.from({length:d},()=>pp),middleColors:Array.from({length:h},()=>pp),rightColors:Array.from({length:m},()=>pp)}),[d,h,m]);R.useMemo(()=>ml(d,h,m),[d,h,m]);const[S,E]=R.useState(()=>{const te=ml(d,h,m);return(te==null?void 0:te.left)??Uv(d)}),[T,A]=R.useState(()=>{const te=ml(d,h,m);return te!=null&&te.middle?te.middle:ac(o.map(de=>de.coverAspectRatio??1),c)}),[_,j]=R.useState(()=>{const te=ml(d,h,m);return te!=null&&te.right?te.right:ac(u.map(de=>de.coverAspectRatio??1),!c&&i)});R.useEffect(()=>{if(S.length!==d){const te=ml(d,h,m);E((te==null?void 0:te.left)??Uv(d))}if(T.length!==h){const te=ml(d,h,m);A((te==null?void 0:te.middle)??ac(o.map(de=>de.coverAspectRatio??1),c))}if(_.length!==m){const te=ml(d,h,m);j((te==null?void 0:te.right)??ac(u.map(de=>de.coverAspectRatio??1),!c&&i))}},[d,h,m,o,u,c,i]);const $=R.useCallback(te=>{E(te),mp("left",te)},[]),H=R.useCallback(te=>{A(te),mp("middle",te)},[]),q=R.useCallback(te=>{j(te),mp("right",te)},[]),P=R.useMemo(()=>o.map(te=>te.id).concat(u.map(te=>te.id)),[o,u]),K=R.useCallback(async(te,de)=>{const Se=P.filter(ee=>ee!==te),I=Se.indexOf(de);I!==-1&&(Se.splice(I,0,te),await jk(Se),e==null||e())},[P,e]),X=R.useMemo(()=>[M.jsx(Dc,{to:"/about",title:"About me",hoverColor:y[0],preview:M.jsx(vk,{text:t.aboutMe})},"about"),M.jsx(Dc,{to:"/contact",title:"Contact",hoverColor:y[1],preview:M.jsx("div",{className:"pl-6 pr-4 mt-4",children:M.jsx("span",{className:"font-mono text-xs text-textSecondary uppercase tracking-wider",children:"Get in touch"})})},"contact")],[t,y]),fe=R.useMemo(()=>[...o.map((te,de)=>i?M.jsx(Iv,{projectId:te.id,onReorder:K,children:M.jsx(uc,{project:te,hoverColor:b[de],dragDisabled:!0})},te.id):M.jsx(uc,{project:te,hoverColor:b[de]},te.id)),...c?[M.jsx(Pv,{hoverColor:b[o.length]},"add-project")]:[]],[t,o,b,c,i,K]),oe=R.useMemo(()=>[...u.map((te,de)=>i?M.jsx(Iv,{projectId:te.id,onReorder:K,children:M.jsx(uc,{project:te,hoverColor:v[de],dragDisabled:!0})},te.id):M.jsx(uc,{project:te,hoverColor:v[de]},te.id)),...!c&&i?[M.jsx(Pv,{hoverColor:v[u.length]},"add-project")]:[]],[t,u,v,c,i,K]),Te=R.useMemo(()=>[...t.projects].sort((te,de)=>Hv(de)-Hv(te)),[t.projects]);return n?M.jsx(Uk,{data:t,projectsByYear:Te}):M.jsx(Gw,{leftRows:X,middleRows:fe,rightRows:oe,leftHeights:S,middleHeights:T,rightHeights:_,leftColors:y,middleColors:b,rightColors:v,onLeftHeightsChange:$,onMiddleHeightsChange:H,onRightHeightsChange:q})},Pk=({className:t=""})=>M.jsxs("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"square","aria-hidden":!0,children:[M.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),M.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),M.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),Vk=()=>{const[t,e]=R.useState(!1),n=mr();return R.useEffect(()=>{e(!1)},[n.pathname]),M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"fixed top-0 left-0 z-[100] h-12 w-auto max-w-[33.333vw] flex items-center pl-4 rounded-sm transition-opacity duration-150",style:{backgroundColor:Af.accent},children:[M.jsx("button",{type:"button","aria-label":"Open menu",onClick:()=>e(!0),className:"h-12 w-6 flex items-center justify-center text-textPrimary hover:opacity-80 transition-opacity shrink-0",children:M.jsx(Pk,{})}),M.jsx(Ii,{to:"/",className:"font-mono text-base uppercase tracking-wider text-textPrimary flex-1 flex items-center justify-center min-w-0 px-4 hover:opacity-90 transition-opacity duration-150",children:"Home"})]}),t&&M.jsxs(M.Fragment,{children:[M.jsx("div",{role:"presentation",className:"fixed inset-0 z-[101] bg-black/40",onClick:()=>e(!1),"aria-hidden":!0}),M.jsxs("nav",{className:"fixed top-0 left-0 z-[102] w-64 h-full bg-bgMain border-r border-paletteBorder flex flex-col pt-14 pl-4 pr-4 pb-4","aria-label":"Main navigation",children:[M.jsx("a",{href:"#/about",className:"font-mono text-sm uppercase tracking-wider py-3 border-b border-paletteBorder text-textPrimary hover:underline block",onClick:()=>e(!1),children:"About me"}),M.jsx("a",{href:"#/contact",className:"font-mono text-sm uppercase tracking-wider py-3 border-b border-paletteBorder text-textPrimary hover:underline block",onClick:()=>e(!1),children:"Contact"})]})]})]})},Vv=()=>{const{login:t}=Ll(),e=_l(),[n,i]=R.useState(""),s=o=>{o.preventDefault(),t(n)?e("/"):alert("Incorrect password.")};return M.jsx("div",{className:"min-h-screen bg-bgMain flex items-center justify-center px-6",children:M.jsxs("form",{onSubmit:s,className:"w-full max-w-sm",children:[M.jsx("h2",{className:"font-mono text-sm uppercase tracking-wider text-textPrimary mb-8",children:"Admin login"}),M.jsx("input",{type:"password",placeholder:"Password",className:"w-full py-3 border-b border-paletteBorder bg-transparent font-mono text-sm uppercase tracking-wider placeholder:text-textSecondary text-textPrimary focus:outline-none mb-8",value:n,onChange:o=>i(o.target.value)}),M.jsx("button",{type:"submit",className:"font-mono text-base uppercase tracking-wider text-textPrimary py-4 px-5 transition-opacity duration-150 hover:opacity-90 rounded-sm w-full",style:{backgroundColor:Af.accent},children:"Log in"})]})})},qk=()=>{const[t,e]=R.useState(!1),n=async()=>{e(!0);try{const i=await Bk(),s=new Blob([i],{type:"application/json"}),o=URL.createObjectURL(s),u=document.createElement("a");u.href=o,u.download="portfolio.json",u.click(),URL.revokeObjectURL(o)}finally{e(!1)}};return M.jsxs("div",{className:"min-h-screen bg-bgMain pt-pageTop px-6 pb-12 max-w-2xl text-textPrimary",children:[M.jsx("h1",{className:"font-mono text-sm uppercase tracking-wider mb-6",children:"Deployment"}),M.jsxs("section",{className:"border border-paletteBorder p-6 space-y-4 rounded-sm mb-6",children:[M.jsx("h2",{className:"font-mono text-xs uppercase tracking-wider mb-2",children:"Publish for viewers (hard refresh)"}),M.jsx("p",{className:"font-mono text-sm text-textSecondary",children:"So visitors always see your latest work (even after hard refresh), publish the portfolio as a JSON file on your site."}),M.jsxs("ol",{className:"font-mono text-sm list-decimal list-inside space-y-2 text-textSecondary",children:[M.jsxs("li",{children:["Click below to download ",M.jsx("code",{className:"bg-bgSidebar px-1",children:"portfolio.json"}),"."]}),M.jsxs("li",{children:["Put the file in your sites ",M.jsx("code",{className:"bg-bgSidebar px-1",children:"docs/"})," folder (same place as ",M.jsx("code",{className:"bg-bgSidebar px-1",children:"index.html"}),")."]}),M.jsxs("li",{children:["Build with ",M.jsx("code",{className:"bg-bgSidebar px-1",children:"npm run build:production"})," (or set ",M.jsx("code",{className:"bg-bgSidebar px-1",children:"VITE_PORTFOLIO_URL"})," to your portfolio.json URL)."]}),M.jsx("li",{children:"Deploy. Viewers will load data from that URL first."})]}),M.jsx("button",{type:"button",onClick:n,disabled:t,className:"font-mono text-xs uppercase tracking-wider border border-paletteBorder px-4 py-2 bg-bgMain hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm disabled:opacity-50",children:t?"Preparing":"Download portfolio.json"})]}),M.jsxs("section",{className:"border border-paletteBorder p-6 space-y-4 rounded-sm mb-6",children:[M.jsx("h2",{className:"font-mono text-xs uppercase tracking-wider mb-2",children:"Domain setup"}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"font-mono text-xs uppercase tracking-wider mb-2",children:"1. Naked domain (A record)"}),M.jsx("p",{className:"font-mono text-sm",children:"Add an A record for your root domain (@) pointing to your host IP."})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"font-mono text-xs uppercase tracking-wider mb-2",children:"2. Redirect"}),M.jsx("p",{className:"font-mono text-sm",children:"Set domain forwarding from your root domain to https://www.yourdomain.com (301 redirect)."})]})]})]}),M.jsx("p",{className:"mt-6",children:M.jsx(Ii,{to:"/",className:"font-mono text-xs uppercase tracking-wider border border-paletteBorder px-4 py-2 inline-block bg-bgMain hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Back to home"})})]})};function tm(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i.naturalWidth/i.naturalHeight||1),i.onerror=()=>n(new Error("Image load failed")),i.src=t})}function ws(t,e=1600,n=.78){return new Promise((i,s)=>{const o=new Image;o.crossOrigin="anonymous",o.onload=()=>{try{const u=document.createElement("canvas");let{width:c,height:d}=o;c>e&&(d=d*e/c,c=e),u.width=c,u.height=d;const h=u.getContext("2d");if(!h){i(t);return}h.drawImage(o,0,0,c,d),i(u.toDataURL("image/jpeg",n))}catch(u){s(u)}},o.onerror=()=>s(new Error("Image load failed")),o.src=t})}var gp={exports:{}},yp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Gk(){if(qv)return yp;qv=1;var t=Oa();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,s=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function c(y,b){var v=b(),S=i({inst:{value:v,getSnapshot:b}}),E=S[0].inst,T=S[1];return o(function(){E.value=v,E.getSnapshot=b,d(E)&&T({inst:E})},[y,v,b]),s(function(){return d(E)&&T({inst:E}),y(function(){d(E)&&T({inst:E})})},[y]),u(v),v}function d(y){var b=y.getSnapshot;y=y.value;try{var v=b();return!n(y,v)}catch{return!0}}function h(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return yp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,yp}var Gv;function Z1(){return Gv||(Gv=1,gp.exports=Gk()),gp.exports}var eS=Z1();function Bt(t){this.content=t}Bt.prototype={constructor:Bt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,s=i.find(t),o=i.content.slice();return s==-1?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new Bt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Bt(n)},addToStart:function(t,e){return new Bt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Bt(n)},addBefore:function(t,e,n){var i=this.remove(e),s=i.content.slice(),o=i.find(t);return s.splice(o==-1?s.length:o,0,e,n),new Bt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Bt.from(t),t.size?new Bt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Bt.from(t),t.size?new Bt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Bt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Bt.from=function(t){if(t instanceof Bt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Bt(e)};function tS(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(i),o=e.child(i);if(s==o){n+=s.nodeSize;continue}if(!s.sameMarkup(o))return n;if(s.isText&&s.text!=o.text){for(let u=0;s.text[u]==o.text[u];u++)n++;return n}if(s.content.size||o.content.size){let u=tS(s.content,o.content,n+1);if(u!=null)return u}n+=s.nodeSize}}function nS(t,e,n,i){for(let s=t.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:n,b:i};let u=t.child(--s),c=e.child(--o),d=u.nodeSize;if(u==c){n-=d,i-=d;continue}if(!u.sameMarkup(c))return{a:n,b:i};if(u.isText&&u.text!=c.text){let h=0,m=Math.min(u.text.length,c.text.length);for(;h<m&&u.text[u.text.length-h-1]==c.text[c.text.length-h-1];)h++,n--,i--;return{a:n,b:i}}if(u.content.size||c.content.size){let h=nS(u.content,c.content,n-1,i-1);if(h)return h}n-=d,i-=d}}class J{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,s=0,o){for(let u=0,c=0;c<n;u++){let d=this.content[u],h=c+d.nodeSize;if(h>e&&i(d,s+c,o||null,u)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,n-m),i,s+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,s){let o="",u=!0;return this.nodesBetween(e,n,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,n-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&i&&(u?u=!1:o+=i),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,s=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new J(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],s=0;if(n>e)for(let o=0,u=0;u<n;o++){let c=this.content[o],d=u+c.nodeSize;d>e&&((u<e||d>n)&&(c.isText?c=c.cut(Math.max(0,e-u),Math.min(c.text.length,n-u)):c=c.cut(Math.max(0,e-u-1),Math.min(c.content.size,n-u-1))),i.push(c),s+=c.nodeSize),u=d}return new J(i,s)}cutByIndex(e,n){return e==n?J.empty:e==0&&n==this.content.length?this:new J(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let s=this.content.slice(),o=this.size+n.nodeSize-i.nodeSize;return s[e]=n,new J(s,o)}addToStart(e){return new J([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new J(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let s=this.content[n];e(s,i,n),i+=s.nodeSize}}findDiffStart(e,n=0){return tS(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return nS(this,e,n,i)}findIndex(e){if(e==0)return cc(0,e);if(e==this.size)return cc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let s=this.child(n),o=i+s.nodeSize;if(o>=e)return o==e?cc(n+1,o):cc(n,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return J.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return J.empty;let n,i=0;for(let s=0;s<e.length;s++){let o=e[s];i+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(n||(n=e.slice(0,s)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new J(n||e,i)}static from(e){if(!e)return J.empty;if(e instanceof J)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new J([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}J.empty=new J([],0);const bp={index:0,offset:0};function cc(t,e){return bp.index=t,bp.offset=e,bp}function Lc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!Lc(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!Lc(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let Ke=class nm{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!i&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),i=!0),n&&n.push(o)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Lc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return nm.none;if(e instanceof nm)return[e];let n=e.slice();return n.sort((i,s)=>i.type.rank-s.type.rank),n}};Ke.none=[];class zc extends Error{}class ne{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=iS(this.content,e+this.openStart,n);return i&&new ne(i,this.openStart,this.openEnd)}removeBetween(e,n){return new ne(rS(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ne.empty;let i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ne(J.fromJSON(e,n.content),i,s)}static maxOpen(e,n=!0){let i=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new ne(e,i,s)}}ne.empty=new ne(J.empty,0,0);function rS(t,e,n){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i),{index:u,offset:c}=t.findIndex(n);if(s==e||o.isText){if(c!=n&&!t.child(u).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=u)throw new RangeError("Removing non-flat range");return t.replaceChild(i,o.copy(rS(o.content,e-s-1,n-s-1)))}function iS(t,e,n,i){let{index:s,offset:o}=t.findIndex(e),u=t.maybeChild(s);if(o==e||u.isText)return i&&!i.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=iS(u.content,e-o-1,n,u);return c&&t.replaceChild(s,u.copy(c))}function $k(t,e,n){if(n.openStart>t.depth)throw new zc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new zc("Inconsistent open depths");return lS(t,e,n,0)}function lS(t,e,n,i){let s=t.index(i),o=t.node(i);if(s==e.index(i)&&i<t.depth-n.openStart){let u=lS(t,e,n,i+1);return o.copy(o.content.replaceChild(s,u))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let u=t.parent,c=u.content;return Tl(u,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:u,end:c}=Fk(n,t);return Tl(o,oS(t,u,c,e,i))}else return Tl(o,jc(t,e,i))}function sS(t,e){if(!e.type.compatibleContent(t.type))throw new zc("Cannot join "+e.type.name+" onto "+t.type.name)}function rm(t,e,n){let i=t.node(n);return sS(i,e.node(n)),i}function El(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function oa(t,e,n,i){let s=(e||t).node(n),o=0,u=e?e.index(n):s.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(El(t.nodeAfter,i),o++));for(let c=o;c<u;c++)El(s.child(c),i);e&&e.depth==n&&e.textOffset&&El(e.nodeBefore,i)}function Tl(t,e){return t.type.checkContent(e),t.copy(e)}function oS(t,e,n,i,s){let o=t.depth>s&&rm(t,e,s+1),u=i.depth>s&&rm(n,i,s+1),c=[];return oa(null,t,s,c),o&&u&&e.index(s)==n.index(s)?(sS(o,u),El(Tl(o,oS(t,e,n,i,s+1)),c)):(o&&El(Tl(o,jc(t,e,s+1)),c),oa(e,n,s,c),u&&El(Tl(u,jc(n,i,s+1)),c)),oa(i,null,s,c),new J(c)}function jc(t,e,n){let i=[];if(oa(null,t,n,i),t.depth>n){let s=rm(t,e,n+1);El(Tl(s,jc(t,e,n+1)),i)}return oa(e,null,n,i),new J(i)}function Fk(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)s=e.node(o).copy(J.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class va{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=e.child(n);return i?e.child(n).cut(i):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)s+=i.child(o).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ke.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),s=e.maybeChild(n);if(!i){let c=i;i=s,s=c}let o=i.marks;for(var u=0;u<o.length;u++)o[u].type.spec.inclusive===!1&&(!s||!o[u].isInSet(s.marks))&&(o=o[u--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new Bc(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],s=0,o=n;for(let u=e;;){let{index:c,offset:d}=u.content.findIndex(o),h=o-d;if(i.push(u,c,s+d),!h||(u=u.child(c),u.isText))break;o=h-1,s+=d+1}return new va(n,i,o)}static resolveCached(e,n){let i=$v.get(e);if(i)for(let o=0;o<i.elts.length;o++){let u=i.elts[o];if(u.pos==n)return u}else $v.set(e,i=new Yk);let s=i.elts[i.i]=va.resolve(e,n);return i.i=(i.i+1)%Kk,s}}class Yk{constructor(){this.elts=[],this.i=0}}const Kk=12,$v=new WeakMap;class Bc{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Jk=Object.create(null);class Zn{constructor(e,n,i,s=Ke.none){this.type=e,this.attrs=n,this.marks=s,this.content=i||J.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,s=0){this.content.nodesBetween(e,n,i,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,s){return this.content.textBetween(e,n,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&Lc(this.attrs,n||e.defaultAttrs||Jk)&&Ke.sameSet(this.marks,i||Ke.none)}copy(e=null){return e==this.content?this:new Zn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Zn(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return ne.empty;let s=this.resolve(e),o=this.resolve(n),u=i?0:s.sharedDepth(n),c=s.start(u),h=s.node(u).content.cut(s.pos-c,o.pos-c);return new ne(h,s.depth-u,o.depth-u)}replace(e,n,i){return $k(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let s=this.content.child(n-1);return{node:s,index:n-1,offset:i-s.nodeSize}}resolve(e){return va.resolveCached(this,e)}resolveNoCache(e){return va.resolve(this,e)}rangeHasMark(e,n,i){let s=!1;return n>e&&this.nodesBetween(e,n,o=>(i.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),aS(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=J.empty,s=0,o=i.childCount){let u=this.contentMatchAt(e).matchFragment(i,s,o),c=u&&u.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=s;d<o;d++)if(!this.type.allowsMarks(i.child(d).marks))return!1;return!0}canReplaceWith(e,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(i),u=o&&o.matchFragment(this.content,n);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ke.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!Ke.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let s=J.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,s,i);return o.type.checkAttrs(o.attrs),o}}Zn.prototype.text=void 0;class Hc extends Zn{constructor(e,n,i,s){if(super(e,n,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):aS(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Hc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Hc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function aS(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class wl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new Xk(e,n);if(i.next==null)return wl.empty;let s=uS(i);i.next&&i.err("Unexpected trailing text");let o=rN(nN(s));return iN(o,i),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let s=this;for(let o=n;s&&o<i;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let s=[this];function o(u,c){let d=u.matchFragment(e,i);if(d&&(!n||d.validEnd))return J.from(c.map(h=>h.createAndFill()));for(let h=0;h<u.next.length;h++){let{type:m,next:y}=u.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(y)==-1){s.push(y);let b=o(y,c.concat(m));if(b)return b}}return null}return o(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),o=s.match;if(o.matchType(e)){let u=[];for(let c=s;c.type;c=c.via)u.push(c.type);return u.reverse()}for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!s.type||d.validEnd)&&(i.push({match:c.contentMatch,type:c,via:s}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let s=0;s<i.next.length;s++)e.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),e.map((i,s)=>{let o=s+(i.validEnd?"*":" ")+" ";for(let u=0;u<i.next.length;u++)o+=(u?", ":"")+i.next[u].type.name+"->"+e.indexOf(i.next[u].next);return o}).join(`
`)}}wl.empty=new wl(!0);class Xk{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function uS(t){let e=[];do e.push(Qk(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Qk(t){let e=[];do e.push(Wk(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Wk(t){let e=tN(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Zk(t,e);else break;return e}function Fv(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Zk(t,e){let n=Fv(t),i=n;return t.eat(",")&&(t.next!="}"?i=Fv(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function eN(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let s=[];for(let o in n){let u=n[o];u.isInGroup(e)&&s.push(u)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function tN(t){if(t.eat("(")){let e=uS(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=eN(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function nN(t){let e=[[]];return s(o(t,0),n()),e;function n(){return e.push([])-1}function i(u,c,d){let h={term:d,to:c};return e[u].push(h),h}function s(u,c){u.forEach(d=>d.to=c)}function o(u,c){if(u.type=="choice")return u.exprs.reduce((d,h)=>d.concat(o(h,c)),[]);if(u.type=="seq")for(let d=0;;d++){let h=o(u.exprs[d],c);if(d==u.exprs.length-1)return h;s(h,c=n())}else if(u.type=="star"){let d=n();return i(c,d),s(o(u.expr,d),d),[i(d)]}else if(u.type=="plus"){let d=n();return s(o(u.expr,c),d),s(o(u.expr,d),d),[i(d)]}else{if(u.type=="opt")return[i(c)].concat(o(u.expr,c));if(u.type=="range"){let d=c;for(let h=0;h<u.min;h++){let m=n();s(o(u.expr,d),m),d=m}if(u.max==-1)s(o(u.expr,d),d);else for(let h=u.min;h<u.max;h++){let m=n();i(d,m),s(o(u.expr,d),m),d=m}return[i(d)]}else{if(u.type=="name")return[i(c,void 0,u.value)];throw new Error("Unknown expr type")}}}}function cS(t,e){return e-t}function Yv(t,e){let n=[];return i(e),n.sort(cS);function i(s){let o=t[s];if(o.length==1&&!o[0].term)return i(o[0].to);n.push(s);for(let u=0;u<o.length;u++){let{term:c,to:d}=o[u];!c&&n.indexOf(d)==-1&&i(d)}}}function rN(t){let e=Object.create(null);return n(Yv(t,0));function n(i){let s=[];i.forEach(u=>{t[u].forEach(({term:c,to:d})=>{if(!c)return;let h;for(let m=0;m<s.length;m++)s[m][0]==c&&(h=s[m][1]);Yv(t,d).forEach(m=>{h||s.push([c,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let o=e[i.join(",")]=new wl(i.indexOf(t.length-1)>-1);for(let u=0;u<s.length;u++){let c=s[u][1].sort(cS);o.next.push({type:s[u][0],next:e[c.join(",")]||n(c)})}return o}}function iN(t,e){for(let n=0,i=[t];n<i.length;n++){let s=i[n],o=!s.validEnd,u=[];for(let c=0;c<s.next.length;c++){let{type:d,next:h}=s.next[c];u.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),i.indexOf(h)==-1&&i.push(h)}o&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function fS(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function dS(t,e){let n=Object.create(null);for(let i in t){let s=e&&e[i];if(s===void 0){let o=t[i];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=s}return n}function hS(t,e,n,i){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let o=t[s];o.validate&&o.validate(e[s])}}function pS(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new sN(t,i,e[i]);return n}let Kv=class mS{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=pS(e,i.attrs),this.defaultAttrs=fS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==wl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:dS(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Zn(this,this.computeAttrs(e),J.from(n),Ke.setFrom(i))}createChecked(e=null,n,i){return n=J.from(n),this.checkContent(n),new Zn(this,this.computeAttrs(e),n,Ke.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=J.from(n),n.size){let u=this.contentMatch.fillBefore(n);if(!u)return null;n=u.append(n)}let s=this.contentMatch.matchFragment(n),o=s&&s.fillBefore(J.empty,!0);return o?new Zn(this,e,n.append(o),Ke.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){hS(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:Ke.none:e}static compile(e,n){let i=Object.create(null);e.forEach((o,u)=>i[o]=new mS(o,n,u));let s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function lN(t,e,n){let i=n.split("|");return s=>{let o=s===null?"null":typeof s;if(i.indexOf(o)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${o}`)}}class sN{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?lN(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class wf{constructor(e,n,i,s){this.name=e,this.rank=n,this.schema=i,this.spec=s,this.attrs=pS(e,s.attrs),this.excluded=null;let o=fS(this.attrs);this.instance=o?new Ke(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ke(this,dS(this.attrs,e))}static compile(e,n){let i=Object.create(null),s=0;return e.forEach((o,u)=>i[o]=new wf(o,s++,n,u)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){hS(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class gS{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Bt.from(e.nodes),n.marks=Bt.from(e.marks||{}),this.nodes=Kv.compile(this.spec.nodes,this),this.marks=wf.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],u=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=i[u]||(i[u]=wl.parse(u,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?Jv(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],u=o.spec.excludes;o.excluded=u==null?[o]:u==""?[]:Jv(this,u.split(" "))}this.nodeFromJSON=s=>Zn.fromJSON(this,s),this.markFromJSON=s=>Ke.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Kv){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,s)}text(e,n){let i=this.nodes.text;return new Hc(i,i.defaultAttrs,e,Ke.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Jv(t,e){let n=[];for(let i=0;i<e.length;i++){let s=e[i],o=t.marks[s],u=o;if(o)n.push(o);else for(let c in t.marks){let d=t.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(u=d)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function oN(t){return t.tag!=null}function aN(t){return t.style!=null}class ji{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(s=>{if(oN(s))this.tags.push(s);else if(aN(s)){let o=/[^=]*/.exec(s.style)[0];i.indexOf(o)<0&&i.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let i=new Qv(this,n,!1);return i.addAll(e,Ke.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new Qv(this,n,!0);return i.addAll(e,Ke.none,n.from,n.to),ne.maxOpen(i.finish())}matchTag(e,n,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(fN(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let u=o.getAttrs(e);if(u===!1)continue;o.attrs=u||void 0}return o}}}matchStyle(e,n,i,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let u=this.styles[o],c=u.style;if(!(c.indexOf(e)!=0||u.context&&!i.matchesContext(u.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(u.getAttrs){let d=u.getAttrs(n);if(d===!1)continue;u.attrs=d||void 0}return u}}}static schemaRules(e){let n=[];function i(s){let o=s.priority==null?50:s.priority,u=0;for(;u<n.length;u++){let c=n[u];if((c.priority==null?50:c.priority)<o)break}n.splice(u,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(u=>{i(u=Wv(u)),u.mark||u.ignore||u.clearMark||(u.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(u=>{i(u=Wv(u)),u.node||u.ignore||u.mark||(u.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ji(e,ji.schemaRules(e)))}}const yS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},uN={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},bS={ol:!0,ul:!0},xa=1,im=2,aa=4;function Xv(t,e,n){return e!=null?(e?xa:0)|(e==="full"?im:0):t&&t.whitespace=="pre"?xa|im:n&~aa}class fc{constructor(e,n,i,s,o,u){this.type=e,this.attrs=n,this.marks=i,this.solid=s,this.options=u,this.content=[],this.activeMarks=Ke.none,this.match=o||(u&aa?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(J.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(e.type))?(this.match=i,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&xa)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let n=J.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!yS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Qv{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let s=n.topNode,o,u=Xv(null,n.preserveWhitespace,0)|(i?aa:0);s?o=new fc(s.type,s.attrs,Ke.none,!0,n.topMatch||s.type.contentMatch,u):i?o=new fc(null,null,Ke.none,!0,null,u):o=new fc(e.schema.topNodeType,null,Ke.none,!0,null,u),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,s=this.top,o=s.options&im?"full":this.localPreserveWS||(s.options&xa)>0,{schema:u}=this.parser;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(o)if(o==="full")i=i.replace(/\r\n?/g,`
`);else if(u.linebreakReplacement&&/[\r\n]/.test(i)&&this.top.findWrapping(u.linebreakReplacement.create())){let c=i.split(/\r?\n|\r/);for(let d=0;d<c.length;d++)d&&this.insertNode(u.linebreakReplacement.create(),n,!0),c[d]&&this.insertNode(u.text(c[d]),n,!/\S/.test(c[d]));i=""}else i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let c=s.content[s.content.length-1],d=e.previousSibling;(!c||d&&d.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(i=i.slice(1))}i&&this.insertNode(u.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),c;bS.hasOwnProperty(u)&&this.parser.normalizeLists&&cN(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,i));e:if(d?d.ignore:uN.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(yS.hasOwnProperty(u))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let y=d&&d.skip?n:this.readStyles(e,n);y&&this.addAll(e,y),h&&this.sync(o),this.needsBlock=m}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,d,h,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],u=i.getPropertyValue(o);if(u)for(let c=void 0;;){let d=this.parser.matchStyle(o,u,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(h=>!d.clearMark(h)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(e,n,i,s){let o,u;if(n.node)if(u=this.parser.schema.nodes[n.node],u.isLeaf)this.insertNode(u.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let d=this.enter(u,n.attrs||null,i,n.preserveWhitespace);d&&(o=!0,i=d)}else{let d=this.parser.schema.marks[n.mark];i=i.concat(d.create(n.attrs))}let c=this.top;if(u&&u.isLeaf)this.findInside(e);else if(s)this.addElement(e,i,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,i,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,i),this.findAround(e,d,!1)}o&&this.sync(c)&&this.open--}addAll(e,n,i,s){let o=i||0;for(let u=i?e.childNodes[i]:e.firstChild,c=s==null?null:e.childNodes[s];u!=c;u=u.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(u,n);this.findAtPoint(e,o)}findPlace(e,n,i){let s,o;for(let u=this.open,c=0;u>=0;u--){let d=this.nodes[u],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+c)&&(s=h,o=d,!h.length))break;if(d.solid){if(i)break;c+=2}}if(!s)return null;this.sync(o);for(let u=0;u<s.length;u++)n=this.enterInner(s[u],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let s=this.findPlace(e,n,i);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let u=Ke.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):Zv(c.type,e.type))&&(u=c.addToSet(u));return o.content.push(e.mark(u)),!0}return!1}enter(e,n,i,s){let o=this.findPlace(e.create(n),i,!1);return o&&(o=this.enterInner(e,n,i,!0,s)),o}enterInner(e,n,i,s=!1,o){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let c=Xv(e,o,u.options);u.options&aa&&u.content.length==0&&(c|=aa);let d=Ke.none;return i=i.filter(h=>(u.type?u.type.allowsMarkType(h.type):Zv(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new fc(e,n,d,s,null,c)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=xa)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let s=i.length-1;s>=0;s--)e+=i[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(s?0:1),u=(c,d)=>{for(;c>=0;c--){let h=n[c];if(h==""){if(c==n.length-1||c==0)continue;for(;d>=o;d--)if(u(c-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:i&&d>=o?i.node(d-o).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return u(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function cN(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&bS.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function fN(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Wv(t){let e={};for(let n in t)e[n]=t[n];return e}function Zv(t,e){let n=e.schema.nodes;for(let i in n){let s=n[i];if(!s.allowsMarkType(t))continue;let o=[],u=c=>{o.push(c);for(let d=0;d<c.edgeCount;d++){let{type:h,next:m}=c.edge(d);if(h==e||o.indexOf(m)<0&&u(m))return!0}};if(u(s.contentMatch))return!0}}class zl{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=vp(n).createDocumentFragment());let s=i,o=[];return e.forEach(u=>{if(o.length||u.marks.length){let c=0,d=0;for(;c<o.length&&d<u.marks.length;){let h=u.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(o[c][0])||h.type.spec.spanning===!1)break;c++,d++}for(;c<o.length;)s=o.pop()[1];for(;d<u.marks.length;){let h=u.marks[d++],m=this.serializeMark(h,u.isInline,n);m&&(o.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(u,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:s}=Ac(vp(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(e,n,i={}){let s=this.marks[e.type.name];return s&&Ac(vp(i),s(e,n),null,e.attrs)}static renderSpec(e,n,i=null,s){return Ac(e,n,i,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new zl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=ex(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return ex(e.marks)}}function ex(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function vp(t){return t.document||window.document}const tx=new WeakMap;function dN(t){let e=tx.get(t);return e===void 0&&tx.set(t,e=hN(t)),e}function hN(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let s=0;s<i.length;s++)n(i[s]);else for(let s in i)n(i[s])}return n(t),e}function Ac(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=dN(i))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=s.indexOf(" ");u>0&&(n=s.slice(0,u),s=s.slice(u+1));let c,d=n?t.createElementNS(n,s):t.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let b=y.indexOf(" ");b>0?d.setAttributeNS(y.slice(0,b),y.slice(b+1),h[y]):y=="style"&&d.style?d.style.cssText=h[y]:d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:S}=Ac(t,b,n,i);if(d.appendChild(v),S){if(c)throw new RangeError("Multiple content holes");c=S}}}return{dom:d,contentDOM:c}}const vS=65535,xS=Math.pow(2,16);function pN(t,e){return t+e*xS}function nx(t){return t&vS}function mN(t){return(t-(t&vS))/xS}const SS=1,ES=2,wc=4,TS=8;class lm{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&TS)>0}get deletedBefore(){return(this.delInfo&(SS|wc))>0}get deletedAfter(){return(this.delInfo&(ES|wc))>0}get deletedAcross(){return(this.delInfo&wc)>0}}class xn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&xn.empty)return xn.empty}recover(e){let n=0,i=nx(e);if(!this.inverted)for(let s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+mN(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let s=0,o=this.inverted?2:1,u=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[c+o],m=this.ranges[c+u],y=d+h;if(e<=y){let b=h?e==d?-1:e==y?1:n:n,v=d+s+(b<0?0:m);if(i)return v;let S=e==(n<0?d:y)?null:pN(c/3,e-d),E=e==d?ES:e==y?SS:wc;return(n<0?e!=d:e!=y)&&(E|=TS),new lm(v,E,S)}s+=m-h}return i?e+s:new lm(e+s,0,null)}touches(e,n){let i=0,s=nx(n),o=this.inverted?2:1,u=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?i:0);if(d>e)break;let h=this.ranges[c+o],m=d+h;if(e<=m&&c==s*3)return!0;i+=this.ranges[c+u]-h}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let u=this.ranges[s],c=u-(this.inverted?o:0),d=u+(this.inverted?0:o),h=this.ranges[s+n],m=this.ranges[s+i];e(c,c+h,d,d+m),o+=m-h}}invert(){return new xn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?xn.empty:new xn(e<0?[0,-e,0]:[0,0,e])}}xn.empty=new xn([]);class Sa{constructor(e,n,i=0,s=e?e.length:0){this.mirror=n,this.from=i,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Sa(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?i+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}invert(){let e=new Sa;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let s=0;for(let o=this.from;o<this.to;o++){let u=this._maps[o],c=u.mapResult(e,n);if(c.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return i?e:new lm(e,s,null)}}const xp=Object.create(null);class Gt{getMap(){return xn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=xp[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in xp)throw new RangeError("Duplicate use of step JSON ID "+e);return xp[e]=n,n.prototype.jsonID=e,n}}class xt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new xt(e,null)}static fail(e){return new xt(null,e)}static fromReplace(e,n,i,s){try{return xt.ok(e.replace(n,i,s))}catch(o){if(o instanceof zc)return xt.fail(o.message);throw o}}}function Um(t,e,n){let i=[];for(let s=0;s<t.childCount;s++){let o=t.child(s);o.content.size&&(o=o.copy(Um(o.content,e,o))),o.isInline&&(o=e(o,n,s)),i.push(o)}return J.fromArray(i)}class _i extends Gt{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),s=i.node(i.sharedDepth(this.to)),o=new ne(Um(n.content,(u,c)=>!u.isAtom||!c.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),s),n.openStart,n.openEnd);return xt.fromReplace(e,this.from,this.to,o)}invert(){return new Wn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new _i(n.pos,i.pos,this.mark)}merge(e){return e instanceof _i&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _i(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new _i(n.from,n.to,e.markFromJSON(n.mark))}}Gt.jsonID("addMark",_i);class Wn extends Gt{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new ne(Um(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return xt.fromReplace(e,this.from,this.to,i)}invert(){return new _i(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Wn(n.pos,i.pos,this.mark)}merge(e){return e instanceof Wn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Wn(n.from,n.to,e.markFromJSON(n.mark))}}Gt.jsonID("removeMark",Wn);class Li extends Gt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return xt.fromReplace(e,this.pos,this.pos+1,new ne(J.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(i))return new Li(this.pos,n.marks[s]);return new Li(this.pos,this.mark)}}return new kl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Li(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Li(n.pos,e.markFromJSON(n.mark))}}Gt.jsonID("addNodeMark",Li);class kl extends Gt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return xt.fromReplace(e,this.pos,this.pos+1,new ne(J.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Li(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new kl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new kl(n.pos,e.markFromJSON(n.mark))}}Gt.jsonID("removeNodeMark",kl);class kt extends Gt{constructor(e,n,i,s=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=s}apply(e){return this.structure&&sm(e,this.from,this.to)?xt.fail("Structure replace would overwrite content"):xt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new xn([this.from,this.to-this.from,this.slice.size])}invert(e){return new kt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new kt(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof kt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ne.empty:new ne(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new kt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ne.empty:new ne(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new kt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new kt(n.from,n.to,ne.fromJSON(e,n.slice),!!n.structure)}}Gt.jsonID("replace",kt);class Nt extends Gt{constructor(e,n,i,s,o,u,c=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=s,this.slice=o,this.insert=u,this.structure=c}apply(e){if(this.structure&&(sm(e,this.from,this.gapFrom)||sm(e,this.gapTo,this.to)))return xt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return xt.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?xt.fromReplace(e,this.from,this.to,i):xt.fail("Content does not fit in gap")}getMap(){return new xn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Nt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||s<n.pos||o>i.pos?null:new Nt(n.pos,i.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Nt(n.from,n.to,n.gapFrom,n.gapTo,ne.fromJSON(e,n.slice),n.insert,!!n.structure)}}Gt.jsonID("replaceAround",Nt);function sm(t,e,n){let i=t.resolve(e),s=n-e,o=i.depth;for(;s>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,s--;if(s>0){let u=i.node(o).maybeChild(i.indexAfter(o));for(;s>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,s--}}return!1}function gN(t,e,n,i){let s=[],o=[],u,c;t.doc.nodesBetween(e,n,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!i.isInSet(y)&&m.type.allowsMarkType(i.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,n),S=i.addToSet(y);for(let E=0;E<y.length;E++)y[E].isInSet(S)||(u&&u.to==b&&u.mark.eq(y[E])?u.to=v:s.push(u=new Wn(b,v,y[E])));c&&c.to==b?c.to=v:o.push(c=new _i(b,v,i))}}),s.forEach(d=>t.step(d)),o.forEach(d=>t.step(d))}function yN(t,e,n,i){let s=[],o=0;t.doc.nodesBetween(e,n,(u,c)=>{if(!u.isInline)return;o++;let d=null;if(i instanceof wf){let h=u.marks,m;for(;m=i.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else i?i.isInSet(u.marks)&&(d=[i]):d=u.marks;if(d&&d.length){let h=Math.min(c+u.nodeSize,n);for(let m=0;m<d.length;m++){let y=d[m],b;for(let v=0;v<s.length;v++){let S=s[v];S.step==o-1&&y.eq(s[v].style)&&(b=S)}b?(b.to=h,b.step=o):s.push({style:y,from:Math.max(c,e),to:h,step:o})}}}),s.forEach(u=>t.step(new Wn(u.from,u.to,u.style)))}function Im(t,e,n,i=n.contentMatch,s=!0){let o=t.doc.nodeAt(e),u=[],c=e+1;for(let d=0;d<o.childCount;d++){let h=o.child(d),m=c+h.nodeSize,y=i.matchType(h.type);if(!y)u.push(new kt(c,m,ne.empty));else{i=y;for(let b=0;b<h.marks.length;b++)n.allowsMarkType(h.marks[b].type)||t.step(new Wn(c,m,h.marks[b]));if(s&&h.isText&&n.whitespace!="pre"){let b,v=/\r?\n|\r/g,S;for(;b=v.exec(h.text);)S||(S=new ne(J.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),u.push(new kt(c+b.index,c+b.index+b[0].length,S))}}c=m}if(!i.validEnd){let d=i.fillBefore(J.empty,!0);t.replace(c,c,new ne(d,0,0))}for(let d=u.length-1;d>=0;d--)t.step(u[d])}function bN(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Vs(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth,s=0,o=0;;--i){let u=t.$from.node(i),c=t.$from.index(i)+s,d=t.$to.indexAfter(i)-o;if(i<t.depth&&u.canReplace(c,d,n))return i;if(i==0||u.type.spec.isolating||!bN(u,c,d))break;c&&(s=1),d<u.childCount&&(o=1)}return null}function vN(t,e,n){let{$from:i,$to:s,depth:o}=e,u=i.before(o+1),c=s.after(o+1),d=u,h=c,m=J.empty,y=0;for(let S=o,E=!1;S>n;S--)E||i.index(S)>0?(E=!0,m=J.from(i.node(S).copy(m)),y++):d--;let b=J.empty,v=0;for(let S=o,E=!1;S>n;S--)E||s.after(S+1)<s.end(S)?(E=!0,b=J.from(s.node(S).copy(b)),v++):h++;t.step(new Nt(d,h,u,c,new ne(m.append(b),y,v),m.size-y,!0))}function Pm(t,e,n=null,i=t){let s=xN(t,e),o=s&&SN(i,e);return o?s.map(rx).concat({type:e,attrs:n}).concat(o.map(rx)):null}function rx(t){return{type:t,attrs:null}}function xN(t,e){let{parent:n,startIndex:i,endIndex:s}=t,o=n.contentMatchAt(i).findWrapping(e);if(!o)return null;let u=o.length?o[0]:e;return n.canReplaceWith(i,s,u)?o:null}function SN(t,e){let{parent:n,startIndex:i,endIndex:s}=t,o=n.child(i),u=e.contentMatch.findWrapping(o.type);if(!u)return null;let d=(u.length?u[u.length-1]:e).contentMatch;for(let h=i;d&&h<s;h++)d=d.matchType(n.child(h).type);return!d||!d.validEnd?null:u}function EN(t,e,n){let i=J.empty;for(let u=n.length-1;u>=0;u--){if(i.size){let c=n[u].type.contentMatch.matchFragment(i);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=J.from(n[u].type.create(n[u].attrs,i))}let s=e.start,o=e.end;t.step(new Nt(s,o,s,o,new ne(i,0,0),n.length,!0))}function TN(t,e,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(u,c)=>{let d=typeof s=="function"?s(u):s;if(u.isTextblock&&!u.hasMarkup(i,d)&&CN(t.doc,t.mapping.slice(o).map(c),i)){let h=null;if(i.schema.linebreakReplacement){let v=i.whitespace=="pre",S=!!i.contentMatch.matchType(i.schema.linebreakReplacement);v&&!S?h=!1:!v&&S&&(h=!0)}h===!1&&MS(t,u,c,o),Im(t,t.mapping.slice(o).map(c,1),i,void 0,h===null);let m=t.mapping.slice(o),y=m.map(c,1),b=m.map(c+u.nodeSize,1);return t.step(new Nt(y,b,y+1,b-1,new ne(J.from(i.create(d,null,u.marks)),0,0),1,!0)),h===!0&&CS(t,u,c,o),!1}})}function CS(t,e,n,i){e.forEach((s,o)=>{if(s.isText){let u,c=/\r?\n|\r/g;for(;u=c.exec(s.text);){let d=t.mapping.slice(i).map(n+1+o+u.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function MS(t,e,n,i){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let u=t.mapping.slice(i).map(n+1+o);t.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function CN(t,e,n){let i=t.resolve(e),s=i.index();return i.parent.canReplaceWith(s,s+1,n)}function MN(t,e,n,i,s){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let u=n.create(i,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,u);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Nt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ne(J.from(u),0,0),1,!0))}function Jr(t,e,n=1,i){let s=t.resolve(e),o=s.depth-n,u=i&&i[i.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!u.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=n-2;h>o;h--,m--){let y=s.node(h),b=s.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(b,y.childCount),S=i&&i[m+1];S&&(v=v.replaceChild(0,S.type.create(S.attrs)));let E=i&&i[m]||y;if(!y.canReplace(b+1,y.childCount)||!E.type.validContent(v))return!1}let c=s.indexAfter(o),d=i&&i[0];return s.node(o).canReplaceWith(c,c,d?d.type:s.node(o+1).type)}function AN(t,e,n=1,i){let s=t.doc.resolve(e),o=J.empty,u=J.empty;for(let c=s.depth,d=s.depth-n,h=n-1;c>d;c--,h--){o=J.from(s.node(c).copy(o));let m=i&&i[h];u=J.from(m?m.type.create(m.attrs,u):s.node(c).copy(u))}t.step(new kt(e,e,new ne(o.append(u),n,n),!0))}function $i(t,e){let n=t.resolve(e),i=n.index();return AS(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function wN(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),u=o.type==i?t.type.schema.nodes.text:o.type;if(n=n.matchType(u),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function AS(t,e){return!!(t&&e&&!t.isLeaf&&wN(t,e))}function kf(t,e,n=-1){let i=t.resolve(e);for(let s=i.depth;;s--){let o,u,c=i.index(s);if(s==i.depth?(o=i.nodeBefore,u=i.nodeAfter):n>0?(o=i.node(s+1),c++,u=i.node(s).maybeChild(c)):(o=i.node(s).maybeChild(c-1),u=i.node(s+1)),o&&!o.isTextblock&&AS(o,u)&&i.node(s).canReplace(c,c+1))return e;if(s==0)break;e=n<0?i.before(s):i.after(s)}}function kN(t,e,n){let i=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-n),u=o.node().type;if(s&&u.inlineContent){let m=u.whitespace=="pre",y=!!u.contentMatch.matchType(s);m&&!y?i=!1:!m&&y&&(i=!0)}let c=t.steps.length;if(i===!1){let m=t.doc.resolve(e+n);MS(t,m.node(),m.before(),c)}u.inlineContent&&Im(t,e+n-1,u,o.node().contentMatchAt(o.index()),i==null);let d=t.mapping.slice(c),h=d.map(e-n);if(t.step(new kt(h,d.map(e+n,-1),ne.empty,!0)),i===!0){let m=t.doc.resolve(h);CS(t,m.node(),m.before(),t.steps.length)}return t}function NN(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let o=i.index(s);if(i.node(s).canReplaceWith(o,o,n))return i.before(s+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let o=i.indexAfter(s);if(i.node(s).canReplaceWith(o,o,n))return i.after(s+1);if(o<i.node(s).childCount)return null}return null}function wS(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let o=0;o<n.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let u=i.depth;u>=0;u--){let c=u==i.depth?0:i.pos<=(i.start(u+1)+i.end(u+1))/2?-1:1,d=i.index(u)+(c>0?1:0),h=i.node(u),m=!1;if(o==1)m=h.canReplace(d,d,s);else{let y=h.contentMatchAt(d).findWrapping(s.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return c==0?i.pos:c<0?i.before(u+1):i.after(u+1)}return null}function Nf(t,e,n=e,i=ne.empty){if(e==n&&!i.size)return null;let s=t.resolve(e),o=t.resolve(n);return kS(s,o,i)?new kt(e,n,i):new ON(s,o,i).fit()}function kS(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class ON{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=J.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=J.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(e<0?this.$to:i.doc.resolve(e));if(!s)return null;let o=this.placed,u=i.depth,c=s.depth;for(;u&&c&&o.childCount==1;)o=o.firstChild.content,u--,c--;let d=new ne(o,u,c);return e>-1?new Nt(i.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||i.pos!=this.$to.pos?new kt(i.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<e;i++){let o=n.firstChild;if(n.childCount>1&&(s=0),o.type.spec.isolating&&s<=i){e=i;break}n=o.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let s,o=null;i?(o=Sp(this.unplaced.content,i-1).firstChild,s=o.content):s=this.unplaced.content;let u=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:h}=this.frontier[c],m,y=null;if(n==1&&(u?h.matchType(u.type)||(y=h.fillBefore(J.from(u),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:c,parent:o,inject:y};if(n==2&&u&&(m=h.findWrapping(u.type)))return{sliceDepth:i,frontierDepth:c,parent:o,wrap:m};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=Sp(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ne(e,n+1,Math.max(i,s.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=Sp(e,n);if(s.childCount<=1&&n>0){let o=e.size-n<=n+s.size;this.unplaced=new ne(na(e,n-1,1),n-1,o?n-1:i)}else this.unplaced=new ne(na(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:s,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let E=0;E<o.length;E++)this.openFrontierNode(o[E]);let u=this.unplaced,c=i?i.content:u.content,d=u.openStart-e,h=0,m=[],{match:y,type:b}=this.frontier[n];if(s){for(let E=0;E<s.childCount;E++)m.push(s.child(E));y=y.matchFragment(s)}let v=c.size+e-(u.content.size-u.openEnd);for(;h<c.childCount;){let E=c.child(h),T=y.matchType(E.type);if(!T)break;h++,(h>1||d==0||E.content.size)&&(y=T,m.push(NS(E.mark(b.allowedMarks(E.marks)),h==1?d:0,h==c.childCount?v:-1)))}let S=h==c.childCount;S||(v=-1),this.placed=ra(this.placed,n,J.from(m)),this.frontier[n].match=y,S&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,T=c;E<v;E++){let A=T.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),T=A.content}this.unplaced=S?e==0?ne.empty:new ne(na(u.content,e-1,1),e-1,v<0?u.openEnd:e-1):new ne(na(u.content,e,h),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Ep(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:s}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),u=Ep(e,n,s,i,o);if(u){for(let c=n-1;c>=0;c--){let{match:d,type:h}=this.frontier[c],m=Ep(e,c,h,d,!0);if(!m||m.childCount)continue e}return{depth:n,fit:u,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ra(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let s=e.node(i),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(i));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,n=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=ra(this.placed,this.depth,J.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(J.empty,!0);n.childCount&&(this.placed=ra(this.placed,this.frontier.length,n))}}function na(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(na(t.firstChild.content,e-1,n)))}function ra(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ra(t.lastChild.content,e-1,n)))}function Sp(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function NS(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,NS(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(J.empty,!0)))),t.copy(i)}function Ep(t,e,n,i,s){let o=t.node(e),u=s?t.indexAfter(e):t.index(e);if(u==o.childCount&&!n.compatibleContent(o.type))return null;let c=i.fillBefore(o.content,!0,u);return c&&!RN(n,o.content,u)?c:null}function RN(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function DN(t){return t.spec.defining||t.spec.definingForContent}function _N(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),o=t.doc.resolve(n);if(kS(s,o,i))return t.step(new kt(e,n,i));let u=RS(s,o);u[u.length-1]==0&&u.pop();let c=-(s.depth+1);u.unshift(c);for(let b=s.depth,v=s.pos-1;b>0;b--,v--){let S=s.node(b).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;u.indexOf(b)>-1?c=b:s.before(b)==v&&u.splice(1,0,-b)}let d=u.indexOf(c),h=[],m=i.openStart;for(let b=i.content,v=0;;v++){let S=b.firstChild;if(h.push(S),v==i.openStart)break;b=S.content}for(let b=m-1;b>=0;b--){let v=h[b],S=DN(v.type);if(S&&!v.sameMarkup(s.node(Math.abs(c)-1)))m=b;else if(S||!v.type.isTextblock)break}for(let b=i.openStart;b>=0;b--){let v=(b+m+1)%(i.openStart+1),S=h[v];if(S)for(let E=0;E<u.length;E++){let T=u[(E+d)%u.length],A=!0;T<0&&(A=!1,T=-T);let _=s.node(T-1),j=s.index(T-1);if(_.canReplaceWith(j,j,S.type,S.marks))return t.replace(s.before(T),A?o.after(T):n,new ne(OS(i.content,0,i.openStart,v),v,i.openEnd))}}let y=t.steps.length;for(let b=u.length-1;b>=0&&(t.replace(e,n,i),!(t.steps.length>y));b--){let v=u[b];v<0||(e=s.before(v),n=o.after(v))}}function OS(t,e,n,i,s){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(OS(o.content,e+1,n,i,o)))}if(e>i){let o=s.contentMatchAt(0),u=o.fillBefore(t).append(t);t=u.append(o.matchFragment(u).fillBefore(J.empty,!0))}return t}function LN(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=NN(t.doc,e,i.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ne(J.from(i),0,0))}function zN(t,e,n){let i=t.doc.resolve(e),s=t.doc.resolve(n),o=RS(i,s);for(let u=0;u<o.length;u++){let c=o[u],d=u==o.length-1;if(d&&c==0||i.node(c).type.contentMatch.validEnd)return t.delete(i.start(c),s.end(c));if(c>0&&(d||i.node(c-1).canReplace(i.index(c-1),s.indexAfter(c-1))))return t.delete(i.before(c),s.after(c))}for(let u=1;u<=i.depth&&u<=s.depth;u++)if(e-i.start(u)==i.depth-u&&n>i.end(u)&&s.end(u)-n!=s.depth-u&&i.start(u-1)==s.start(u-1)&&i.node(u-1).canReplace(i.index(u-1),s.index(u-1)))return t.delete(i.before(u),n);t.delete(e,n)}function RS(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let s=i;s>=0;s--){let o=t.start(s);if(o<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&n.push(s)}return n}class Ns extends Gt{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at attribute step's position");let i=Object.create(null);for(let o in n.attrs)i[o]=n.attrs[o];i[this.attr]=this.value;let s=n.type.create(i,null,n.marks);return xt.fromReplace(e,this.pos,this.pos+1,new ne(J.from(s),0,n.isLeaf?0:1))}getMap(){return xn.empty}invert(e){return new Ns(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ns(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ns(n.pos,n.attr,n.value)}}Gt.jsonID("attr",Ns);class Ea extends Gt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return xt.ok(i)}getMap(){return xn.empty}invert(e){return new Ea(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ea(n.attr,n.value)}}Gt.jsonID("docAttr",Ea);let Ls=class extends Error{};Ls=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ls.prototype=Object.create(Error.prototype);Ls.prototype.constructor=Ls;Ls.prototype.name="TransformError";class DS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Sa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ls(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let i=0;i<this.mapping.maps.length;i++){let s=this.mapping.maps[i];i&&(e=s.map(e,1),n=s.map(n,-1)),s.forEach((o,u,c,d)=>{e=Math.min(e,c),n=Math.max(n,d)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=ne.empty){let s=Nf(this.doc,e,n,i);return s&&this.step(s),this}replaceWith(e,n,i){return this.replace(e,n,new ne(J.from(i),0,0))}delete(e,n){return this.replace(e,n,ne.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return _N(this,e,n,i),this}replaceRangeWith(e,n,i){return LN(this,e,n,i),this}deleteRange(e,n){return zN(this,e,n),this}lift(e,n){return vN(this,e,n),this}join(e,n=1){return kN(this,e,n),this}wrap(e,n){return EN(this,e,n),this}setBlockType(e,n=e,i,s=null){return TN(this,e,n,i,s),this}setNodeMarkup(e,n,i=null,s){return MN(this,e,n,i,s),this}setNodeAttribute(e,n,i){return this.step(new Ns(e,n,i)),this}setDocAttribute(e,n){return this.step(new Ea(e,n)),this}addNodeMark(e,n){return this.step(new Li(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof Ke)n.isInSet(i.marks)&&this.step(new kl(e,n));else{let s=i.marks,o,u=[];for(;o=n.isInSet(s);)u.push(new kl(e,o)),s=o.removeFromSet(s);for(let c=u.length-1;c>=0;c--)this.step(u[c])}return this}split(e,n=1,i){return AN(this,e,n,i),this}addMark(e,n,i){return gN(this,e,n,i),this}removeMark(e,n,i){return yN(this,e,n,i),this}clearIncompatible(e,n,i){return Im(this,e,n,i),this}}const Tp=Object.create(null);class Me{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new jN(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ne.empty){let i=n.content.lastChild,s=null;for(let c=0;c<n.openEnd;c++)s=i,i=i.lastChild;let o=e.steps.length,u=this.ranges;for(let c=0;c<u.length;c++){let{$from:d,$to:h}=u[c],m=e.mapping.slice(o);e.replaceRange(m.map(d.pos),m.map(h.pos),c?ne.empty:n),c==0&&sx(e,o,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:u,$to:c}=s[o],d=e.mapping.slice(i),h=d.map(u.pos),m=d.map(c.pos);o?e.deleteRange(h,m):(e.replaceRangeWith(h,m,n),sx(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let s=e.parent.inlineContent?new ye(e):Cs(e.node(0),e.parent,e.pos,e.index(),n,i);if(s)return s;for(let o=e.depth-1;o>=0;o--){let u=n<0?Cs(e.node(0),e.node(o),e.before(o+1),e.index(o),n,i):Cs(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,i);if(u)return u}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Sn(e.node(0))}static atStart(e){return Cs(e,e,0,0,1)||new Sn(e)}static atEnd(e){return Cs(e,e,e.content.size,e.childCount,-1)||new Sn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Tp[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Tp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Tp[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ye.between(this.$anchor,this.$head).getBookmark()}}Me.prototype.visible=!0;class jN{constructor(e,n){this.$from=e,this.$to=n}}let ix=!1;function lx(t){!ix&&!t.parent.inlineContent&&(ix=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ye extends Me{constructor(e,n=e){lx(e),lx(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return Me.near(i);let s=e.resolve(n.map(this.anchor));return new ye(s.parent.inlineContent?s:i,i)}replace(e,n=ne.empty){if(super.replace(e,n),n==ne.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Of(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ye(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let s=e.resolve(n);return new this(s,i==n?s:e.resolve(i))}static between(e,n,i){let s=e.pos-n.pos;if((!i||s)&&(i=s>=0?1:-1),!n.parent.inlineContent){let o=Me.findFrom(n,i,!0)||Me.findFrom(n,-i,!0);if(o)n=o.$head;else return Me.near(n,i)}return e.parent.inlineContent||(s==0?e=n:(e=(Me.findFrom(e,-i,!0)||Me.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new ye(e,n)}}Me.jsonID("text",ye);class Of{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Of(e.map(this.anchor),e.map(this.head))}resolve(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends Me{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:s}=n.mapResult(this.anchor),o=e.resolve(s);return i?Me.near(o):new pe(o)}content(){return new ne(J.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Vm(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(n.anchor))}static create(e,n){return new pe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1;Me.jsonID("node",pe);class Vm{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new Of(i,i):new Vm(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&pe.isSelectable(i)?new pe(n):Me.near(n)}}class Sn extends Me{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ne.empty){if(n==ne.empty){e.delete(0,e.doc.content.size);let i=Me.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Sn(e)}map(e){return new Sn(e)}eq(e){return e instanceof Sn}getBookmark(){return BN}}Me.jsonID("all",Sn);const BN={map(){return this},resolve(t){return new Sn(t)}};function Cs(t,e,n,i,s,o=!1){if(e.inlineContent)return ye.create(t,n);for(let u=i-(s>0?0:1);s>0?u<e.childCount:u>=0;u+=s){let c=e.child(u);if(c.isAtom){if(!o&&pe.isSelectable(c))return pe.create(t,n-(s<0?c.nodeSize:0))}else{let d=Cs(t,c,n+s,s<0?c.childCount:0,s,o);if(d)return d}n+=c.nodeSize*s}return null}function sx(t,e,n){let i=t.steps.length-1;if(i<e)return;let s=t.steps[i];if(!(s instanceof kt||s instanceof Nt))return;let o=t.mapping.maps[i],u;o.forEach((c,d,h,m)=>{u==null&&(u=m)}),t.setSelection(Me.near(t.doc.resolve(u),n))}const ox=1,dc=2,ax=4;class HN extends DS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ox)&~dc,this.storedMarks=null,this}get selectionSet(){return(this.updated&ox)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=dc,this}ensureMarks(e){return Ke.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&dc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~dc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Ke.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),!e)return this.deleteRange(n,i);let o=this.storedMarks;if(!o){let u=this.doc.resolve(n);o=i==n?u.marks():u.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,s.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Me.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ax,this}get scrolledIntoView(){return(this.updated&ax)>0}}function ux(t,e){return!e||!t?t:t.bind(e)}class ia{constructor(e,n,i){this.name=e,this.init=ux(n.init,i),this.apply=ux(n.apply,i)}}const UN=[new ia("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ia("selection",{init(t,e){return t.selection||Me.atStart(e.doc)},apply(t){return t.selection}}),new ia("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new ia("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Cp{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=UN.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new ia(i.key,i.spec.state,i))})}}class ks{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),s=null;for(;;){let o=!1;for(let u=0;u<this.config.plugins.length;u++){let c=this.config.plugins[u];if(c.spec.appendTransaction){let d=s?s[u].n:0,h=s?s[u].state:this,m=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,h,i);if(m&&i.filterTransaction(m,u)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let y=0;y<this.config.plugins.length;y++)s.push(y<u?{state:i,n:n.length}:{state:this,n:0})}n.push(m),i=i.applyInner(m),o=!0}s&&(s[u]={state:i,n:n.length})}}if(!o)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ks(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let o=i[s];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new HN(this)}static create(e){let n=new Cp(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new ks(n);for(let s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(e,i);return i}reconfigure(e){let n=new Cp(this.schema,e.plugins),i=n.fields,s=new ks(n);for(let o=0;o<i.length;o++){let u=i[o].name;s[u]=this.hasOwnProperty(u)?this[u]:i[o].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[i],o=s.spec.state;o&&o.toJSON&&(n[i]=o.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Cp(e.schema,e.plugins),o=new ks(s);return s.fields.forEach(u=>{if(u.name=="doc")o.doc=Zn.fromJSON(e.schema,n.doc);else if(u.name=="selection")o.selection=Me.fromJSON(o.doc,n.selection);else if(u.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let c in i){let d=i[c],h=d.spec.state;if(d.key==u.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){o[u.name]=h.fromJSON.call(d,e,n[c],o);return}}o[u.name]=u.init(e,o)}}),o}}function _S(t,e,n){for(let i in t){let s=t[i];s instanceof Function?s=s.bind(e):i=="handleDOMEvents"&&(s=_S(s,e,{})),n[i]=s}return n}class it{constructor(e){this.spec=e,this.props={},e.props&&_S(e.props,this,this.props),this.key=e.key?e.key.key:LS("plugin")}getState(e){return e[this.key]}}const Mp=Object.create(null);function LS(t){return t in Mp?t+"$"+ ++Mp[t]:(Mp[t]=0,t+"$")}class Ct{constructor(e="key"){this.key=LS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const qm=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function zS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const jS=(t,e,n)=>{let i=zS(t,n);if(!i)return!1;let s=Gm(i);if(!s){let u=i.blockRange(),c=u&&Vs(u);return c==null?!1:(e&&e(t.tr.lift(u,c).scrollIntoView()),!0)}let o=s.nodeBefore;if($S(t,s,e,-1))return!0;if(i.parent.content.size==0&&(zs(o,"end")||pe.isSelectable(o)))for(let u=i.depth;;u--){let c=Nf(t.doc,i.before(u),i.after(u),ne.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(zs(o,"end")?Me.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):pe.create(d.doc,s.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(u==1||i.node(u-1).childCount>1)break}return o.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},IN=(t,e,n)=>{let i=zS(t,n);if(!i)return!1;let s=Gm(i);return s?BS(t,s,e):!1},PN=(t,e,n)=>{let i=US(t,n);if(!i)return!1;let s=$m(i);return s?BS(t,s,e):!1};function BS(t,e,n){let i=e.nodeBefore,s=i,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let u=e.nodeAfter,c=u,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let h=Nf(t.doc,o,d,ne.empty);if(!h||h.from!=o||h instanceof kt&&h.slice.size>=d-o)return!1;if(n){let m=t.tr.step(h);m.setSelection(ye.create(m.doc,o)),n(m.scrollIntoView())}return!0}function zs(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const HS=(t,e,n)=>{let{$head:i,empty:s}=t.selection,o=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;o=Gm(i)}let u=o&&o.nodeBefore;return!u||!pe.isSelectable(u)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos-u.nodeSize)).scrollIntoView()),!0)};function Gm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function US(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const IS=(t,e,n)=>{let i=US(t,n);if(!i)return!1;let s=$m(i);if(!s)return!1;let o=s.nodeAfter;if($S(t,s,e,1))return!0;if(i.parent.content.size==0&&(zs(o,"start")||pe.isSelectable(o))){let u=Nf(t.doc,i.before(),i.after(),ne.empty);if(u&&u.slice.size<u.to-u.from){if(e){let c=t.tr.step(u);c.setSelection(zs(o,"start")?Me.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):pe.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},PS=(t,e,n)=>{let{$head:i,empty:s}=t.selection,o=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;o=$m(i)}let u=o&&o.nodeAfter;return!u||!pe.isSelectable(u)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos)).scrollIntoView()),!0)};function $m(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const VN=(t,e)=>{let n=t.selection,i=n instanceof pe,s;if(i){if(n.node.isTextblock||!$i(t.doc,n.from))return!1;s=n.from}else if(s=kf(t.doc,n.from,-1),s==null)return!1;if(e){let o=t.tr.join(s);i&&o.setSelection(pe.create(o.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},qN=(t,e)=>{let n=t.selection,i;if(n instanceof pe){if(n.node.isTextblock||!$i(t.doc,n.to))return!1;i=n.to}else if(i=kf(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},GN=(t,e)=>{let{$from:n,$to:i}=t.selection,s=n.blockRange(i),o=s&&Vs(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},VS=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Fm(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const $N=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let s=n.node(-1),o=n.indexAfter(-1),u=Fm(s.contentMatchAt(o));if(!u||!s.canReplaceWith(o,o,u))return!1;if(e){let c=n.after(),d=t.tr.replaceWith(c,c,u.createAndFill());d.setSelection(Me.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},qS=(t,e)=>{let n=t.selection,{$from:i,$to:s}=n;if(n instanceof Sn||i.parent.inlineContent||s.parent.inlineContent)return!1;let o=Fm(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let u=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,c=t.tr.insert(u,o.createAndFill());c.setSelection(ye.create(c.doc,u+1)),e(c.scrollIntoView())}return!0},GS=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Jr(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let i=n.blockRange(),s=i&&Vs(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)};function FN(t){return(e,n)=>{let{$from:i,$to:s}=e.selection;if(e.selection instanceof pe&&e.selection.node.isBlock)return!i.parentOffset||!Jr(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let o=[],u,c,d=!1,h=!1;for(let v=i.depth;;v--)if(i.node(v).isBlock){d=i.end(v)==i.pos+(i.depth-v),h=i.start(v)==i.pos-(i.depth-v),c=Fm(i.node(v-1).contentMatchAt(i.indexAfter(v-1))),o.unshift(d&&c?{type:c}:null),u=v;break}else{if(v==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof ye||e.selection instanceof Sn)&&m.deleteSelection();let y=m.mapping.map(i.pos),b=Jr(m.doc,y,o.length,o);if(b||(o[0]=c?{type:c}:null,b=Jr(m.doc,y,o.length,o)),!b)return!1;if(m.split(y,o.length,o),!d&&h&&i.node(u).type!=c){let v=m.mapping.map(i.before(u)),S=m.doc.resolve(v);c&&i.node(u-1).canReplaceWith(S.index(),S.index()+1,c)&&m.setNodeMarkup(m.mapping.map(i.before(u)),c)}return n&&n(m.scrollIntoView()),!0}}const YN=FN(),KN=(t,e)=>{let{$from:n,to:i}=t.selection,s,o=n.sharedDepth(i);return o==0?!1:(s=n.before(o),e&&e(t.tr.setSelection(pe.create(t.doc,s))),!0)};function JN(t,e,n){let i=e.nodeBefore,s=e.nodeAfter,o=e.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||$i(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function $S(t,e,n,i){let s=e.nodeBefore,o=e.nodeAfter,u,c,d=s.type.spec.isolating||o.type.spec.isolating;if(!d&&JN(t,e,n))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(u=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(u[0]||o.type).validEnd){if(n){let v=e.pos+o.nodeSize,S=J.empty;for(let A=u.length-1;A>=0;A--)S=J.from(u[A].create(null,S));S=J.from(s.copy(S));let E=t.tr.step(new Nt(e.pos-1,v,e.pos,v,new ne(S,1,0),u.length,!0)),T=E.doc.resolve(v+2*u.length);T.nodeAfter&&T.nodeAfter.type==s.type&&$i(E.doc,T.pos)&&E.join(T.pos),n(E.scrollIntoView())}return!0}let m=o.type.spec.isolating||i>0&&d?null:Me.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),b=y&&Vs(y);if(b!=null&&b>=e.depth)return n&&n(t.tr.lift(y,b).scrollIntoView()),!0;if(h&&zs(o,"start",!0)&&zs(s,"end")){let v=s,S=[];for(;S.push(v),!v.isTextblock;)v=v.lastChild;let E=o,T=1;for(;!E.isTextblock;E=E.firstChild)T++;if(v.canReplace(v.childCount,v.childCount,E.content)){if(n){let A=J.empty;for(let j=S.length-1;j>=0;j--)A=J.from(S[j].copy(A));let _=t.tr.step(new Nt(e.pos-S.length,e.pos+o.nodeSize,e.pos+T,e.pos+o.nodeSize-T,new ne(A,S.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function FS(t){return function(e,n){let i=e.selection,s=t<0?i.$from:i.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(n&&n(e.tr.setSelection(ye.create(e.doc,t<0?s.start(o):s.end(o)))),!0):!1}}const XN=FS(-1),QN=FS(1);function WN(t,e=null){return function(n,i){let{$from:s,$to:o}=n.selection,u=s.blockRange(o),c=u&&Pm(u,t,e);return c?(i&&i(n.tr.wrap(u,c).scrollIntoView()),!0):!1}}function cx(t,e=null){return function(n,i){let s=!1;for(let o=0;o<n.selection.ranges.length&&!s;o++){let{$from:{pos:u},$to:{pos:c}}=n.selection.ranges[o];n.doc.nodesBetween(u,c,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let m=n.doc.resolve(h),y=m.index();s=m.parent.canReplaceWith(y,y+1,t)}})}if(!s)return!1;if(i){let o=n.tr;for(let u=0;u<n.selection.ranges.length;u++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[u];o.setBlockType(c,d,t,e)}i(o.scrollIntoView())}return!0}}function Ym(...t){return function(e,n,i){for(let s=0;s<t.length;s++)if(t[s](e,n,i))return!0;return!1}}Ym(qm,jS,HS);Ym(qm,IS,PS);Ym(VS,qS,GS,YN);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function ZN(t,e=null){return function(n,i){let{$from:s,$to:o}=n.selection,u=s.blockRange(o);if(!u)return!1;let c=i?n.tr:null;return eO(c,u,t,e)?(i&&i(c.scrollIntoView()),!0):!1}}function eO(t,e,n,i=null){let s=!1,o=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=u.resolve(e.start-2);o=new Bc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Bc(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=Pm(o,n,i,e);return c?(t&&tO(t,e,c,s,n),!0):!1}function tO(t,e,n,i,s){let o=J.empty;for(let m=n.length-1;m>=0;m--)o=J.from(n[m].type.create(n[m].attrs,o));t.step(new Nt(e.start-(i?2:0),e.end,e.start,e.end,new ne(o,0,0),n.length,!0));let u=0;for(let m=0;m<n.length;m++)n[m].type==s&&(u=m+1);let c=n.length-u,d=e.start+n.length-(i?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,b=!0;m<y;m++,b=!1)!b&&Jr(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=h.child(m).nodeSize;return t}function nO(t){return function(e,n){let{$from:i,$to:s}=e.selection,o=i.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);return o?n?i.node(o.depth-1).type==t?rO(e,n,t,o):iO(e,n,o):!0:!1}}function rO(t,e,n,i){let s=t.tr,o=i.end,u=i.$to.end(i.depth);o<u&&(s.step(new Nt(o-1,u,o,u,new ne(J.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Bc(s.doc.resolve(i.$from.pos),s.doc.resolve(u),i.depth));const c=Vs(i);if(c==null)return!1;s.lift(i,c);let d=s.doc.resolve(s.mapping.map(o,-1)-1);return $i(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function iO(t,e,n){let i=t.tr,s=n.parent;for(let v=n.end,S=n.endIndex-1,E=n.startIndex;S>E;S--)v-=s.child(S).nodeSize,i.delete(v-1,v+1);let o=i.doc.resolve(n.start),u=o.nodeAfter;if(i.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==s.childCount,h=o.node(-1),m=o.index(-1);if(!h.canReplace(m+(c?0:1),m+1,u.content.append(d?J.empty:J.from(s))))return!1;let y=o.pos,b=y+u.nodeSize;return i.step(new Nt(y-(c?1:0),b+(d?1:0),y+1,b-1,new ne((c?J.empty:J.from(s.copy(J.empty))).append(d?J.empty:J.from(s.copy(J.empty))),c?0:1,d?0:1),c?0:1)),e(i.scrollIntoView()),!0}function lO(t){return function(e,n){let{$from:i,$to:s}=e.selection,o=i.blockRange(s,h=>h.childCount>0&&h.firstChild.type==t);if(!o)return!1;let u=o.startIndex;if(u==0)return!1;let c=o.parent,d=c.child(u-1);if(d.type!=t)return!1;if(n){let h=d.lastChild&&d.lastChild.type==c.type,m=J.from(h?t.create():null),y=new ne(J.from(t.create(null,J.from(c.type.create(null,m)))),h?3:1,0),b=o.start,v=o.end;n(e.tr.step(new Nt(b-(h?3:1),v,b,v,y,1,!0)).scrollIntoView())}return!0}}const Ht=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},js=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let om=null;const Fr=function(t,e,n){let i=om||(om=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},sO=function(){om=null},Nl=function(t,e,n,i){return n&&(fx(t,e,n,i,-1)||fx(t,e,n,i,1))},oO=/^(img|br|input|textarea|hr)$/i;function fx(t,e,n,i,s){for(var o;;){if(t==n&&e==i)return!0;if(e==(s<0?0:Un(t))){let u=t.parentNode;if(!u||u.nodeType!=1||La(t)||oO.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ht(t)+(s<0?0:1),t=u}else if(t.nodeType==1){let u=t.childNodes[e+(s<0?-1:0)];if(u.nodeType==1&&u.contentEditable=="false")if(!((o=u.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else t=u,e=s<0?Un(t):0}else return!1}}function Un(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function aO(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Un(t)}else if(t.parentNode&&!La(t))e=Ht(t),t=t.parentNode;else return null}}function uO(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!La(t))e=Ht(t)+1,t=t.parentNode;else return null}}function cO(t,e,n){for(let i=e==0,s=e==Un(t);i||s;){if(t==n)return!0;let o=Ht(t);if(t=t.parentNode,!t)return!1;i=i&&o==0,s=s&&o==Un(t)}}function La(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Rf=function(t){return t.focusNode&&Nl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function yl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function fO(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function dO(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Un(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Un(i.startContainer),i.startOffset)}}}const dr=typeof navigator<"u"?navigator:null,dx=typeof document<"u"?document:null,Fi=dr&&dr.userAgent||"",am=/Edge\/(\d+)/.exec(Fi),YS=/MSIE \d/.exec(Fi),um=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fi),cn=!!(YS||um||am),Bi=YS?document.documentMode:um?+um[1]:am?+am[1]:0,In=!cn&&/gecko\/(\d+)/i.test(Fi);In&&+(/Firefox\/(\d+)/.exec(Fi)||[0,0])[1];const cm=!cn&&/Chrome\/(\d+)/.exec(Fi),It=!!cm,KS=cm?+cm[1]:0,qt=!cn&&!!dr&&/Apple Computer/.test(dr.vendor),Bs=qt&&(/Mobile\/\w+/.test(Fi)||!!dr&&dr.maxTouchPoints>2),Hn=Bs||(dr?/Mac/.test(dr.platform):!1),JS=dr?/Win/.test(dr.platform):!1,Yr=/Android \d/.test(Fi),za=!!dx&&"webkitFontSmoothing"in dx.documentElement.style,hO=za?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function pO(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Vr(t,e){return typeof t=="number"?t:t[e]}function mO(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function hx(t,e,n){let i=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let u=n||t.dom;u;){if(u.nodeType!=1){u=js(u);continue}let c=u,d=c==o.body,h=d?pO(o):mO(c),m=0,y=0;if(e.top<h.top+Vr(i,"top")?y=-(h.top-e.top+Vr(s,"top")):e.bottom>h.bottom-Vr(i,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+Vr(s,"top")-h.top:e.bottom-h.bottom+Vr(s,"bottom")),e.left<h.left+Vr(i,"left")?m=-(h.left-e.left+Vr(s,"left")):e.right>h.right-Vr(i,"right")&&(m=e.right-h.right+Vr(s,"right")),m||y)if(d)o.defaultView.scrollBy(m,y);else{let v=c.scrollLeft,S=c.scrollTop;y&&(c.scrollTop+=y),m&&(c.scrollLeft+=m);let E=c.scrollLeft-v,T=c.scrollTop-S;e={left:e.left-E,top:e.top-T,right:e.right-E,bottom:e.bottom-T}}let b=d?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(b))break;u=b=="absolute"?u.offsetParent:js(u)}}function gO(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,s;for(let o=(e.left+e.right)/2,u=n+1;u<Math.min(innerHeight,e.bottom);u+=5){let c=t.root.elementFromPoint(o,u);if(!c||c==t.dom||!t.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){i=c,s=d.top;break}}return{refDOM:i,refTop:s,stack:XS(t.dom)}}function XS(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=js(i));return e}function yO({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;QS(n,i==0?0:i-e)}function QS(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:s,left:o}=t[n];i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=o&&(i.scrollLeft=o)}}let Es=null;function bO(t){if(t.setActive)return t.setActive();if(Es)return t.focus(Es);let e=XS(t);t.focus(Es==null?{get preventScroll(){return Es={preventScroll:!0},!0}}:void 0),Es||(Es=!1,QS(e,0))}function WS(t,e){let n,i=2e8,s,o=0,u=e.top,c=e.top,d,h;for(let m=t.firstChild,y=0;m;m=m.nextSibling,y++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=Fr(m).getClientRects();else continue;for(let v=0;v<b.length;v++){let S=b[v];if(S.top<=u&&S.bottom>=c){u=Math.max(S.bottom,u),c=Math.min(S.top,c);let E=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(E<i){n=m,i=E,s=E&&n.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,m.nodeType==1&&E&&(o=y+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=m,h={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!n&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(o=y+1)}}return!n&&d&&(n=d,s=h,i=0),n&&n.nodeType==3?vO(n,s):!n||i&&n.nodeType==1?{node:t,offset:o}:WS(n,s)}function vO(t,e){let n=t.nodeValue.length,i=document.createRange(),s;for(let o=0;o<n;o++){i.setEnd(t,o+1),i.setStart(t,o);let u=wi(i,1);if(u.top!=u.bottom&&Km(e,u)){s={node:t,offset:o+(e.left>=(u.left+u.right)/2?1:0)};break}}return i.detach(),s||{node:t,offset:0}}function Km(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function xO(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function SO(t,e,n){let{node:i,offset:s}=WS(e,n),o=-1;if(i.nodeType==1&&!i.firstChild){let u=i.getBoundingClientRect();o=u.left!=u.right&&n.left>(u.left+u.right)/2?1:-1}return t.docView.posFromDOM(i,s,o)}function EO(t,e,n,i){let s=-1;for(let o=e,u=!1;o!=t.dom;){let c=t.docView.nearestDesc(o,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!u&&d.left>i.left||d.top>i.top?s=c.posBefore:(!u&&d.right<i.left||d.bottom<i.top)&&(s=c.posAfter),u=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?i.top<(d.top+d.bottom)/2:i.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function ZS(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let u=t.childNodes[o];if(u.nodeType==1){let c=u.getClientRects();for(let d=0;d<c.length;d++){let h=c[d];if(Km(e,h))return ZS(u,e,h)}}if((o=(o+1)%i)==s)break}return t}function TO(t,e){let n=t.dom.ownerDocument,i,s=0,o=dO(n,e.left,e.top);o&&({node:i,offset:s}=o);let u=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!u||!t.dom.contains(u.nodeType!=1?u.parentNode:u)){let h=t.dom.getBoundingClientRect();if(!Km(e,h)||(u=ZS(t.dom,e,h),!u))return null}if(qt)for(let h=u;i&&h;h=js(h))h.draggable&&(i=void 0);if(u=xO(u,e),i){if(In&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let m=i.childNodes[s],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&s++}let h;za&&s&&i.nodeType==1&&(h=i.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,i==t.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(c=EO(t,i,s,e))}c==null&&(c=SO(t,u,e));let d=t.docView.nearestDesc(u,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function px(t){return t.top<t.bottom||t.left<t.right}function wi(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(px(i))return i}return Array.prototype.find.call(n,px)||t.getBoundingClientRect()}const CO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function eE(t,e,n){let{node:i,offset:s,atom:o}=t.docView.domFromPos(e,n<0?-1:1),u=za||In;if(i.nodeType==3)if(u&&(CO.test(i.nodeValue)||(n<0?!s:s==i.nodeValue.length))){let d=wi(Fr(i,s,s),n);if(In&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let h=wi(Fr(i,s-1,s-1),-1);if(h.top==d.top){let m=wi(Fr(i,s,s+1),-1);if(m.top!=d.top)return Wo(m,m.left<h.left)}}return d}else{let d=s,h=s,m=n<0?1:-1;return n<0&&!s?(h++,m=-1):n>=0&&s==i.nodeValue.length?(d--,m=1):n<0?d--:h++,Wo(wi(Fr(i,d,h),m),m<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(n<0||s==Un(i))){let d=i.childNodes[s-1];if(d.nodeType==1)return Ap(d.getBoundingClientRect(),!1)}if(o==null&&s<Un(i)){let d=i.childNodes[s];if(d.nodeType==1)return Ap(d.getBoundingClientRect(),!0)}return Ap(i.getBoundingClientRect(),n>=0)}if(o==null&&s&&(n<0||s==Un(i))){let d=i.childNodes[s-1],h=d.nodeType==3?Fr(d,Un(d)-(u?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Wo(wi(h,1),!1)}if(o==null&&s<Un(i)){let d=i.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Fr(d,0,u?0:1):d.nodeType==1?d:null:null;if(h)return Wo(wi(h,-1),!0)}return Wo(wi(i.nodeType==3?Fr(i):i,-n),n>=0)}function Wo(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ap(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function tE(t,e,n){let i=t.state,s=t.root.activeElement;i!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),s!=t.dom&&s&&s.focus()}}function MO(t,e,n){let i=e.selection,s=n=="up"?i.$from:i.$to;return tE(t,e,()=>{let{node:o}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let u=eE(t,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Fr(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(n=="up"?u.top-m.top>(m.bottom-u.top)*2:m.bottom-u.bottom>(u.bottom-m.top)*2))return!1}}return!0})}const AO=/[\u0590-\u08ac]/;function wO(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,o=!s,u=s==i.parent.content.size,c=t.domSelection();return c?!AO.test(i.parent.textContent)||!c.modify?n=="left"||n=="backward"?o:u:tE(t,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=t.domSelectionRange(),b=c.caretBidiLevel;c.modify("move",n,"character");let v=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:S,focusOffset:E}=t.domSelectionRange(),T=S&&!v.contains(S.nodeType==1?S:S.parentNode)||d==S&&h==E;try{c.collapse(m,y),d&&(d!=m||h!=y)&&c.extend&&c.extend(d,h)}catch{}return b!=null&&(c.caretBidiLevel=b),T}):i.pos==i.start()||i.pos==i.end()}let mx=null,gx=null,yx=!1;function kO(t,e,n){return mx==e&&gx==n?yx:(mx=e,gx=n,yx=n=="up"||n=="down"?MO(t,e,n):wO(t,e,n))}const Pn=0,bx=1,bl=2,hr=3;class ja{constructor(e,n,i,s){this.parent=e,this.children=n,this.dom=i,this.contentDOM=s,this.dirty=Pn,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let s=this.children[n];if(s==e)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let o,u;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((u=o.pmViewDesc)&&u.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(u)+u.size:this.posAtStart}else{let o,u;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((u=o.pmViewDesc)&&u.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(u):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Ht(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),u;if(o&&(!n||o.node))if(i&&(u=o.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))i=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],o=i+s.size;if(i==e&&o!=i){for(;!s.border&&s.children.length;)for(let u=0;u<s.children.length;u++){let c=s.children[u];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-i-s.border);i=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,s=0;for(let o=0;i<this.children.length;i++){let u=this.children[i],c=o+u.size;if(c>e||u instanceof rE){s=e-o;break}o=c}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof nE&&o.side>=0;i--);if(n<=0){let o,u=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,u=!1);return o&&n&&u&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Ht(o.dom)+1:0}}else{let o,u=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,u=!1);return o&&u&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Ht(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let u=i,c=0;;c++){let d=this.children[c],h=u+d.size;if(s==-1&&e<=h){let m=u+d.border;if(e>=m&&n<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,m);e=u;for(let y=c;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=Ht(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>n||c==this.children.length-1)){n=h;for(let m=c+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){o=Ht(y.dom);break}n+=y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}u=h}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,s=!1){let o=Math.min(e,n),u=Math.max(e,n);for(let v=0,S=0;v<this.children.length;v++){let E=this.children[v],T=S+E.size;if(o>S&&u<T)return E.setSelection(e-S-E.border,n-S-E.border,i,s);S=T}let c=this.domFromPos(e,e?-1:1),d=n==e?c:this.domFromPos(n,n?-1:1),h=i.root.getSelection(),m=i.domSelectionRange(),y=!1;if((In||qt)&&e==n){let{node:v,offset:S}=c;if(v.nodeType==3){if(y=!!(S&&v.nodeValue[S-1]==`
`),y&&S==v.nodeValue.length)for(let E=v,T;E;E=E.parentNode){if(T=E.nextSibling){T.nodeName=="BR"&&(c=d={node:T.parentNode,offset:Ht(T)+1});break}let A=E.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let E=v.childNodes[S-1];y=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(In&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||y&&qt)&&Nl(c.node,c.offset,m.anchorNode,m.anchorOffset)&&Nl(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==n)&&!(y&&In)){h.collapse(c.node,c.offset);try{e!=n&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>n){let S=c;c=d,d=S}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,s=0;s<this.children.length;s++){let o=this.children[s],u=i+o.size;if(i==u?e<=u&&n>=i:e<u&&n>i){let c=i+o.border,d=u-o.border;if(e>=c&&n<=d){this.dirty=e==i||n==u?bl:bx,e==c&&n==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=hr:o.markDirty(e-c,n-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?bl:hr}i=u}this.dirty=bl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?bl:bx;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class nE extends ja{constructor(e,n,i,s){let o,u=n.type.toDOM;if(typeof u=="function"&&(u=u(i,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(u.nodeType!=1){let c=document.createElement("span");c.appendChild(u),u=c}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Pn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class NO extends ja{constructor(e,n,i,s){super(e,[],n,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ol extends ja{constructor(e,n,i,s,o){super(e,[],i,s),this.mark=n,this.spec=o}static create(e,n,i,s){let o=s.nodeViews[n.type.name],u=o&&o(n,s,i);return(!u||!u.dom)&&(u=zl.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new Ol(e,n,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&hr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=hr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Pn){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Pn}}slice(e,n,i){let s=Ol.create(this.parent,this.mark,!0,i),o=this.children,u=this.size;n<u&&(o=dm(o,n,u,i)),e>0&&(o=dm(o,0,e,i));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Hi extends ja{constructor(e,n,i,s,o,u,c,d,h){super(e,[],o,u),this.node=n,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=c}static create(e,n,i,s,o,u){let c=o.nodeViews[n.type.name],d,h=c&&c(n,o,()=>{if(!d)return u;if(d.parent)return d.parent.posBeforeChild(d)},i,s),m=h&&h.dom,y=h&&h.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=zl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!y&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let b=m;return m=sE(m,i,n),h?d=new OO(e,n,i,s,m,y||null,b,h,o,u+1):n.isText?new Df(e,n,i,s,m,b,o):new Hi(e,n,i,s,m,y||null,b,o,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>J.empty)}return e}matchesNode(e,n,i){return this.dirty==Pn&&e.eq(this.node)&&Uc(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,s=n,o=e.composing?this.localCompositionInfo(e,n):null,u=o&&o.pos>-1?o:null,c=o&&o.pos<0,d=new DO(this,u&&u.node,e);zO(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,i,e,m):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?Ke.none:this.node.child(m).marks,i,e,m),d.placeWidget(h,e,s)},(h,m,y,b)=>{d.syncToMarks(h.marks,i,e,b);let v;d.findNodeMatch(h,m,y,b)||c&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(h,m,y,v,e)||d.updateNextNode(h,m,y,e,b,s)||d.addNode(h,m,y,e,s),s+=h.nodeSize}),d.syncToMarks([],i,e,0),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==bl)&&(u&&this.protectLocalComposition(e,u),iE(this.contentDOM,this.children,e),Bs&&jO(this.dom))}localCompositionInfo(e,n){let{from:i,to:s}=e.state.selection;if(!(e.state.selection instanceof ye)||i<n||s>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let u=o.nodeValue,c=BO(this.node.content,u,i-n,s-n);return c<0?null:{node:o,pos:c,text:u}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:s}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let u=new NO(this,o,n,s);e.input.compositionNodes.push(u),this.children=dm(this.children,i,i+s.length,e,u)}update(e,n,i,s){return this.dirty==hr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,s),!0)}updateInner(e,n,i,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Pn}updateOuterDeco(e){if(Uc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=lE(this.dom,this.nodeDOM,fm(this.outerDeco,this.node,n),fm(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function vx(t,e,n,i,s){sE(i,e,t);let o=new Hi(void 0,t,e,n,i,i,i,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class Df extends Hi{constructor(e,n,i,s,o,u,c){super(e,n,i,s,o,null,u,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,s){return this.dirty==hr||this.dirty!=Pn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Pn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Pn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let s=this.node.cut(e,n),o=document.createTextNode(s.text);return new Df(this.parent,s,this.outerDeco,this.innerDeco,o,o,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=hr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class rE extends ja{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Pn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class OO extends Hi{constructor(e,n,i,s,o,u,c,d,h,m){super(e,n,i,s,o,u,c,h,m),this.spec=d}update(e,n,i,s){if(this.dirty==hr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,i);return o&&this.updateInner(e,n,i,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,s){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function iE(t,e,n){let i=t.firstChild,s=!1;for(let o=0;o<e.length;o++){let u=e[o],c=u.dom;if(c.parentNode==t){for(;c!=i;)i=xx(i),s=!0;i=i.nextSibling}else s=!0,t.insertBefore(c,i);if(u instanceof Ol){let d=i?i.previousSibling:t.lastChild;iE(u.contentDOM,u.children,n),i=d?d.nextSibling:t.firstChild}}for(;i;)i=xx(i),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const ua=function(t){t&&(this.nodeName=t)};ua.prototype=Object.create(null);const vl=[new ua];function fm(t,e,n){if(t.length==0)return vl;let i=n?vl[0]:new ua,s=[i];for(let o=0;o<t.length;o++){let u=t[o].type.attrs;if(u){u.nodeName&&s.push(i=new ua(u.nodeName));for(let c in u){let d=u[c];d!=null&&(n&&s.length==1&&s.push(i=new ua(e.isInline?"span":"div")),c=="class"?i.class=(i.class?i.class+" ":"")+d:c=="style"?i.style=(i.style?i.style+";":"")+d:c!="nodeName"&&(i[c]=d))}}}return s}function lE(t,e,n,i){if(n==vl&&i==vl)return e;let s=e;for(let o=0;o<i.length;o++){let u=i[o],c=n[o];if(o){let d;c&&c.nodeName==u.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==u.nodeName||(d=document.createElement(u.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=vl[0]),s=d}RO(s,c||vl[0],u)}return s}function RO(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)s.indexOf(i[o])==-1&&t.classList.remove(i[o]);for(let o=0;o<s.length;o++)i.indexOf(s[o])==-1&&t.classList.add(s[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function sE(t,e,n){return lE(t,t,vl,fm(e,n,t.nodeType!=1))}function Uc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function xx(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class DO{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=_O(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i,s){let o=0,u=this.stack.length>>1,c=Math.min(u,e.length);for(;o<c&&(o==u-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<u;)this.destroyRest(),this.top.dirty=Pn,this.index=this.stack.pop(),this.top=this.stack.pop(),u--;for(;u<e.length;){this.stack.push(this.top,this.index+1);let d=-1,h=this.top.children.length;s<this.preMatch.index&&(h=Math.min(this.index+3,h));for(let m=this.index;m<h;m++){let y=this.top.children[m];if(y.matchesMark(e[u])&&!this.isLocked(y.dom)){d=m;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let m=Ol.create(this.top,e[u],n,i);this.top.children.splice(this.index,0,m),this.top=m,this.changed=!0}this.index=0,u++}}findNodeMatch(e,n,i,s){let o=-1,u;if(s>=this.preMatch.index&&(u=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&u.matchesNode(e,n,i))o=this.top.children.indexOf(u,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let h=this.top.children[c];if(h.matchesNode(e,n,i)&&!this.preMatch.matched.has(h)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,i,s,o){let u=this.top.children[s];return u.dirty==hr&&u.dom==u.contentDOM&&(u.dirty=bl),u.update(e,n,i,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}e=n}}updateNextNode(e,n,i,s,o,u){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof Hi){let h=this.preMatch.matched.get(d);if(h!=null&&h!=o)return!1;let m=d.dom,y,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=hr&&Uc(n,d.outerDeco));if(!b&&d.update(e,n,i,s))return this.destroyBetween(this.index,c),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(d,e,n,i,s,u)))return this.destroyBetween(this.index,c),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=bl,y.updateChildren(s,u+1),y.dirty=Pn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,s,o,u){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Uc(i,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=Hi.create(this.top,n,i,s,o,u);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,n,i,s,o){let u=Hi.create(this.top,e,n,i,s,o);u.contentDOM&&u.updateChildren(s,o+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,n,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new nE(this.top,e,n,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ol;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Df)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((qt||It)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new rE(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function _O(t,e){let n=e,i=n.children.length,s=t.childCount,o=new Map,u=[];e:for(;s>0;){let c;for(;;)if(i){let h=n.children[i-1];if(h instanceof Ol)n=h,i=h.children.length;else{c=h,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=t.child(s-1))break;--s,o.set(c,s),u.push(c)}}return{index:s,matched:o,matches:u.reverse()}}function LO(t,e){return t.type.side-e.type.side}function zO(t,e,n,i){let s=e.locals(t),o=0;if(s.length==0){for(let h=0;h<t.childCount;h++){let m=t.child(h);i(m,s,e.forChild(o,m),h),o+=m.nodeSize}return}let u=0,c=[],d=null;for(let h=0;;){let m,y;for(;u<s.length&&s[u].to==o;){let T=s[u++];T.widget&&(m?(y||(y=[m])).push(T):m=T)}if(m)if(y){y.sort(LO);for(let T=0;T<y.length;T++)n(y[T],h,!!d)}else n(m,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<t.childCount)v=h,b=t.child(h++);else break;for(let T=0;T<c.length;T++)c[T].to<=o&&c.splice(T--,1);for(;u<s.length&&s[u].from<=o&&s[u].to>o;)c.push(s[u++]);let S=o+b.nodeSize;if(b.isText){let T=S;u<s.length&&s[u].from<T&&(T=s[u].from);for(let A=0;A<c.length;A++)c[A].to<T&&(T=c[A].to);T<S&&(d=b.cut(T-o),b=b.cut(0,T-o),S=T,v=-1)}else for(;u<s.length&&s[u].to<S;)u++;let E=b.isInline&&!b.isLeaf?c.filter(T=>!T.inline):c.slice();i(b,E,e.forChild(o,b),v),o=S}}function jO(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function BO(t,e,n,i){for(let s=0,o=0;s<t.childCount&&o<=i;){let u=t.child(s++),c=o;if(o+=u.nodeSize,!u.isText)continue;let d=u.text;for(;s<t.childCount;){let h=t.child(s++);if(o+=h.nodeSize,!h.isText)break;d+=h.text}if(o>=n){if(o>=i&&d.slice(i-e.length-c,i-c)==e)return i-e.length;let h=c<i?d.lastIndexOf(e,i-c-1):-1;if(h>=0&&h+e.length+c>=n)return c+h;if(n==i&&d.length>=i+e.length-c&&d.slice(i-c,i-c+e.length)==e)return i}}return-1}function dm(t,e,n,i,s){let o=[];for(let u=0,c=0;u<t.length;u++){let d=t[u],h=c,m=c+=d.size;h>=n||m<=e?o.push(d):(h<e&&o.push(d.slice(0,e-h,i)),s&&(o.push(s),s=void 0),m>n&&o.push(d.slice(n-h,d.size,i)))}return o}function Jm(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),o=s&&s.size==0,u=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(u<0)return null;let c=i.resolve(u),d,h;if(Rf(n)){for(d=u;s&&!s.node;)s=s.parent;let y=s.node;if(s&&y.isAtom&&pe.isSelectable(y)&&s.parent&&!(y.isInline&&cO(n.focusNode,n.focusOffset,s.dom))){let b=s.posBefore;h=new pe(u==b?c:i.resolve(b))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let y=u,b=u;for(let v=0;v<n.rangeCount;v++){let S=n.getRangeAt(v);y=Math.min(y,t.docView.posFromDOM(S.startContainer,S.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(y<0)return null;[d,u]=b==t.state.selection.anchor?[b,y]:[y,b],c=i.resolve(u)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let m=i.resolve(d);if(!h){let y=e=="pointer"||t.state.selection.head<c.pos&&!o?1:-1;h=Xm(t,m,c,y)}return h}function oE(t){return t.editable?t.hasFocus():uE(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Xr(t,e=!1){let n=t.state.selection;if(aE(t,n),!!oE(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&It){let i=t.domSelectionRange(),s=t.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&Nl(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)UO(t);else{let{anchor:i,head:s}=n,o,u;Sx&&!(n instanceof ye)&&(n.$from.parent.inlineContent||(o=Ex(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(u=Ex(t,n.to))),t.docView.setSelection(i,s,t,e),Sx&&(o&&Tx(o),u&&Tx(u)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&HO(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Sx=qt||It&&KS<63;function Ex(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),s=i<n.childNodes.length?n.childNodes[i]:null,o=i?n.childNodes[i-1]:null;if(qt&&s&&s.contentEditable=="false")return wp(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return wp(s);if(o)return wp(o)}}function wp(t){return t.contentEditable="true",qt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Tx(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function HO(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!oE(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function UO(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?e.collapse(n.parentNode,Ht(n)+1):e.collapse(n,0),!i&&!t.state.selection.visible&&cn&&Bi<=11&&(n.disabled=!0,n.disabled=!1)}function aE(t,e){if(e instanceof pe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Cx(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Cx(t)}function Cx(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Xm(t,e,n,i){return t.someProp("createSelectionBetween",s=>s(t,e,n))||ye.between(e,n,i)}function Mx(t){return t.editable&&!t.hasFocus()?!1:uE(t)}function uE(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function IO(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Nl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function hm(t,e){let{$anchor:n,$head:i}=t.selection,s=e>0?n.max(i):n.min(i),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&Me.findFrom(o,e)}function ki(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Ax(t,e,n){let i=t.state.selection;if(i instanceof ye)if(n.indexOf("s")>-1){let{$head:s}=i,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let u=t.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return ki(t,new ye(i.$anchor,u))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=hm(t.state,e);return s&&s instanceof pe?ki(t,s):!1}else if(!(Hn&&n.indexOf("m")>-1)){let s=i.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,u;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(u=t.docView.descAt(c))&&!u.contentDOM?pe.isSelectable(o)?ki(t,new pe(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):za?ki(t,new ye(t.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(i instanceof pe&&i.node.isInline)return ki(t,new ye(e>0?i.$to:i.$from));{let s=hm(t.state,e);return s?ki(t,s):!1}}}function Ic(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ca(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ts(t,e){return e<0?PO(t):VO(t)}function PO(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s,o,u=!1;for(In&&n.nodeType==1&&i<Ic(n)&&ca(n.childNodes[i],-1)&&(u=!0);;)if(i>0){if(n.nodeType!=1)break;{let c=n.childNodes[i-1];if(ca(c,-1))s=n,o=--i;else if(c.nodeType==3)n=c,i=n.nodeValue.length;else break}}else{if(cE(n))break;{let c=n.previousSibling;for(;c&&ca(c,-1);)s=n.parentNode,o=Ht(c),c=c.previousSibling;if(c)n=c,i=Ic(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}u?pm(t,n,i):s&&pm(t,s,o)}function VO(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s=Ic(n),o,u;for(;;)if(i<s){if(n.nodeType!=1)break;let c=n.childNodes[i];if(ca(c,1))o=n,u=++i;else break}else{if(cE(n))break;{let c=n.nextSibling;for(;c&&ca(c,1);)o=c.parentNode,u=Ht(c)+1,c=c.nextSibling;if(c)n=c,i=0,s=Ic(n);else{if(n=n.parentNode,n==t.dom)break;i=s=0}}}o&&pm(t,o,u)}function cE(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function qO(t,e){for(;t&&e==t.childNodes.length&&!La(t);)e=Ht(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function GO(t,e){for(;t&&!e&&!La(t);)e=Ht(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function pm(t,e,n){if(e.nodeType!=3){let o,u;(u=qO(e,n))?(e=u,n=0):(o=GO(e,n))&&(e=o,n=o.nodeValue.length)}let i=t.domSelection();if(!i)return;if(Rf(i)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Xr(t)},50)}function wx(t,e){let n=t.state.doc.resolve(e);if(!(It||JS)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),u=(o.top+o.bottom)/2;if(u>s.top&&u<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),u=(o.top+o.bottom)/2;if(u>s.top&&u<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function kx(t,e,n){let i=t.state.selection;if(i instanceof ye&&!i.empty||n.indexOf("s")>-1||Hn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=i;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let u=hm(t.state,e);if(u&&u instanceof pe)return ki(t,u)}if(!s.parent.inlineContent){let u=e<0?s:o,c=i instanceof Sn?Me.near(u,e):Me.findFrom(u,e);return c?ki(t,c):!1}return!1}function Nx(t,e){if(!(t.state.selection instanceof ye))return!0;let{$head:n,$anchor:i,empty:s}=t.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let u=t.state.tr;return e<0?u.delete(n.pos-o.nodeSize,n.pos):u.delete(n.pos,n.pos+o.nodeSize),t.dispatch(u),!0}return!1}function Ox(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function $O(t){if(!qt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;Ox(t,i,"true"),setTimeout(()=>Ox(t,i,"false"),20)}return!1}function FO(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function YO(t,e){let n=e.keyCode,i=FO(e);if(n==8||Hn&&n==72&&i=="c")return Nx(t,-1)||Ts(t,-1);if(n==46&&!e.shiftKey||Hn&&n==68&&i=="c")return Nx(t,1)||Ts(t,1);if(n==13||n==27)return!0;if(n==37||Hn&&n==66&&i=="c"){let s=n==37?wx(t,t.state.selection.from)=="ltr"?-1:1:-1;return Ax(t,s,i)||Ts(t,s)}else if(n==39||Hn&&n==70&&i=="c"){let s=n==39?wx(t,t.state.selection.from)=="ltr"?1:-1:1;return Ax(t,s,i)||Ts(t,s)}else{if(n==38||Hn&&n==80&&i=="c")return kx(t,-1,i)||Ts(t,-1);if(n==40||Hn&&n==78&&i=="c")return $O(t)||kx(t,1,i)||Ts(t,1);if(i==(Hn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Qm(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:i,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,o--;let v=i.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),i=v.content}let u=t.someProp("clipboardSerializer")||zl.fromSchema(t.state.schema),c=gE(),d=c.createElement("div");d.appendChild(u.serializeFragment(i,{document:c}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=mE[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let S=c.createElement(m[v]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${o}${y?` -${y}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function fE(t,e,n,i,s){let o=s.parent.type.spec.code,u,c;if(!n&&!e)return null;let d=!!e&&(i||o||!n);if(d){if(t.someProp("transformPastedText",b=>{e=b(e,o||i,t)}),o)return c=new ne(J.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",b=>{c=b(c,t,!0)}),c;let y=t.someProp("clipboardTextParser",b=>b(e,s,i,t));if(y)c=y;else{let b=s.marks(),{schema:v}=t.state,S=zl.fromSchema(v);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let T=u.appendChild(document.createElement("p"));E&&T.appendChild(S.serializeNode(v.text(E,b)))})}}else t.someProp("transformPastedHTML",y=>{n=y(n,t)}),u=QO(n),za&&WO(u);let h=u&&u.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let b=u.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;u=b}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||ji.fromSchema(t.state.schema)).parseSlice(u,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!KO.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)c=ZO(Rx(c,+m[1],+m[2]),m[4]);else if(c=ne.maxOpen(JO(c.content,s),!0),c.openStart||c.openEnd){let y=0,b=0;for(let v=c.content.firstChild;y<c.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=c.content.lastChild;b<c.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);c=Rx(c,y,b)}return t.someProp("transformPasted",y=>{c=y(c,t,d)}),c}const KO=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function JO(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),o,u=[];if(t.forEach(c=>{if(!u)return;let d=s.findWrapping(c.type),h;if(!d)return u=null;if(h=u.length&&o.length&&hE(d,o,c,u[u.length-1],0))u[u.length-1]=h;else{u.length&&(u[u.length-1]=pE(u[u.length-1],o.length));let m=dE(c,d);u.push(m),s=s.matchType(m.type),o=d}}),u)return J.from(u)}return t}function dE(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,J.from(t));return t}function hE(t,e,n,i,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=hE(t,e,n,i.lastChild,s+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(s==t.length-1?n.type:t[s+1]))return i.copy(i.content.append(J.from(dE(n,t,s+1))))}}function pE(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,pE(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(J.empty,!0);return t.copy(n.append(i))}function mm(t,e,n,i,s,o){let u=e<0?t.firstChild:t.lastChild,c=u.content;return t.childCount>1&&(o=0),s<i-1&&(c=mm(c,e,n,i,s+1,o)),s>=n&&(c=e<0?u.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(u.contentMatchAt(u.childCount).fillBefore(J.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,u.copy(c))}function Rx(t,e,n){return e<t.openStart&&(t=new ne(mm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ne(mm(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const mE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Dx=null;function gE(){return Dx||(Dx=document.implementation.createHTMLDocument("title"))}let kp=null;function XO(t){let e=window.trustedTypes;return e?(kp||(kp=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),kp.createHTML(t)):t}function QO(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=gE().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),s;if((s=i&&mE[i[1].toLowerCase()])&&(t=s.map(o=>"<"+o+">").join("")+t+s.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=XO(t),s)for(let o=0;o<s.length;o++)n=n.querySelector(s[o])||n;return n}function WO(t){let e=t.querySelectorAll(It?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function ZO(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:s,openStart:o,openEnd:u}=t;for(let c=i.length-2;c>=0;c-=2){let d=n.nodes[i[c]];if(!d||d.hasRequiredAttrs())break;s=J.from(d.create(i[c+1],s)),o++,u++}return new ne(s,o,u)}const Qt={},Wt={},eR={touchstart:!0,touchmove:!0};class tR{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function nR(t){for(let e in Qt){let n=Qt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{iR(t,i)&&!Wm(t,i)&&(t.editable||!(i.type in Wt))&&n(t,i)},eR[e]?{passive:!0}:void 0)}qt&&t.dom.addEventListener("input",()=>null),gm(t)}function zi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function rR(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function gm(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>Wm(t,i))})}function Wm(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function iR(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function lR(t,e){!Wm(t,e)&&Qt[e.type]&&(t.editable||!(e.type in Wt))&&Qt[e.type](t,e)}Wt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!bE(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Yr&&It&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Bs&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",s=>s(t,yl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||YO(t,n)?n.preventDefault():zi(t,"key")};Wt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Wt.keypress=(t,e)=>{let n=e;if(bE(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Hn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof ye)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",u=>u(t,i.$from.pos,i.$to.pos,s,o))&&t.dispatch(o()),n.preventDefault()}};function _f(t){return{left:t.clientX,top:t.clientY}}function sR(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function Zm(t,e,n,i,s){if(i==-1)return!1;let o=t.state.doc.resolve(i);for(let u=o.depth+1;u>0;u--)if(t.someProp(e,c=>u>o.depth?c(t,n,o.nodeAfter,o.before(u),s,!0):c(t,n,o.node(u),o.before(u),s,!1)))return!0;return!1}function Os(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function oR(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&pe.isSelectable(i)?(Os(t,new pe(n)),!0):!1}function aR(t,e){if(e==-1)return!1;let n=t.state.selection,i,s;n instanceof pe&&(i=n.node);let o=t.state.doc.resolve(e);for(let u=o.depth+1;u>0;u--){let c=u>o.depth?o.nodeAfter:o.node(u);if(pe.isSelectable(c)){i&&n.$from.depth>0&&u>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?s=o.before(n.$from.depth):s=o.before(u);break}}return s!=null?(Os(t,pe.create(t.state.doc,s)),!0):!1}function uR(t,e,n,i,s){return Zm(t,"handleClickOn",e,n,i)||t.someProp("handleClick",o=>o(t,e,i))||(s?aR(t,n):oR(t,n))}function cR(t,e,n,i){return Zm(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",s=>s(t,e,i))}function fR(t,e,n,i){return Zm(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",s=>s(t,e,i))||dR(t,n,i)}function dR(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(Os(t,ye.create(i,0,i.content.size)),!0):!1;let s=i.resolve(e);for(let o=s.depth+1;o>0;o--){let u=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(u.inlineContent)Os(t,ye.create(i,c+1,c+1+u.content.size));else if(pe.isSelectable(u))Os(t,pe.create(i,c));else continue;return!0}}function eg(t){return Pc(t)}const yE=Hn?"metaKey":"ctrlKey";Qt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=eg(t),s=Date.now(),o="singleClick";s-t.input.lastClick.time<500&&sR(n,t.input.lastClick)&&!n[yE]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o,button:n.button};let u=t.posAtCoords(_f(n));u&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new hR(t,u,n,!!i)):(o=="doubleClick"?cR:fR)(t,u.pos,u.inside,n)?n.preventDefault():zi(t,"pointer"))};class hR{constructor(e,n,i,s){this.view=e,this.pos=n,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[yE],this.allowDefault=i.shiftKey;let o,u;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),u=n.inside;else{let m=e.state.doc.resolve(n.pos);o=m.parent,u=m.depth?m.before():0}const c=s?null:i.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:h}=e.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof pe&&h.from<=u&&h.to>u)&&(this.mightDrag={node:o,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&In&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),zi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Xr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(_f(e))),this.updateAllowDefault(e),this.allowDefault||!n?zi(this.view,"pointer"):uR(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||qt&&this.mightDrag&&!this.mightDrag.node.isAtom||It&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Os(this.view,Me.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):zi(this.view,"pointer")}move(e){this.updateAllowDefault(e),zi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Qt.touchstart=t=>{t.input.lastTouch=Date.now(),eg(t),zi(t,"pointer")};Qt.touchmove=t=>{t.input.lastTouch=Date.now(),zi(t,"pointer")};Qt.contextmenu=t=>eg(t);function bE(t,e){return t.composing?!0:qt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const pR=Yr?5e3:-1;Wt.compositionstart=Wt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ye&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)||It&&JS&&mR(t)))t.markCursor=t.state.storedMarks||n.marks(),Pc(t,!0),t.markCursor=null;else if(Pc(t,!e.selection.empty),In&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let s=i.focusNode,o=i.focusOffset;s&&s.nodeType==1&&o!=0;){let u=o<0?s.lastChild:s.childNodes[o-1];if(!u)break;if(u.nodeType==3){let c=t.domSelection();c&&c.collapse(u,u.nodeValue.length);break}else s=u,o=-1}}t.input.composing=!0}vE(t,pR)};function mR(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let i=e.childNodes[n];return i.nodeType==1&&i.contentEditable=="false"}Wt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,vE(t,20))};function vE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Pc(t),e))}function xE(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=yR());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function gR(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=aO(e.focusNode,e.focusOffset),i=uO(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let s=i.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||i==o)return o;if(!s||!s.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let u=n.pmViewDesc;if(!(!u||!u.isText(n.nodeValue)))return i}}return n||i}function yR(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Pc(t,e=!1){if(!(Yr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),xE(t),e||t.docView&&t.docView.dirty){let n=Jm(t),i=t.state.selection;return n&&!n.eq(i)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function bR(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ta=cn&&Bi<15||Bs&&hO<604;Qt.copy=Wt.cut=(t,e)=>{let n=e,i=t.state.selection,s=n.type=="cut";if(i.empty)return;let o=Ta?null:n.clipboardData,u=i.content(),{dom:c,text:d}=Qm(t,u);o?(n.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",d)):bR(t,c),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function vR(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function xR(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Ca(t,i.value,null,s,e):Ca(t,i.textContent,i.innerHTML,s,e)},50)}function Ca(t,e,n,i,s){let o=fE(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,s,o||ne.empty)))return!0;if(!o)return!1;let u=vR(o),c=u?t.state.tr.replaceSelectionWith(u,i):t.state.tr.replaceSelection(o);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function SE(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Wt.paste=(t,e)=>{let n=e;if(t.composing&&!Yr)return;let i=Ta?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&Ca(t,SE(i),i.getData("text/html"),s,n)?n.preventDefault():xR(t,n)};class EE{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const SR=Hn?"altKey":"ctrlKey";function TE(t,e){let n=t.someProp("dragCopies",i=>!i(e));return n??!e[SR]}Qt.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=t.state.selection,o=s.empty?null:t.posAtCoords(_f(n)),u;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof pe?s.to-1:s.to))){if(i&&i.mightDrag)u=pe.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let y=t.docView.nearestDesc(n.target,!0);y&&y.node.type.spec.draggable&&y!=t.docView&&(u=pe.create(t.state.doc,y.posBefore))}}let c=(u||t.state.selection).content(),{dom:d,text:h,slice:m}=Qm(t,c);(!n.dataTransfer.files.length||!It||KS>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ta?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ta||n.dataTransfer.setData("text/plain",h),t.dragging=new EE(m,TE(t,n),u)};Qt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Wt.dragover=Wt.dragenter=(t,e)=>e.preventDefault();Wt.drop=(t,e)=>{try{ER(t,e,t.dragging)}finally{t.dragging=null}};function ER(t,e,n){if(!e.dataTransfer)return;let i=t.posAtCoords(_f(e));if(!i)return;let s=t.state.doc.resolve(i.pos),o=n&&n.slice;o?t.someProp("transformPasted",v=>{o=v(o,t,!1)}):o=fE(t,SE(e.dataTransfer),Ta?null:e.dataTransfer.getData("text/html"),!1,s);let u=!!(n&&TE(t,e));if(t.someProp("handleDrop",v=>v(t,e,o||ne.empty,u))){e.preventDefault();return}if(!o)return;e.preventDefault();let c=o?wS(t.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let d=t.state.tr;if(u){let{node:v}=n;v?v.replace(d):d.deleteSelection()}let h=d.mapping.map(c),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,y=d.doc;if(m?d.replaceRangeWith(h,h,o.content.firstChild):d.replaceRange(h,h,o),d.doc.eq(y))return;let b=d.doc.resolve(h);if(m&&pe.isSelectable(o.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new pe(b));else{let v=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((S,E,T,A)=>v=A),d.setSelection(Xm(t,b,d.doc.resolve(v)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))}Qt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Xr(t)},20))};Qt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Qt.beforeinput=(t,e)=>{if(It&&Yr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,yl(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in Wt)Qt[t]=Wt[t];function Ma(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Vc{constructor(e,n){this.toDOM=e,this.spec=n||Cl,this.side=this.spec.side||0}map(e,n,i,s){let{pos:o,deleted:u}=e.mapResult(n.from+s,this.side<0?-1:1);return u?null:new Kt(o-i,o-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Vc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ma(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ui{constructor(e,n){this.attrs=e,this.spec=n||Cl}map(e,n,i,s){let o=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,u=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return o>=u?null:new Kt(o,u,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ui&&Ma(this.attrs,e.attrs)&&Ma(this.spec,e.spec)}static is(e){return e.type instanceof Ui}destroy(){}}class tg{constructor(e,n){this.attrs=e,this.spec=n||Cl}map(e,n,i,s){let o=e.mapResult(n.from+s,1);if(o.deleted)return null;let u=e.mapResult(n.to+s,-1);return u.deleted||u.pos<=o.pos?null:new Kt(o.pos-i,u.pos-i,this)}valid(e,n){let{index:i,offset:s}=e.content.findIndex(n.from),o;return s==n.from&&!(o=e.child(i)).isText&&s+o.nodeSize==n.to}eq(e){return this==e||e instanceof tg&&Ma(this.attrs,e.attrs)&&Ma(this.spec,e.spec)}destroy(){}}class Kt{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new Kt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new Kt(e,e,new Vc(n,i))}static inline(e,n,i,s){return new Kt(e,n,new Ui(i,s))}static node(e,n,i,s){return new Kt(e,n,new tg(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ui}get widget(){return this.type instanceof Vc}}const Ms=[],Cl={};class nt{constructor(e,n){this.local=e.length?e:Ms,this.children=n.length?n:Ms}static create(e,n){return n.length?qc(n,e,0,Cl):Vt}find(e,n,i){let s=[];return this.findInner(e??0,n??1e9,s,0,i),s}findInner(e,n,i,s,o){for(let u=0;u<this.local.length;u++){let c=this.local[u];c.from<=n&&c.to>=e&&(!o||o(c.spec))&&i.push(c.copy(c.from+s,c.to+s))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<n&&this.children[u+1]>e){let c=this.children[u]+1;this.children[u+2].findInner(e-c,n-c,i,s+c,o)}}map(e,n,i){return this==Vt||e.maps.length==0?this:this.mapInner(e,n,0,0,i||Cl)}mapInner(e,n,i,s,o){let u;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,i,s);d&&d.type.valid(n,d)?(u||(u=[])).push(d):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?TR(this.children,u||[],e,n,i,s,o):u?new nt(u.sort(Ml),Ms):Vt}add(e,n){return n.length?this==Vt?nt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let s,o=0;e.forEach((c,d)=>{let h=d+i,m;if(m=ME(n,c,h)){for(s||(s=this.children.slice());o<s.length&&s[o]<d;)o+=3;s[o]==d?s[o+2]=s[o+2].addInner(c,m,h+1):s.splice(o,0,d,d+c.nodeSize,qc(m,c,h+1,Cl)),o+=3}});let u=CE(o?AE(n):n,-i);for(let c=0;c<u.length;c++)u[c].type.valid(e,u[c])||u.splice(c--,1);return new nt(u.length?this.local.concat(u).sort(Ml):this.local,s||this.children)}remove(e){return e.length==0||this==Vt?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,s=this.local;for(let o=0;o<i.length;o+=3){let u,c=i[o]+n,d=i[o+1]+n;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>c&&y.to<d&&(e[m]=null,(u||(u=[])).push(y));if(!u)continue;i==this.children&&(i=this.children.slice());let h=i[o+2].removeInner(u,c+1);h!=Vt?i[o+2]=h:(i.splice(o,3),o-=3)}if(s.length){for(let o=0,u;o<e.length;o++)if(u=e[o])for(let c=0;c<s.length;c++)s[c].eq(u,n)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new nt(s,i):Vt}forChild(e,n){if(this==Vt)return this;if(n.isLeaf)return nt.empty;let i,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(i=this.children[c+2]);break}let o=e+1,u=o+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<u&&d.to>o&&d.type instanceof Ui){let h=Math.max(o,d.from)-o,m=Math.min(u,d.to)-o;h<m&&(s||(s=[])).push(d.copy(h,m))}}if(s){let c=new nt(s.sort(Ml),Ms);return i?new Ri([c,i]):c}return i||Vt}eq(e){if(this==e)return!0;if(!(e instanceof nt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return ng(this.localsInner(e))}localsInner(e){if(this==Vt)return Ms;if(e.inlineContent||!this.local.some(Ui.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Ui||n.push(this.local[i]);return n}forEachSet(e){e(this)}}nt.empty=new nt([],[]);nt.removeOverlap=ng;const Vt=nt.empty;class Ri{constructor(e){this.members=e}map(e,n){const i=this.members.map(s=>s.map(e,n,Cl));return Ri.from(i)}forChild(e,n){if(n.isLeaf)return nt.empty;let i=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,n);o!=Vt&&(o instanceof Ri?i=i.concat(o.members):i.push(o))}return Ri.from(i)}eq(e){if(!(e instanceof Ri)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!n)n=o;else{i&&(n=n.slice(),i=!1);for(let u=0;u<o.length;u++)n.push(o[u])}}return n?ng(i?n:n.sort(Ml)):Ms}static from(e){switch(e.length){case 0:return Vt;case 1:return e[0];default:return new Ri(e.every(n=>n instanceof nt)?e:e.reduce((n,i)=>n.concat(i instanceof nt?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function TR(t,e,n,i,s,o,u){let c=t.slice();for(let h=0,m=o;h<n.maps.length;h++){let y=0;n.maps[h].forEach((b,v,S,E)=>{let T=E-S-(v-b);for(let A=0;A<c.length;A+=3){let _=c[A+1];if(_<0||b>_+m-y)continue;let j=c[A]+m-y;v>=j?c[A+1]=b<=j?-2:-1:b>=m&&T&&(c[A]+=T,c[A+1]+=T)}y+=T}),m=n.maps[h].map(m,-1)}let d=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){d=!0,c[h+1]=-1;continue}let m=n.map(t[h]+o),y=m-s;if(y<0||y>=i.content.size){d=!0;continue}let b=n.map(t[h+1]+o,-1),v=b-s,{index:S,offset:E}=i.content.findIndex(y),T=i.maybeChild(S);if(T&&E==y&&E+T.nodeSize==v){let A=c[h+2].mapInner(n,T,m+1,t[h]+o+1,u);A!=Vt?(c[h]=y,c[h+1]=v,c[h+2]=A):(c[h+1]=-2,d=!0)}else d=!0}if(d){let h=CR(c,t,e,n,s,o,u),m=qc(h,i,0,u);e=m.local;for(let y=0;y<c.length;y+=3)c[y+1]<0&&(c.splice(y,3),y-=3);for(let y=0,b=0;y<m.children.length;y+=3){let v=m.children[y];for(;b<c.length&&c[b]<v;)b+=3;c.splice(b,0,m.children[y],m.children[y+1],m.children[y+2])}}return new nt(e.sort(Ml),c)}function CE(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let s=t[i];n.push(new Kt(s.from+e,s.to+e,s.type))}return n}function CR(t,e,n,i,s,o,u){function c(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(i,s,h);y?n.push(y):u.onRemove&&u.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)c(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&c(t[d+2],e[d]+o+1);return n}function ME(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,s=null;for(let o=0,u;o<t.length;o++)(u=t[o])&&u.from>n&&u.to<i&&((s||(s=[])).push(u),t[o]=null);return s}function AE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function qc(t,e,n,i){let s=[],o=!1;e.forEach((c,d)=>{let h=ME(t,c,d+n);if(h){o=!0;let m=qc(h,c,n+d+1,i);m!=Vt&&s.push(d,d+c.nodeSize,m)}});let u=CE(o?AE(t):t,-n).sort(Ml);for(let c=0;c<u.length;c++)u[c].type.valid(e,u[c])||(i.onRemove&&i.onRemove(u[c].spec),u.splice(c--,1));return u.length||s.length?new nt(u,s):Vt}function Ml(t,e){return t.from-e.from||t.to-e.to}function ng(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let s=n+1;s<e.length;s++){let o=e[s];if(o.from==i.from){o.to!=i.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,i.to),_x(e,s+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,o.from),_x(e,s,i.copy(o.from,i.to)));break}}}return e}function _x(t,e,n){for(;e<t.length&&Ml(n,t[e])>0;)e++;t.splice(e,0,n)}function Np(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=Vt&&e.push(i)}),t.cursorWrapper&&e.push(nt.create(t.state.doc,[t.cursorWrapper.deco])),Ri.from(e)}const MR={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},AR=cn&&Bi<=11;class wR{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class kR{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new wR,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);cn&&Bi<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():qt&&e.composing&&i.some(s=>s.type=="childList"&&s.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),AR&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,MR)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Mx(this.view)){if(this.suppressingSelectionUpdates)return Xr(this.view);if(cn&&Bi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Nl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let o=e.focusNode;o;o=js(o))n.add(o);for(let o=e.anchorNode;o;o=js(o))if(n.has(o)){i=o;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&Mx(e)&&!this.ignoreSelectionChange(i),o=-1,u=-1,c=!1,d=[];if(e.editable)for(let m=0;m<n.length;m++){let y=this.registerMutation(n[m],d);y&&(o=o<0?y.from:Math.min(y.from,o),u=u<0?y.to:Math.max(y.to,u),y.typeOver&&(c=!0))}if(d.some(m=>m.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let m of d)if(m.nodeName=="BR"&&m.parentNode){let y=m.nextSibling;y&&y.nodeType==1&&y.contentEditable=="false"&&m.parentNode.removeChild(m)}}else if(In&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,b]=m;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of m){let v=b.parentNode;v&&v.nodeName=="LI"&&(!y||RR(e,y)!=v)&&b.remove()}}}let h=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Rf(i)&&(h=Jm(e))&&h.eq(Me.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Xr(e),this.currentSelection.set(i),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,u),NR(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,DR(e,d)),this.handleDOMChange(o,u,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||Xr(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];n.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let s=e.previousSibling,o=e.nextSibling;if(cn&&Bi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:b}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b)}let u=s&&s.parentNode==e.target?Ht(s)+1:0,c=i.localPosFromDOM(e.target,u,-1),d=o&&o.parentNode==e.target?Ht(o):e.target.childNodes.length,h=i.localPosFromDOM(e.target,d,1);return{from:c,to:h}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Lx=new WeakMap,zx=!1;function NR(t){if(!Lx.has(t)&&(Lx.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=In,zx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),zx=!0}}function jx(t,e){let n=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,u=t.domAtPos(t.state.selection.anchor);return Nl(u.node,u.offset,s,o)&&([n,i,s,o]=[s,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:o}}function OR(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return jx(t,s)}let n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?jx(t,n):null}function RR(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function DR(t,e){var n;let{focusNode:i,focusOffset:s}=t.domSelectionRange();for(let o of e)if(((n=o.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let u=o.nextSibling;for(;u&&u.nodeName!="TD"&&u.nodeName!="TH";)u=u.nextSibling;if(u){let c=u;for(;;){let d=c.firstChild;if(!d||d.nodeType!=1||d.contentEditable=="false"||/^(BR|IMG)$/.test(d.nodeName))break;c=d}c.insertBefore(o,c.firstChild),i==o&&t.domSelection().collapse(o,s)}else o.parentNode.removeChild(o)}}function _R(t,e,n){let{node:i,fromOffset:s,toOffset:o,from:u,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),h,m=d.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],Rf(d)||h.push({node:d.focusNode,offset:d.focusOffset})),It&&t.input.lastKeyCode===8)for(let T=o;T>s;T--){let A=i.childNodes[T-1],_=A.pmViewDesc;if(A.nodeName=="BR"&&!_){o=T;break}if(!_||_.size)break}let y=t.state.doc,b=t.someProp("domParser")||ji.fromSchema(t.state.schema),v=y.resolve(u),S=null,E=b.parse(i,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:LR,context:v});if(h&&h[0].pos!=null){let T=h[0].pos,A=h[1]&&h[1].pos;A==null&&(A=T),S={anchor:T+u,head:A+u}}return{doc:E,sel:S,from:u,to:c}}function LR(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(qt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||qt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const zR=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function jR(t,e,n,i,s){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,K=Jm(t,P);if(K&&!t.state.selection.eq(K)){if(It&&Yr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",fe=>fe(t,yl(13,"Enter"))))return;let X=t.state.tr.setSelection(K);P=="pointer"?X.setMeta("pointer",!0):P=="key"&&X.scrollIntoView(),o&&X.setMeta("composition",o),t.dispatch(X)}return}let u=t.state.doc.resolve(e),c=u.sharedDepth(n);e=u.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d=t.state.selection,h=_R(t,e,n),m=t.state.doc,y=m.slice(h.from,h.to),b,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,v="end"):(b=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let S=UR(y.content,h.doc.content,h.from,b,v);if(S&&t.input.domChangeCount++,(Bs&&t.input.lastIOSEnter>Date.now()-225||Yr)&&s.some(P=>P.nodeType==1&&!zR.test(P.nodeName))&&(!S||S.endA>=S.endB)&&t.someProp("handleKeyDown",P=>P(t,yl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!S)if(i&&d instanceof ye&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let P=Bx(t,t.state.doc,h.sel);if(P&&!P.eq(t.state.selection)){let K=t.state.tr.setSelection(P);o&&K.setMeta("composition",o),t.dispatch(K)}}return}t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof ye&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),cn&&Bi<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>h.from&&h.doc.textBetween(S.start-h.from-1,S.start-h.from+1)==" "&&(S.start--,S.endA--,S.endB--);let E=h.doc.resolveNoCache(S.start-h.from),T=h.doc.resolveNoCache(S.endB-h.from),A=m.resolve(S.start),_=E.sameParent(T)&&E.parent.inlineContent&&A.end()>=S.endA;if((Bs&&t.input.lastIOSEnter>Date.now()-225&&(!_||s.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!_&&E.pos<h.doc.content.size&&(!E.sameParent(T)||!E.parent.inlineContent)&&E.pos<T.pos&&!/\S/.test(h.doc.textBetween(E.pos,T.pos,"","")))&&t.someProp("handleKeyDown",P=>P(t,yl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>S.start&&HR(m,S.start,S.endA,E,T)&&t.someProp("handleKeyDown",P=>P(t,yl(8,"Backspace")))){Yr&&It&&t.domObserver.suppressSelectionUpdates();return}It&&S.endB==S.start&&(t.input.lastChromeDelete=Date.now()),Yr&&!_&&E.start()!=T.start()&&T.parentOffset==0&&E.depth==T.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==S.endA&&(S.endB-=2,T=h.doc.resolveNoCache(S.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,yl(13,"Enter"))})},20));let j=S.start,$=S.endA,H=P=>{let K=P||t.state.tr.replace(j,$,h.doc.slice(S.start-h.from,S.endB-h.from));if(h.sel){let X=Bx(t,K.doc,h.sel);X&&!(It&&t.composing&&X.empty&&(S.start!=S.endB||t.input.lastChromeDelete<Date.now()-100)&&(X.head==j||X.head==K.mapping.map($)-1)||cn&&X.empty&&X.head==j)&&K.setSelection(X)}return o&&K.setMeta("composition",o),K.scrollIntoView()},q;if(_)if(E.pos==T.pos){cn&&Bi<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Xr(t),20));let P=H(t.state.tr.delete(j,$)),K=m.resolve(S.start).marksAcross(m.resolve(S.endA));K&&P.ensureMarks(K),t.dispatch(P)}else if(S.endA==S.endB&&(q=BR(E.parent.content.cut(E.parentOffset,T.parentOffset),A.parent.content.cut(A.parentOffset,S.endA-A.start())))){let P=H(t.state.tr);q.type=="add"?P.addMark(j,$,q.mark):P.removeMark(j,$,q.mark),t.dispatch(P)}else if(E.parent.child(E.index()).isText&&E.index()==T.index()-(T.textOffset?0:1)){let P=E.parent.textBetween(E.parentOffset,T.parentOffset),K=()=>H(t.state.tr.insertText(P,j,$));t.someProp("handleTextInput",X=>X(t,j,$,P,K))||t.dispatch(K())}else t.dispatch(H());else t.dispatch(H())}function Bx(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Xm(t,e.resolve(n.anchor),e.resolve(n.head))}function BR(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,s=n,o=i,u,c,d;for(let m=0;m<i.length;m++)s=i[m].removeFromSet(s);for(let m=0;m<n.length;m++)o=n[m].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],u="add",d=m=>m.mark(c.addToSet(m.marks));else if(s.length==0&&o.length==1)c=o[0],u="remove",d=m=>m.mark(c.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(J.from(h).eq(t))return{mark:c,type:u}}function HR(t,e,n,i,s){if(n-e<=s.pos-i.pos||Op(i,!0,!1)<s.pos)return!1;let o=t.resolve(e);if(!i.parent.isTextblock){let c=o.nodeAfter;return c!=null&&n==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let u=t.resolve(Op(o,!0,!0));return!u.parent.isTextblock||u.pos>n||Op(u,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(u.parent.content)}function Op(t,e,n){let i=t.depth,s=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,s++,e=!1;if(n){let o=t.node(i).maybeChild(t.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function UR(t,e,n,i,s){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:u,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,o-Math.min(u,c));i-=u+d-o}if(u<o&&t.size<e.size){let d=i<=o&&i>=u?o-i:0;o-=d,o&&o<e.size&&Hx(e.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-u),u=o}else if(c<o){let d=i<=o&&i>=c?o-i:0;o-=d,o&&o<t.size&&Hx(t.textBetween(o-1,o+1))&&(o+=d?1:-1),u=o+(u-c),c=o}return{start:o,endA:u,endB:c}}function Hx(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class wE{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new tR,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(qx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Px(this),Ix(this),this.nodeViews=Vx(this),this.docView=vx(this.state.doc,Ux(this),Np(this),this.dom,this),this.domObserver=new kR(this,(i,s,o,u)=>jR(this,i,s,o,u)),this.domObserver.start(),nR(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&gm(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(qx),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let s=this.state,o=!1,u=!1;e.storedMarks&&this.composing&&(xE(this),u=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=Vx(this);PR(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&gm(this),this.editable=Px(this),Ix(this);let d=Np(this),h=Ux(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",y=o||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(s.selection))&&(u=!0);let b=m=="preserve"&&u&&this.dom.style.overflowAnchor==null&&gO(this);if(u){this.domObserver.stop();let v=y&&(cn||It)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&IR(s.selection,e.selection);if(y){let S=It?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=gR(this)),(o||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=vx(e.doc,h,d,this.dom,this)),S&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&IO(this))?Xr(this,v):(aE(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&yO(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&hx(this,n.getBoundingClientRect(),e)}else hx(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let o=i.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==i.node&&(s=o)}this.dragging=new EE(e.slice,e.move,s<0?void 0:pe.create(this.state.doc,s))}someProp(e,n){let i=this._props&&this._props[e],s;if(i!=null&&(s=n?n(i):i))return s;for(let u=0;u<this.directPlugins.length;u++){let c=this.directPlugins[u].props[e];if(c!=null&&(s=n?n(c):c))return s}let o=this.state.plugins;if(o)for(let u=0;u<o.length;u++){let c=o[u].props[e];if(c!=null&&(s=n?n(c):c))return s}}hasFocus(){if(cn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&bO(this.dom),Xr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return TO(this,e)}coordsAtPos(e,n=1){return eE(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let s=this.docView.posFromDOM(e,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return kO(this,n||this.state,e)}pasteHTML(e,n){return Ca(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ca(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Qm(this,e)}destroy(){this.docView&&(rR(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Np(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,sO())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return lR(this,e)}domSelectionRange(){let e=this.domSelection();return e?qt&&this.root.nodeType===11&&fO(this.dom.ownerDocument)==this.dom&&OR(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}wE.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Ux(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[Kt.node(0,t.state.doc.content.size,e)]}function Ix(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Kt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Px(t){return!t.someProp("editable",e=>e(t.state)===!1)}function IR(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Vx(t){let e=Object.create(null);function n(i){for(let s in i)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=i[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function PR(t,e){let n=0,i=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)i++;return n!=i}function qx(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Vi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Gc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},VR=typeof navigator<"u"&&/Mac/.test(navigator.platform),qR=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ut=0;Ut<10;Ut++)Vi[48+Ut]=Vi[96+Ut]=String(Ut);for(var Ut=1;Ut<=24;Ut++)Vi[Ut+111]="F"+Ut;for(var Ut=65;Ut<=90;Ut++)Vi[Ut]=String.fromCharCode(Ut+32),Gc[Ut]=String.fromCharCode(Ut);for(var Rp in Vi)Gc.hasOwnProperty(Rp)||(Gc[Rp]=Vi[Rp]);function GR(t){var e=VR&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||qR&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Gc:Vi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const $R=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),FR=typeof navigator<"u"&&/Win/.test(navigator.platform);function YR(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,s,o,u;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))$R?u=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),u&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function KR(t){let e=Object.create(null);for(let n in t)e[YR(n)]=t[n];return e}function Dp(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function JR(t){return new it({props:{handleKeyDown:kE(t)}})}function kE(t){let e=KR(t);return function(n,i){let s=GR(i),o,u=e[Dp(s,i)];if(u&&u(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let c=e[Dp(s,i,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(FR&&i.ctrlKey&&i.altKey)&&(o=Vi[i.keyCode])&&o!=s){let c=e[Dp(o,i)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var XR=Object.defineProperty,rg=(t,e)=>{for(var n in e)XR(t,n,{get:e[n],enumerable:!0})};function Lf(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:s}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,o=n.storedMarks,n}}}var zf=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:i}=e,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([u,c])=>[u,(...h)=>{const m=c(...h)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,u=[],c=!!t,d=t||s.tr,h=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),u.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(n).map(([y,b])=>[y,(...S)=>{const E=this.buildProps(d,e),T=b(...S)(E);return u.push(T),m}])),run:h};return m}createCan(t){const{rawCommands:e,state:n}=this,i=!1,s=t||n.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...h)=>d(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,u={tr:t,editor:i,view:o,state:Lf({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...h)=>d(...h)(u)]))}};return u}},NE={};rg(NE,{blur:()=>QR,clearContent:()=>WR,clearNodes:()=>ZR,command:()=>eD,createParagraphNear:()=>tD,cut:()=>nD,deleteCurrentNode:()=>rD,deleteNode:()=>iD,deleteRange:()=>lD,deleteSelection:()=>sD,enter:()=>oD,exitCode:()=>aD,extendMarkRange:()=>uD,first:()=>cD,focus:()=>dD,forEach:()=>hD,insertContent:()=>pD,insertContentAt:()=>yD,joinBackward:()=>xD,joinDown:()=>vD,joinForward:()=>SD,joinItemBackward:()=>ED,joinItemForward:()=>TD,joinTextblockBackward:()=>CD,joinTextblockForward:()=>MD,joinUp:()=>bD,keyboardShortcut:()=>wD,lift:()=>kD,liftEmptyBlock:()=>ND,liftListItem:()=>OD,newlineInCode:()=>RD,resetAttributes:()=>DD,scrollIntoView:()=>_D,selectAll:()=>LD,selectNodeBackward:()=>zD,selectNodeForward:()=>jD,selectParentNode:()=>BD,selectTextblockEnd:()=>HD,selectTextblockStart:()=>UD,setContent:()=>ID,setMark:()=>s2,setMeta:()=>o2,setNode:()=>a2,setNodeSelection:()=>u2,setTextDirection:()=>c2,setTextSelection:()=>f2,sinkListItem:()=>d2,splitBlock:()=>h2,splitListItem:()=>p2,toggleList:()=>m2,toggleMark:()=>g2,toggleNode:()=>y2,toggleWrap:()=>b2,undoInputRule:()=>v2,unsetAllMarks:()=>x2,unsetMark:()=>S2,unsetTextDirection:()=>E2,updateAttributes:()=>T2,wrapIn:()=>C2,wrapInList:()=>M2});var QR=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),WR=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),ZR=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:s}=i;return n&&s.forEach(({$from:o,$to:u})=>{t.doc.nodesBetween(o.pos,u.pos,(c,d)=>{if(c.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),b=h.resolve(m.map(d+c.nodeSize)),v=y.blockRange(b);if(!v)return;const S=Vs(v);if(c.type.isTextblock){const{defaultType:E}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,E)}(S||S===0)&&e.lift(v,S)})}),!0},eD=t=>e=>t(e),tD=()=>({state:t,dispatch:e})=>qS(t,e),nD=(t,e)=>({editor:n,tr:i})=>{const{state:s}=n,o=s.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const u=i.mapping.map(e);return i.insert(u,o.content),i.setSelection(new ye(i.doc.resolve(Math.max(u-1,0)))),!0},rD=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i.type){if(e){const c=s.before(o),d=s.after(o);t.delete(c,d).scrollIntoView()}return!0}return!1};function St(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var iD=t=>({tr:e,state:n,dispatch:i})=>{const s=St(t,n.schema),o=e.selection.$anchor;for(let u=o.depth;u>0;u-=1)if(o.node(u).type===s){if(i){const d=o.before(u),h=o.after(u);e.delete(d,h).scrollIntoView()}return!0}return!1},lD=t=>({tr:e,dispatch:n})=>{const{from:i,to:s}=t;return n&&e.delete(i,s),!0},sD=()=>({state:t,dispatch:e})=>qm(t,e),oD=()=>({commands:t})=>t.keyboardShortcut("Enter"),aD=()=>({state:t,dispatch:e})=>$N(t,e);function ig(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function $c(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(s=>n.strict?e[s]===t[s]:ig(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function OE(t,e,n={}){return t.find(i=>i.type===e&&$c(Object.fromEntries(Object.keys(n).map(s=>[s,i.attrs[s]])),n))}function Gx(t,e,n={}){return!!OE(t,e,n)}function lg(t,e,n){var i;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(n=n||((i=s.node.marks[0])==null?void 0:i.attrs),!OE([...s.node.marks],e,n)))return;let u=s.index,c=t.start()+s.offset,d=u+1,h=c+s.node.nodeSize;for(;u>0&&Gx([...t.parent.child(u-1).marks],e,n);)u-=1,c-=t.parent.child(u).nodeSize;for(;d<t.parent.childCount&&Gx([...t.parent.child(d).marks],e,n);)h+=t.parent.child(d).nodeSize,d+=1;return{from:c,to:h}}function Wr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var uD=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const o=Wr(t,i.schema),{doc:u,selection:c}=n,{$from:d,from:h,to:m}=c;if(s){const y=lg(d,o,e);if(y&&y.from<=h&&y.to>=m){const b=ye.create(u,y.from,y.to);n.setSelection(b)}}return!0},cD=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function RE(t){return t instanceof ye}function xl(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function DE(t,e=null){if(!e)return null;const n=Me.atStart(t),i=Me.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const s=n.from,o=i.to;return e==="all"?ye.create(t,xl(0,s,o),xl(t.content.size,s,o)):ye.create(t,xl(e,s,o),xl(e,s,o))}function $x(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Fc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function fD(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var dD=(t=null,e={})=>({editor:n,view:i,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const u=()=>{(Fc()||$x())&&i.dom.focus(),fD()&&!Fc()&&!$x()&&i.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};try{if(i.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(o&&t===null&&!RE(n.state.selection))return u(),!0;const c=DE(s.doc,t)||n.state.selection,d=n.state.selection.eq(c);return o&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),u()),!0},hD=(t,e)=>n=>t.every((i,s)=>e(i,{...n,index:s})),pD=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),_E=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&_E(i)}return t};function hc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return _E(n)}function Aa(t,e,n){if(t instanceof Zn||t instanceof J)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,s=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return J.fromArray(t.map(c=>e.nodeFromJSON(c)));const u=e.nodeFromJSON(t);return n.errorOnInvalidContent&&u.check(),u}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Aa("",e,n)}if(s){if(n.errorOnInvalidContent){let u=!1,c="";const d=new gS({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(u=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?ji.fromSchema(d).parseSlice(hc(t),n.parseOptions):ji.fromSchema(d).parse(hc(t),n.parseOptions),n.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=ji.fromSchema(e);return n.slice?o.parseSlice(hc(t),n.parseOptions).content:o.parse(hc(t),n.parseOptions)}return Aa("",e,n)}function mD(t,e,n){const i=t.steps.length-1;if(i<e)return;const s=t.steps[i];if(!(s instanceof kt||s instanceof Nt))return;const o=t.mapping.maps[i];let u=0;o.forEach((c,d,h,m)=>{u===0&&(u=m)}),t.setSelection(Me.near(t.doc.resolve(u),n))}var gD=t=>!("type"in t),yD=(t,e,n)=>({tr:i,dispatch:s,editor:o})=>{var u;if(s){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const d=T=>{o.emit("contentError",{editor:o,error:T,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Aa(e,o.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(T){d(T)}try{c=Aa(e,o.schema,{parseOptions:h,errorOnInvalidContent:(u=n.errorOnInvalidContent)!=null?u:o.options.enableContentCheck})}catch(T){return d(T),!1}let{from:m,to:y}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},b=!0,v=!0;if((gD(c)?c:[c]).forEach(T=>{T.check(),b=b?T.isText&&T.marks.length===0:!1,v=v?T.isBlock:!1}),m===y&&v){const{parent:T}=i.doc.resolve(m);T.isTextblock&&!T.type.spec.code&&!T.childCount&&(m-=1,y+=1)}let E;if(b){if(Array.isArray(e))E=e.map(T=>T.text||"").join("");else if(e instanceof J){let T="";e.forEach(A=>{A.text&&(T+=A.text)}),E=T}else typeof e=="object"&&e&&e.text?E=e.text:E=e;i.insertText(E,m,y)}else{E=c;const T=i.doc.resolve(m),A=T.node(),_=T.parentOffset===0,j=A.isText||A.isTextblock,$=A.content.size>0;_&&j&&$&&(m=Math.max(0,m-1)),i.replaceWith(m,y,E)}n.updateSelection&&mD(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:m,text:E}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:m,text:E})}return!0},bD=()=>({state:t,dispatch:e})=>VN(t,e),vD=()=>({state:t,dispatch:e})=>qN(t,e),xD=()=>({state:t,dispatch:e})=>jS(t,e),SD=()=>({state:t,dispatch:e})=>IS(t,e),ED=()=>({state:t,dispatch:e,tr:n})=>{try{const i=kf(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},TD=()=>({state:t,dispatch:e,tr:n})=>{try{const i=kf(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},CD=()=>({state:t,dispatch:e})=>IN(t,e),MD=()=>({state:t,dispatch:e})=>PN(t,e);function LE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function AD(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,s,o,u;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))Fc()||LE()?u=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return i&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),u&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var wD=t=>({editor:e,view:n,tr:i,dispatch:s})=>{const o=AD(t).split(/-(?!$)/),u=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,c))});return d==null||d.steps.forEach(h=>{const m=h.map(i.mapping);m&&s&&i.maybeStep(m)}),!0};function qi(t,e,n={}){const{from:i,to:s,empty:o}=t.selection,u=e?St(e,t.schema):null,c=[];t.doc.nodesBetween(i,s,(y,b)=>{if(y.isText)return;const v=Math.max(i,b),S=Math.min(s,b+y.nodeSize);c.push({node:y,from:v,to:S})});const d=s-i,h=c.filter(y=>u?u.name===y.node.type.name:!0).filter(y=>$c(y.node.attrs,n,{strict:!1}));return o?!!h.length:h.reduce((y,b)=>y+b.to-b.from,0)>=d}var kD=(t,e={})=>({state:n,dispatch:i})=>{const s=St(t,n.schema);return qi(n,s,e)?GN(n,i):!1},ND=()=>({state:t,dispatch:e})=>GS(t,e),OD=t=>({state:e,dispatch:n})=>{const i=St(t,e.schema);return nO(i)(e,n)},RD=()=>({state:t,dispatch:e})=>VS(t,e);function jf(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Fx(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,s)=>(n.includes(s)||(i[s]=t[s]),i),{})}var DD=(t,e)=>({tr:n,state:i,dispatch:s})=>{let o=null,u=null;const c=jf(typeof t=="string"?t:t.name,i.schema);if(!c)return!1;c==="node"&&(o=St(t,i.schema)),c==="mark"&&(u=Wr(t,i.schema));let d=!1;return n.selection.ranges.forEach(h=>{i.doc.nodesBetween(h.$from.pos,h.$to.pos,(m,y)=>{o&&o===m.type&&(d=!0,s&&n.setNodeMarkup(y,void 0,Fx(m.attrs,e))),u&&m.marks.length&&m.marks.forEach(b=>{u===b.type&&(d=!0,s&&n.addMark(y,y+m.nodeSize,u.create(Fx(b.attrs,e))))})})}),d},_D=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),LD=()=>({tr:t,dispatch:e})=>{if(e){const n=new Sn(t.doc);t.setSelection(n)}return!0},zD=()=>({state:t,dispatch:e})=>HS(t,e),jD=()=>({state:t,dispatch:e})=>PS(t,e),BD=()=>({state:t,dispatch:e})=>KN(t,e),HD=()=>({state:t,dispatch:e})=>QN(t,e),UD=()=>({state:t,dispatch:e})=>XN(t,e);function ym(t,e,n={},i={}){return Aa(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}var ID=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:i={}}={})=>({editor:s,tr:o,dispatch:u,commands:c})=>{const{doc:d}=o;if(i.preserveWhitespace!=="full"){const h=ym(t,s.schema,i,{errorOnInvalidContent:e??s.options.enableContentCheck});return u&&o.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!n),!0}return u&&o.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:d.content.size},t,{parseOptions:i,errorOnInvalidContent:e??s.options.enableContentCheck})};function zE(t,e){const n=Wr(e,t.schema),{from:i,to:s,empty:o}=t.selection,u=[];o?(t.storedMarks&&u.push(...t.storedMarks),u.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,s,d=>{u.push(...d.marks)});const c=u.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function jE(t,e){const n=new DS(t);return e.forEach(i=>{i.steps.forEach(s=>{n.step(s)})}),n}function PD(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function VD(t,e,n){const i=[];return t.nodesBetween(e.from,e.to,(s,o)=>{n(s)&&i.push({node:s,pos:o})}),i}function qD(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function Bf(t){return e=>qD(e.$from,t)}function ce(t,e,n){return t.config[e]===void 0&&t.parent?ce(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ce(t.parent,e,n):null}):t.config[e]}function sg(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=ce(e,"addExtensions",n);return i?[e,...sg(i())]:e}).flat(10)}function og(t,e){const n=zl.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function BE(t){return typeof t=="function"}function Ve(t,e=void 0,...n){return BE(t)?e?t.bind(e)(...n):t(...n):t}function GD(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Hs(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),i=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function HE(t){const e=[],{nodeExtensions:n,markExtensions:i}=Hs(t),s=[...n,...i],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1},u=n.filter(h=>h.name!=="text").map(h=>h.name),c=i.map(h=>h.name),d=[...u,...c];return t.forEach(h=>{const m={name:h.name,options:h.options,storage:h.storage,extensions:s},y=ce(h,"addGlobalAttributes",m);if(!y)return;y().forEach(v=>{let S;Array.isArray(v.types)?S=v.types:v.types==="*"?S=d:v.types==="nodes"?S=u:v.types==="marks"?S=c:S=[],S.forEach(E=>{Object.entries(v.attributes).forEach(([T,A])=>{e.push({type:E,name:T,attribute:{...o,...A}})})})})}),s.forEach(h=>{const m={name:h.name,options:h.options,storage:h.storage},y=ce(h,"addAttributes",m);if(!y)return;const b=y();Object.entries(b).forEach(([v,S])=>{const E={...o,...S};typeof(E==null?void 0:E.default)=="function"&&(E.default=E.default()),E!=null&&E.isRequired&&(E==null?void 0:E.default)===void 0&&delete E.default,e.push({type:h.name,name:v,attribute:E})})}),e}function ht(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([s,o])=>{if(!i[s]){i[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],d=i[s]?i[s].split(" "):[],h=c.filter(m=>!d.includes(m));i[s]=[...d,...h].join(" ")}else if(s==="style"){const c=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],d=i[s]?i[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),c.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),i[s]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else i[s]=o}),i},{})}function wa(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>ht(n,i),{})}function $D(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Yx(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const s=e.reduce((o,u)=>{const c=u.attribute.parseHTML?u.attribute.parseHTML(n):$D(n.getAttribute(u.name));return c==null?o:{...o,[u.name]:c}},{});return{...i,...s}}}}function Kx(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&GD(n)?!1:n!=null))}function Jx(t){var e,n;const i={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(i.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(i.validate=t.attribute.validate),[t.name,i]}function FD(t,e){var n;const i=HE(t),{nodeExtensions:s,markExtensions:o}=Hs(t),u=(n=s.find(h=>ce(h,"topNode")))==null?void 0:n.name,c=Object.fromEntries(s.map(h=>{const m=i.filter(A=>A.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((A,_)=>{const j=ce(_,"extendNodeSchema",y);return{...A,...j?j(h):{}}},{}),v=Kx({...b,content:Ve(ce(h,"content",y)),marks:Ve(ce(h,"marks",y)),group:Ve(ce(h,"group",y)),inline:Ve(ce(h,"inline",y)),atom:Ve(ce(h,"atom",y)),selectable:Ve(ce(h,"selectable",y)),draggable:Ve(ce(h,"draggable",y)),code:Ve(ce(h,"code",y)),whitespace:Ve(ce(h,"whitespace",y)),linebreakReplacement:Ve(ce(h,"linebreakReplacement",y)),defining:Ve(ce(h,"defining",y)),isolating:Ve(ce(h,"isolating",y)),attrs:Object.fromEntries(m.map(Jx))}),S=Ve(ce(h,"parseHTML",y));S&&(v.parseDOM=S.map(A=>Yx(A,m)));const E=ce(h,"renderHTML",y);E&&(v.toDOM=A=>E({node:A,HTMLAttributes:wa(A,m)}));const T=ce(h,"renderText",y);return T&&(v.toText=T),[h.name,v]})),d=Object.fromEntries(o.map(h=>{const m=i.filter(T=>T.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((T,A)=>{const _=ce(A,"extendMarkSchema",y);return{...T,..._?_(h):{}}},{}),v=Kx({...b,inclusive:Ve(ce(h,"inclusive",y)),excludes:Ve(ce(h,"excludes",y)),group:Ve(ce(h,"group",y)),spanning:Ve(ce(h,"spanning",y)),code:Ve(ce(h,"code",y)),attrs:Object.fromEntries(m.map(Jx))}),S=Ve(ce(h,"parseHTML",y));S&&(v.parseDOM=S.map(T=>Yx(T,m)));const E=ce(h,"renderHTML",y);return E&&(v.toDOM=T=>E({mark:T,HTMLAttributes:wa(T,m)})),[h.name,v]}));return new gS({topNode:u,nodes:c,marks:d})}function YD(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}function fa(t){return t.sort((n,i)=>{const s=ce(n,"priority")||100,o=ce(i,"priority")||100;return s>o?-1:s<o?1:0})}function UE(t){const e=fa(sg(t)),n=YD(e.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),e}function IE(t,e,n){const{from:i,to:s}=e,{blockSeparator:o=`

`,textSerializers:u={}}=n||{};let c="";return t.nodesBetween(i,s,(d,h,m,y)=>{var b;d.isBlock&&h>i&&(c+=o);const v=u==null?void 0:u[d.type.name];if(v)return m&&(c+=v({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(c+=(b=d==null?void 0:d.text)==null?void 0:b.slice(Math.max(i,h)-h,s-h))}),c}function KD(t,e){const n={from:0,to:t.content.size};return IE(t,n,e)}function PE(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function JD(t,e){const n=St(e,t.schema),{from:i,to:s}=t.selection,o=[];t.doc.nodesBetween(i,s,c=>{o.push(c)});const u=o.reverse().find(c=>c.type.name===n.name);return u?{...u.attrs}:{}}function VE(t,e){const n=jf(typeof e=="string"?e:e.name,t.schema);return n==="node"?JD(t,e):n==="mark"?zE(t,e):{}}function XD(t,e=JSON.stringify){const n={};return t.filter(i=>{const s=e(i);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function QD(t){const e=XD(t);return e.length===1?e:e.filter((n,i)=>!e.filter((o,u)=>u!==i).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function qE(t){const{mapping:e,steps:n}=t,i=[];return e.maps.forEach((s,o)=>{const u=[];if(s.ranges.length)s.forEach((c,d)=>{u.push({from:c,to:d})});else{const{from:c,to:d}=n[o];if(c===void 0||d===void 0)return;u.push({from:c,to:d})}u.forEach(({from:c,to:d})=>{const h=e.slice(o).map(c,-1),m=e.slice(o).map(d),y=e.invert().map(h,-1),b=e.invert().map(m);i.push({oldRange:{from:y,to:b},newRange:{from:h,to:m}})})}),QD(i)}function ag(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(s=>{const o=n.resolve(t),u=lg(o,s.type);u&&i.push({mark:s,...u})}):n.nodesBetween(t,e,(s,o)=>{!s||(s==null?void 0:s.nodeSize)===void 0||i.push(...s.marks.map(u=>({from:o,to:o+s.nodeSize,mark:u})))}),i}var WD=(t,e,n,i=20)=>{const s=t.doc.resolve(n);let o=i,u=null;for(;o>0&&u===null;){const c=s.node(o);(c==null?void 0:c.type.name)===e?u=c:o-=1}return[u,o]};function Zo(t,e){return e.nodes[t]||e.marks[t]||null}function kc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const s=t.find(o=>o.type===e&&o.name===i);return s?s.attribute.keepOnSplit:!1}))}var ZD=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(s,o,u,c)=>{var d,h;const m=((h=(d=s.type.spec).toText)==null?void 0:h.call(d,{node:s,pos:o,parent:u,index:c}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,i-o))}),n};function bm(t,e,n={}){const{empty:i,ranges:s}=t.selection,o=e?Wr(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(y=>o?o.name===y.type.name:!0).find(y=>$c(y.attrs,n,{strict:!1}));let u=0;const c=[];if(s.forEach(({$from:y,$to:b})=>{const v=y.pos,S=b.pos;t.doc.nodesBetween(v,S,(E,T)=>{if(o&&E.inlineContent&&!E.type.allowsMarkType(o))return!1;if(!E.isText&&!E.marks.length)return;const A=Math.max(v,T),_=Math.min(S,T+E.nodeSize),j=_-A;u+=j,c.push(...E.marks.map($=>({mark:$,from:A,to:_})))})}),u===0)return!1;const d=c.filter(y=>o?o.name===y.mark.type.name:!0).filter(y=>$c(y.mark.attrs,n,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),h=c.filter(y=>o?y.mark.type!==o&&y.mark.type.excludes(o):!0).reduce((y,b)=>y+b.to-b.from,0);return(d>0?d+h:d)>=u}function e2(t,e,n={}){if(!e)return qi(t,null,n)||bm(t,null,n);const i=jf(e,t.schema);return i==="node"?qi(t,e,n):i==="mark"?bm(t,e,n):!1}var t2=(t,e)=>{const{$from:n,$to:i,$anchor:s}=t.selection;if(e){const o=Bf(c=>c.type.name===e)(t.selection);if(!o)return!1;const u=t.doc.resolve(o.pos+1);return s.pos+1===u.end()}return!(i.parentOffset<i.parent.nodeSize-2||n.pos!==i.pos)},n2=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function Xx(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Qx(t,e){const{nodeExtensions:n}=Hs(e),i=n.find(u=>u.name===t);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},o=Ve(ce(i,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Hf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!=null?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(o=>{s!==!1&&(Hf(o,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function GE(t){return t instanceof pe}var $E=class FE{constructor(e){this.position=e}static fromJSON(e){return new FE(e.position)}toJSON(){return{position:this.position}}};function r2(t,e){const n=e.mapping.mapResult(t.position);return{position:new $E(n.pos),mapResult:n}}function i2(t){return new $E(t)}function l2(t,e,n){var i;const{selection:s}=e;let o=null;if(RE(s)&&(o=s.$cursor),o){const c=(i=t.storedMarks)!=null?i:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(h=>h.type.excludes(n)))}const{ranges:u}=s;return u.some(({$from:c,$to:d})=>{let h=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,d.pos,(m,y,b)=>{if(h)return!1;if(m.isInline){const v=!b||b.type.allowsMarkType(n),S=!!n.isInSet(m.marks)||!m.marks.some(E=>E.type.excludes(n));h=v&&S}return!h}),h})}var s2=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const{selection:o}=n,{empty:u,ranges:c}=o,d=Wr(t,i.schema);if(s)if(u){const h=zE(i,d);n.addStoredMark(d.create({...h,...e}))}else c.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;i.doc.nodesBetween(m,y,(b,v)=>{const S=Math.max(v,m),E=Math.min(v+b.nodeSize,y);b.marks.find(A=>A.type===d)?b.marks.forEach(A=>{d===A.type&&n.addMark(S,E,d.create({...A.attrs,...e}))}):n.addMark(S,E,d.create(e))})});return l2(i,n,d)},o2=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),a2=(t,e={})=>({state:n,dispatch:i,chain:s})=>{const o=St(t,n.schema);let u;return n.selection.$anchor.sameParent(n.selection.$head)&&(u=n.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>cx(o,{...u,...e})(n)?!0:c.clearNodes()).command(({state:c})=>cx(o,{...u,...e})(c,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},u2=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,s=xl(t,0,i.content.size),o=pe.create(i,s);e.setSelection(o)}return!0},c2=(t,e)=>({tr:n,state:i,dispatch:s})=>{const{selection:o}=i;let u,c;return typeof e=="number"?(u=e,c=e):e&&"from"in e&&"to"in e?(u=e.from,c=e.to):(u=o.from,c=o.to),s&&n.doc.nodesBetween(u,c,(d,h)=>{d.isText||n.setNodeMarkup(h,void 0,{...d.attrs,dir:t})}),!0},f2=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:s,to:o}=typeof t=="number"?{from:t,to:t}:t,u=ye.atStart(i).from,c=ye.atEnd(i).to,d=xl(s,u,c),h=xl(o,u,c),m=ye.create(i,d,h);e.setSelection(m)}return!0},d2=t=>({state:e,dispatch:n})=>{const i=St(t,e.schema);return lO(i)(e,n)};function Wx(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(i)}}var h2=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:s})=>{const{selection:o,doc:u}=e,{$from:c,$to:d}=o,h=s.extensionManager.attributes,m=kc(h,c.node().type.name,c.node().attrs);if(o instanceof pe&&o.node.isBlock)return!c.parentOffset||!Jr(u,c.pos)?!1:(i&&(t&&Wx(n,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,b=c.depth===0?void 0:PD(c.node(-1).contentMatchAt(c.indexAfter(-1)));let v=y&&b?[{type:b,attrs:m}]:void 0,S=Jr(e.doc,e.mapping.map(c.pos),1,v);if(!v&&!S&&Jr(e.doc,e.mapping.map(c.pos),1,b?[{type:b}]:void 0)&&(S=!0,v=b?[{type:b,attrs:m}]:void 0),i){if(S&&(o instanceof ye&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,v),b&&!y&&!c.parentOffset&&c.parent.type!==b)){const E=e.mapping.map(c.before()),T=e.doc.resolve(E);c.node(-1).canReplaceWith(T.index(),T.index()+1,b)&&e.setNodeMarkup(e.mapping.map(c.before()),b)}t&&Wx(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return S},p2=(t,e={})=>({tr:n,state:i,dispatch:s,editor:o})=>{var u;const c=St(t,i.schema),{$from:d,$to:h}=i.selection,m=i.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==c)return!1;const b=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let A=J.empty;const _=d.index(-1)?1:d.index(-2)?2:3;for(let K=d.depth-_;K>=d.depth-3;K-=1)A=J.from(d.node(K).copy(A));const j=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,$={...kc(b,d.node().type.name,d.node().attrs),...e},H=((u=c.contentMatch.defaultType)==null?void 0:u.createAndFill($))||void 0;A=A.append(J.from(c.createAndFill(null,H)||void 0));const q=d.before(d.depth-(_-1));n.replace(q,d.after(-j),new ne(A,4-_,0));let P=-1;n.doc.nodesBetween(q,n.doc.content.size,(K,X)=>{if(P>-1)return!1;K.isTextblock&&K.content.size===0&&(P=X+1)}),P>-1&&n.setSelection(ye.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const v=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,S={...kc(b,y.type.name,y.attrs),...e},E={...kc(b,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,h.pos);const T=v?[{type:c,attrs:S},{type:v,attrs:E}]:[{type:c,attrs:S}];if(!Jr(n.doc,d.pos,2))return!1;if(s){const{selection:A,storedMarks:_}=i,{splittableMarks:j}=o.extensionManager,$=_||A.$to.parentOffset&&A.$from.marks();if(n.split(d.pos,2,T).scrollIntoView(),!$||!s)return!0;const H=$.filter(q=>j.includes(q.type.name));n.ensureMarks(H)}return!0},_p=(t,e)=>{const n=Bf(u=>u.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&$i(t.doc,n.pos)&&t.join(n.pos),!0},Lp=(t,e)=>{const n=Bf(u=>u.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&$i(t.doc,i)&&t.join(i),!0},m2=(t,e,n,i={})=>({editor:s,tr:o,state:u,dispatch:c,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:b}=s.extensionManager,v=St(t,u.schema),S=St(e,u.schema),{selection:E,storedMarks:T}=u,{$from:A,$to:_}=E,j=A.blockRange(_),$=T||E.$to.parentOffset&&E.$from.marks();if(!j)return!1;const H=Bf(q=>Qx(q.type.name,y))(E);if(j.depth>=1&&H&&j.depth-H.depth<=1){if(H.node.type===v)return h.liftListItem(S);if(Qx(H.node.type.name,y)&&v.validContent(H.node.content)&&c)return d().command(()=>(o.setNodeMarkup(H.pos,v),!0)).command(()=>_p(o,v)).command(()=>Lp(o,v)).run()}return!n||!$||!c?d().command(()=>m().wrapInList(v,i)?!0:h.clearNodes()).wrapInList(v,i).command(()=>_p(o,v)).command(()=>Lp(o,v)).run():d().command(()=>{const q=m().wrapInList(v,i),P=$.filter(K=>b.includes(K.type.name));return o.ensureMarks(P),q?!0:h.clearNodes()}).wrapInList(v,i).command(()=>_p(o,v)).command(()=>Lp(o,v)).run()},g2=(t,e={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:o=!1}=n,u=Wr(t,i.schema);return bm(i,u,e)?s.unsetMark(u,{extendEmptyMarkRange:o}):s.setMark(u,e)},y2=(t,e,n={})=>({state:i,commands:s})=>{const o=St(t,i.schema),u=St(e,i.schema),c=qi(i,o,n);let d;return i.selection.$anchor.sameParent(i.selection.$head)&&(d=i.selection.$anchor.parent.attrs),c?s.setNode(u,d):s.setNode(o,{...d,...n})},b2=(t,e={})=>({state:n,commands:i})=>{const s=St(t,n.schema);return qi(n,s,e)?i.lift(s):i.wrapIn(s,e)},v2=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const s=n[i];let o;if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const u=t.tr,c=o.transform;for(let d=c.steps.length-1;d>=0;d-=1)u.step(c.steps[d].invert(c.docs[d]));if(o.text){const d=u.doc.resolve(o.from).marks();u.replaceWith(o.from,o.to,t.schema.text(o.text,d))}else u.delete(o.from,o.to)}return!0}}return!1},x2=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:s}=n;return i||e&&s.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},S2=(t,e={})=>({tr:n,state:i,dispatch:s})=>{var o;const{extendEmptyMarkRange:u=!1}=e,{selection:c}=n,d=Wr(t,i.schema),{$from:h,empty:m,ranges:y}=c;if(!s)return!0;if(m&&u){let{from:b,to:v}=c;const S=(o=h.marks().find(T=>T.type===d))==null?void 0:o.attrs,E=lg(h,d,S);E&&(b=E.from,v=E.to),n.removeMark(b,v,d)}else y.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,d)});return n.removeStoredMark(d),!0},E2=t=>({tr:e,state:n,dispatch:i})=>{const{selection:s}=n;let o,u;return typeof t=="number"?(o=t,u=t):t&&"from"in t&&"to"in t?(o=t.from,u=t.to):(o=s.from,u=s.to),i&&e.doc.nodesBetween(o,u,(c,d)=>{if(c.isText)return;const h={...c.attrs};delete h.dir,e.setNodeMarkup(d,void 0,h)}),!0},T2=(t,e={})=>({tr:n,state:i,dispatch:s})=>{let o=null,u=null;const c=jf(typeof t=="string"?t:t.name,i.schema);if(!c)return!1;c==="node"&&(o=St(t,i.schema)),c==="mark"&&(u=Wr(t,i.schema));let d=!1;return n.selection.ranges.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;let b,v,S,E;n.selection.empty?i.doc.nodesBetween(m,y,(T,A)=>{o&&o===T.type&&(d=!0,S=Math.max(A,m),E=Math.min(A+T.nodeSize,y),b=A,v=T)}):i.doc.nodesBetween(m,y,(T,A)=>{A<m&&o&&o===T.type&&(d=!0,S=Math.max(A,m),E=Math.min(A+T.nodeSize,y),b=A,v=T),A>=m&&A<=y&&(o&&o===T.type&&(d=!0,s&&n.setNodeMarkup(A,void 0,{...T.attrs,...e})),u&&T.marks.length&&T.marks.forEach(_=>{if(u===_.type&&(d=!0,s)){const j=Math.max(A,m),$=Math.min(A+T.nodeSize,y);n.addMark(j,$,u.create({..._.attrs,...e}))}}))}),v&&(b!==void 0&&s&&n.setNodeMarkup(b,void 0,{...v.attrs,...e}),u&&v.marks.length&&v.marks.forEach(T=>{u===T.type&&s&&n.addMark(S,E,u.create({...T.attrs,...e}))}))}),d},C2=(t,e={})=>({state:n,dispatch:i})=>{const s=St(t,n.schema);return WN(s,e)(n,i)},M2=(t,e={})=>({state:n,dispatch:i})=>{const s=St(t,n.schema);return ZN(s,e)(n,i)},A2=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(i=>i!==e):delete this.callbacks[t]),this}once(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Uf=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},w2=(t,e)=>{if(ig(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function pc(t){var e;const{editor:n,from:i,to:s,text:o,rules:u,plugin:c}=t,{view:d}=n;if(d.composing)return!1;const h=d.state.doc.resolve(i);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const y=ZD(h)+o;return u.forEach(b=>{if(m)return;const v=w2(y,b.find);if(!v)return;const S=d.state.tr,E=Lf({state:d.state,transaction:S}),T={from:i-(v[0].length-o.length),to:s},{commands:A,chain:_,can:j}=new zf({editor:n,state:E});b.handler({state:E,range:T,match:v,commands:A,chain:_,can:j})===null||!S.steps.length||(b.undoable&&S.setMeta(c,{transform:S,from:i,to:s,text:o}),d.dispatch(S),m=!0)}),m}function k2(t){const{editor:e,rules:n}=t,i=new it({state:{init(){return null},apply(s,o,u){const c=s.getMeta(i);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=og(J.from(m),u.schema);const{from:y}=d,b=y+m.length;pc({editor:e,from:y,to:b,text:m,rules:n,plugin:i})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,u,c){return pc({editor:e,from:o,to:u,text:c,rules:n,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&pc({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:u}=s.state.selection;return u?pc({editor:e,from:u.pos,to:u.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function N2(t){return Object.prototype.toString.call(t).slice(8,-1)}function mc(t){return N2(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function YE(t,e){const n={...t};return mc(t)&&mc(e)&&Object.keys(e).forEach(i=>{mc(e[i])&&mc(t[i])?n[i]=YE(t[i],e[i]):n[i]=e[i]}),n}var ug=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ve(ce(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ve(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>YE(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Yi=class KE extends ug{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new KE(n)}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const u=s.marks();if(!!!u.find(h=>(h==null?void 0:h.type.name)===n.name))return!1;const d=u.find(h=>(h==null?void 0:h.type.name)===n.name);return d&&i.removeStoredMark(d),i.insertText(" ",s.pos),e.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function O2(t){return typeof t=="number"}var R2=class{constructor(t){this.find=t.find,this.handler=t.handler}},D2=(t,e,n)=>{if(ig(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(s=>{const o=[s.text];return o.index=s.index,o.input=t,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function _2(t){const{editor:e,state:n,from:i,to:s,rule:o,pasteEvent:u,dropEvent:c}=t,{commands:d,chain:h,can:m}=new zf({editor:e,state:n}),y=[];return n.doc.nodesBetween(i,s,(v,S)=>{var E,T,A,_,j;if((T=(E=v.type)==null?void 0:E.spec)!=null&&T.code||!(v.isText||v.isTextblock||v.isInline))return;const $=(j=(_=(A=v.content)==null?void 0:A.size)!=null?_:v.nodeSize)!=null?j:0,H=Math.max(i,S),q=Math.min(s,S+$);if(H>=q)return;const P=v.isText?v.text||"":v.textBetween(H-S,q-S,void 0,"");D2(P,o.find,u).forEach(X=>{if(X.index===void 0)return;const fe=H+X.index+1,oe=fe+X[0].length,Te={from:n.tr.mapping.map(fe),to:n.tr.mapping.map(oe)},te=o.handler({state:n,range:Te,match:X,commands:d,chain:h,can:m,pasteEvent:u,dropEvent:c});y.push(te)})}),y.every(v=>v!==null)}var gc=null,L2=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function z2(t){const{editor:e,rules:n}=t;let i=null,s=!1,o=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:m,from:y,to:b,rule:v,pasteEvt:S})=>{const E=m.tr,T=Lf({state:m,transaction:E});if(!(!_2({editor:e,state:T,from:Math.max(y-1,0),to:b.b-1,rule:v,pasteEvent:S,dropEvent:c})||!E.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(m=>new it({view(y){const b=S=>{var E;i=(E=y.dom.parentElement)!=null&&E.contains(S.target)?y.dom.parentElement:null,i&&(gc=e)},v=()=>{gc&&(gc=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(o=i===y.dom.parentElement,c=b,!o){const v=gc;v!=null&&v.isEditable&&setTimeout(()=>{const S=v.state.selection;S&&v.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(y,b)=>{var v;const S=(v=b.clipboardData)==null?void 0:v.getData("text/html");return u=b,s=!!(S!=null&&S.includes("data-pm-slice")),!1}}},appendTransaction:(y,b,v)=>{const S=y[0],E=S.getMeta("uiEvent")==="paste"&&!s,T=S.getMeta("uiEvent")==="drop"&&!o,A=S.getMeta("applyPasteRules"),_=!!A;if(!E&&!T&&!_)return;if(_){let{text:H}=A;typeof H=="string"?H=H:H=og(J.from(H),v.schema);const{from:q}=A,P=q+H.length,K=L2(H);return d({rule:m,state:v,from:q,to:{b:P},pasteEvt:K})}const j=b.doc.content.findDiffStart(v.doc.content),$=b.doc.content.findDiffEnd(v.doc.content);if(!(!O2(j)||!$||j===$.b))return d({rule:m,state:v,from:j,to:$,pasteEvt:u})}}))}var If=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=UE(t),this.schema=FD(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Zo(e.name,this.schema)},i=ce(e,"addCommands",n);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this;return fa([...this.extensions].reverse()).flatMap(i=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:Zo(i.name,this.schema)},o=[],u=ce(i,"addKeyboardShortcuts",s);let c={};if(i.type==="mark"&&ce(i,"exitable",s)&&(c.ArrowRight=()=>Yi.handleExit({editor:t,mark:i})),u){const b=Object.fromEntries(Object.entries(u()).map(([v,S])=>[v,()=>S({editor:t})]));c={...c,...b}}const d=JR(c);o.push(d);const h=ce(i,"addInputRules",s);if(Xx(i,t.options.enableInputRules)&&h){const b=h();if(b&&b.length){const v=k2({editor:t,rules:b}),S=Array.isArray(v)?v:[v];o.push(...S)}}const m=ce(i,"addPasteRules",s);if(Xx(i,t.options.enablePasteRules)&&m){const b=m();if(b&&b.length){const v=z2({editor:t,rules:b});o.push(...v)}}const y=ce(i,"addProseMirrorPlugins",s);if(y){const b=y();o.push(...b)}return o})}get attributes(){return HE(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Hs(this.extensions);return Object.fromEntries(e.filter(n=>!!ce(n,"addNodeView")).map(n=>{const i=this.attributes.filter(d=>d.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:St(n.name,this.schema)},o=ce(n,"addNodeView",s);if(!o)return[];const u=o();if(!u)return[];const c=(d,h,m,y,b)=>{const v=wa(d,i);return u({node:d,view:h,getPos:m,decorations:y,innerDecorations:b,editor:t,extension:n,HTMLAttributes:v})};return[n.name,c]}))}dispatchTransaction(t){const{editor:e}=this;return fa([...this.extensions].reverse()).reduceRight((i,s)=>{const o={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:Zo(s.name,this.schema)},u=ce(s,"dispatchTransaction",o);return u?c=>{u.call(o,{transaction:c,next:i})}:i},t)}transformPastedHTML(t){const{editor:e}=this;return fa([...this.extensions]).reduce((i,s)=>{const o={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:Zo(s.name,this.schema)},u=ce(s,"transformPastedHTML",o);return u?(c,d)=>{const h=i(c,d);return u.call(o,h)}:i},t||(i=>i))}get markViews(){const{editor:t}=this,{markExtensions:e}=Hs(this.extensions);return Object.fromEntries(e.filter(n=>!!ce(n,"addMarkView")).map(n=>{const i=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Wr(n.name,this.schema)},o=ce(n,"addMarkView",s);if(!o)return[];const u=(c,d,h)=>{const m=wa(c,i);return o()({mark:c,view:d,inline:h,editor:t,extension:n,HTMLAttributes:m,updateAttributes:y=>{J2(c,t,y)}})};return[n.name,u]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const i={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Zo(e.name,this.schema)};e.type==="mark"&&((n=Ve(ce(e,"keepOnSplit",i)))==null||n)&&this.splittableMarks.push(e.name);const s=ce(e,"onBeforeCreate",i),o=ce(e,"onCreate",i),u=ce(e,"onUpdate",i),c=ce(e,"onSelectionUpdate",i),d=ce(e,"onTransaction",i),h=ce(e,"onFocus",i),m=ce(e,"onBlur",i),y=ce(e,"onDestroy",i);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),u&&this.editor.on("update",u),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}};If.resolve=UE;If.sort=fa;If.flatten=sg;var j2={};rg(j2,{ClipboardTextSerializer:()=>XE,Commands:()=>QE,Delete:()=>WE,Drop:()=>ZE,Editable:()=>eT,FocusEvents:()=>nT,Keymap:()=>rT,Paste:()=>iT,Tabindex:()=>lT,TextDirection:()=>sT,focusEventsPluginKey:()=>tT});var Fe=class JE extends ug{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new JE(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},XE=Fe.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new it({key:new Ct("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:s}=e,{ranges:o}=s,u=Math.min(...o.map(m=>m.$from.pos)),c=Math.max(...o.map(m=>m.$to.pos)),d=PE(n);return IE(i,{from:u,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),QE=Fe.create({name:"commands",addCommands(){return{...NE}}}),WE=Fe.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,i,s;const o=()=>{var u,c,d,h;if((h=(d=(c=(u=this.editor.options.coreExtensionOptions)==null?void 0:u.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,t))!=null?h:t.getMeta("y-sync$"))return;const m=jE(t.before,[t,...e]);qE(m).forEach(v=>{m.mapping.mapResult(v.oldRange.from).deletedAfter&&m.mapping.mapResult(v.oldRange.to).deletedBefore&&m.before.nodesBetween(v.oldRange.from,v.oldRange.to,(S,E)=>{const T=E+S.nodeSize-2,A=v.oldRange.from<=E&&T<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:E,to:T,newFrom:m.mapping.map(E),newTo:m.mapping.map(T),deletedRange:v.oldRange,newRange:v.newRange,partial:!A,editor:this.editor,transaction:t,combinedTransform:m})})});const b=m.mapping;m.steps.forEach((v,S)=>{var E,T;if(v instanceof Wn){const A=b.slice(S).map(v.from,-1),_=b.slice(S).map(v.to),j=b.invert().map(A,-1),$=b.invert().map(_),H=(E=m.doc.nodeAt(A-1))==null?void 0:E.marks.some(P=>P.eq(v.mark)),q=(T=m.doc.nodeAt(_))==null?void 0:T.marks.some(P=>P.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:j,to:$},newRange:{from:A,to:_},partial:!!(q||H),editor:this.editor,transaction:t,combinedTransform:m})}})};(s=(i=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:i.async)==null||s?setTimeout(o,0):o()}}),ZE=Fe.create({name:"drop",addProseMirrorPlugins(){return[new it({key:new Ct("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),eT=Fe.create({name:"editable",addProseMirrorPlugins(){return[new it({key:new Ct("editable"),props:{editable:()=>this.editor.options.editable}})]}}),tT=new Ct("focusEvents"),nT=Fe.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new it({key:tT,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),rT=Fe.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:c})=>{const{selection:d,doc:h}=c,{empty:m,$anchor:y}=d,{pos:b,parent:v}=y,S=y.parent.isTextblock&&b>0?c.doc.resolve(b-1):y,E=S.parent.type.spec.isolating,T=y.pos-y.parentOffset,A=E&&S.parent.childCount===1?T===y.pos:Me.atStart(h).from===b;return!m||!v.type.isTextblock||v.textContent.length||!A||A&&y.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},o={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Fc()||LE()?o:s},addProseMirrorPlugins(){return[new it({key:new Ct("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const i=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),s=t.some(E=>E.getMeta("preventClearDocument"));if(!i||s)return;const{empty:o,from:u,to:c}=e.selection,d=Me.atStart(e.doc).from,h=Me.atEnd(e.doc).to;if(o||!(u===d&&c===h)||!Hf(n.doc))return;const b=n.tr,v=Lf({state:n,transaction:b}),{commands:S}=new zf({editor:this.editor,state:v});if(S.clearNodes(),!!b.steps.length)return b}})]}}),iT=Fe.create({name:"paste",addProseMirrorPlugins(){return[new it({key:new Ct("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),lT=Fe.create({name:"tabindex",addProseMirrorPlugins(){return[new it({key:new Ct("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),sT=Fe.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Hs(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new it({key:new Ct("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),B2=class la{constructor(e,n,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new la(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new la(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new la(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const s=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,u=n.isInline,c=this.pos+i+(o?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(c);if(!s&&!u&&d.depth<=this.depth)return;const h=new la(d,this.editor,s,s||u?n:null);s&&(h.actualDepth=this.depth+1),e.push(h)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===e)if(Object.keys(n).length>0){const o=s.node.attrs,u=Object.keys(n);for(let c=0;c<u.length;c+=1){const d=u[c];if(o[d]!==n[d])break}}else i=s;s=s.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(n);return this.children.forEach(u=>{i&&s.length>0||(u.node.type.name===e&&o.every(d=>n[d]===u.node.attrs[d])&&s.push(u),!(i&&s.length>0)&&(s=s.concat(u.querySelectorAll(e,n,i))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},H2=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function U2(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var I2=class extends A2{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:r2,createMappablePosition:i2},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:s,moved:o})=>this.options.onDrop(i,s,o)),this.on("paste",({event:i,slice:s})=>this.options.onPaste(i,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=DE(e,this.options.autofocus);this.editorState=ks.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=U2(H2,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=BE(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=n.filter(u=>!u.key.startsWith(o))}),e.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var t,e;const i=[...this.options.enableCoreExtensions?[eT,XE.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),QE,nT,rT,lT,ZE,iT,WE,sT.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new If(i,this)}createCommandManager(){this.commandManager=new zf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=ym(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=ym(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,i=e.dispatchTransaction||this.dispatchTransaction.bind(this),s=n?this.extensionManager.dispatchTransaction(i):i,o=e.transformPastedHTML,u=this.extensionManager.transformPastedHTML(o);this.editorView=new wE(t,{...e,attributes:{role:"textbox",...e==null?void 0:e.attributes},dispatchTransaction:s,transformPastedHTML:u,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const c=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(c),this.prependClass(),this.injectCSS();const d=this.view.dom;d.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),i=!this.state.selection.eq(e.selection),s=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const u=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),c=u==null?void 0:u.getMeta("focus"),d=u==null?void 0:u.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:u}),d&&this.emit("blur",{editor:this,event:d.event,transaction:u}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return VE(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,i=typeof t=="string"?e:t;return e2(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return og(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return KD(this.state.doc,{blockSeparator:e,textSerializers:{...PE(this.schema),...n}})}get isEmpty(){return Hf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new B2(e,this)}get $doc(){return this.$pos(0)}};function Us(t){return new Uf({find:t.find,handler:({state:e,range:n,match:i})=>{const s=Ve(t.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:o}=e,u=i[i.length-1],c=i[0];if(u){const d=c.search(/\S/),h=n.from+c.indexOf(u),m=h+u.length;if(ag(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(E=>E===t.type&&E!==v.mark.type)).filter(v=>v.to>h).length)return null;m<n.to&&o.delete(m,n.to),h>n.from&&o.delete(n.from+d,h);const b=n.from+d+u.length;o.addMark(n.from+d,b,t.type.create(s||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function P2(t){return new Uf({find:t.find,handler:({state:e,range:n,match:i})=>{const s=Ve(t.getAttributes,void 0,i)||{},{tr:o}=e,u=n.from;let c=n.to;const d=t.type.create(s);if(i[1]){const h=i[0].lastIndexOf(i[1]);let m=u+h;m>c?m=c:c=m+i[1].length;const y=i[0][i[0].length-1];o.insertText(y,u+i[0].length-1),o.replaceWith(m,c,d)}else if(i[0]){const h=t.type.isInline?u:u-1;o.insert(h,t.type.create(s)).delete(o.mapping.map(u),o.mapping.map(c))}o.scrollIntoView()},undoable:t.undoable})}function vm(t){return new Uf({find:t.find,handler:({state:e,range:n,match:i})=>{const s=e.doc.resolve(n.from),o=Ve(t.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function Is(t){return new Uf({find:t.find,handler:({state:e,range:n,match:i,chain:s})=>{const o=Ve(t.getAttributes,void 0,i)||{},u=e.tr.delete(n.from,n.to),d=u.doc.resolve(n.from).blockRange(),h=d&&Pm(d,t.type,o);if(!h)return null;if(u.wrap(d,h),t.keepMarks&&t.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:v}=t.editor.extensionManager,S=b||y.$to.parentOffset&&y.$from.marks();if(S){const E=S.filter(T=>v.includes(T.type.name));u.ensureMarks(E)}}if(t.keepAttributes){const y=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(y,o).run()}const m=u.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&$i(u.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,m))&&u.join(n.from-1)},undoable:t.undoable})}function V2(t,e){const{selection:n}=t,{$from:i}=n;if(n instanceof pe){const o=i.index();return i.parent.canReplaceWith(o,o+1,e)}let s=i.depth;for(;s>=0;){const o=i.index(s);if(i.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}var q2={};rg(q2,{createAtomBlockMarkdownSpec:()=>G2,createBlockMarkdownSpec:()=>$2,createInlineMarkdownSpec:()=>K2,parseAttributes:()=>cg,parseIndentedBlocks:()=>xm,renderNestedMarkdownContent:()=>dg,serializeAttributes:()=>fg});function cg(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],i=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),s=i.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(m=>m.trim().slice(1));e.class=h.join(" ")}const o=i.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const u=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(i.matchAll(u)).forEach(([,h,m])=>{var y;const b=parseInt(((y=m.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),v=n[b];v&&(e[h]=v.slice(1,-1))});const d=i.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function fg(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(i=>e.push(`.${i}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,i])=>{n==="class"||n==="id"||(i===!0?e.push(n):i!==!1&&i!=null&&e.push(`${n}="${String(i)}"`))}),e.join(" ")}function G2(t){const{nodeName:e,name:n,parseAttributes:i=cg,serializeAttributes:s=fg,defaultAttributes:o={},requiredAttributes:u=[],allowedAttributes:c}=t,d=n||e,h=m=>{if(!c)return m;const y={};return c.forEach(b=>{b in m&&(y[b]=m[b])}),y};return{parseMarkdown:(m,y)=>{const b={...o,...m.attributes};return y.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(m){var y;const b=new RegExp(`^:::${d}(?:\\s|$)`,"m"),v=(y=m.match(b))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(m,y,b){const v=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),S=m.match(v);if(!S)return;const E=S[1]||"",T=i(E);if(!u.find(_=>!(_ in T)))return{type:e,raw:S[0],attributes:T}}},renderMarkdown:m=>{const y=h(m.attrs||{}),b=s(y),v=b?` {${b}}`:"";return`:::${d}${v} :::`}}}function $2(t){const{nodeName:e,name:n,getContent:i,parseAttributes:s=cg,serializeAttributes:o=fg,defaultAttributes:u={},content:c="block",allowedAttributes:d}=t,h=n||e,m=y=>{if(!d)return y;const b={};return d.forEach(v=>{v in y&&(b[v]=y[v])}),b};return{parseMarkdown:(y,b)=>{let v;if(i){const E=i(y);v=typeof E=="string"?[{type:"text",text:E}]:E}else c==="block"?v=b.parseChildren(y.tokens||[]):v=b.parseInline(y.tokens||[]);const S={...u,...y.attributes};return b.createNode(e,S,v)},markdownTokenizer:{name:e,level:"block",start(y){var b;const v=new RegExp(`^:::${h}`,"m"),S=(b=y.match(v))==null?void 0:b.index;return S!==void 0?S:-1},tokenize(y,b,v){var S;const E=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),T=y.match(E);if(!T)return;const[A,_=""]=T,j=s(_);let $=1;const H=A.length;let q="";const P=/^:::([\w-]*)(\s.*)?/gm,K=y.slice(H);for(P.lastIndex=0;;){const X=P.exec(K);if(X===null)break;const fe=X.index,oe=X[1];if(!((S=X[2])!=null&&S.endsWith(":::"))){if(oe)$+=1;else if($-=1,$===0){const Te=K.slice(0,fe);q=Te.trim();const te=y.slice(0,H+fe+X[0].length);let de=[];if(q)if(c==="block")for(de=v.blockTokens(Te),de.forEach(Se=>{Se.text&&(!Se.tokens||Se.tokens.length===0)&&(Se.tokens=v.inlineTokens(Se.text))});de.length>0;){const Se=de[de.length-1];if(Se.type==="paragraph"&&(!Se.text||Se.text.trim()===""))de.pop();else break}else de=v.inlineTokens(q);return{type:e,raw:te,attributes:j,content:q,tokens:de}}}}}},renderMarkdown:(y,b)=>{const v=m(y.attrs||{}),S=o(v),E=S?` {${S}}`:"",T=b.renderChildren(y.content||[],`

`);return`:::${h}${E}

${T}

:::`}}}function F2(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let i=n.exec(t);for(;i!==null;){const[,s,o,u]=i;e[s]=o||u,i=n.exec(t)}return e}function Y2(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function K2(t){const{nodeName:e,name:n,getContent:i,parseAttributes:s=F2,serializeAttributes:o=Y2,defaultAttributes:u={},selfClosing:c=!1,allowedAttributes:d}=t,h=n||e,m=b=>{if(!d)return b;const v={};return d.forEach(S=>{const E=typeof S=="string"?S:S.name,T=typeof S=="string"?void 0:S.skipIfDefault;if(E in b){const A=b[E];if(T!==void 0&&A===T)return;v[E]=A}}),v},y=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,v)=>{const S={...u,...b.attributes};if(c)return v.createNode(e,S);const E=i?i(b):b.content||"";return E?v.createNode(e,S,[v.createTextNode(E)]):v.createNode(e,S,[])},markdownTokenizer:{name:e,level:"inline",start(b){const v=c?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),S=b.match(v),E=S==null?void 0:S.index;return E!==void 0?E:-1},tokenize(b,v,S){const E=c?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),T=b.match(E);if(!T)return;let A="",_="";if(c){const[,$]=T;_=$}else{const[,$,H]=T;_=$,A=H||""}const j=s(_.trim());return{type:e,raw:T[0],content:A.trim(),attributes:j}}},renderMarkdown:b=>{let v="";i?v=i(b):b.content&&b.content.length>0&&(v=b.content.filter(A=>A.type==="text").map(A=>A.text).join(""));const S=m(b.attrs||{}),E=o(S),T=E?` ${E}`:"";return c?`[${h}${T}]`:`[${h}${T}]${v}[/${h}]`}}}function xm(t,e,n){var i,s,o,u;const c=t.split(`
`),d=[];let h="",m=0;const y=e.baseIndentSize||2;for(;m<c.length;){const b=c[m],v=b.match(e.itemPattern);if(!v){if(d.length>0)break;if(b.trim()===""){m+=1,h=`${h}${b}
`;continue}else return}const S=e.extractItemData(v),{indentLevel:E,mainContent:T}=S;h=`${h}${b}
`;const A=[T];for(m+=1;m<c.length;){const H=c[m];if(H.trim()===""){const P=c.slice(m+1).findIndex(fe=>fe.trim()!=="");if(P===-1)break;if((((s=(i=c[m+1+P].match(/^(\s*)/))==null?void 0:i[1])==null?void 0:s.length)||0)>E){A.push(H),h=`${h}${H}
`,m+=1;continue}else break}if((((u=(o=H.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:u.length)||0)>E)A.push(H),h=`${h}${H}
`,m+=1;else break}let _;const j=A.slice(1);if(j.length>0){const H=j.map(q=>q.slice(E+y)).join(`
`);H.trim()&&(e.customNestedParser?_=e.customNestedParser(H):_=n.blockTokens(H))}const $=e.createToken(S,_);d.push($)}if(d.length!==0)return{items:d,raw:h}}function dg(t,e,n,i){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(i):n,[o,...u]=t.content,c=e.renderChildren([o]),d=[`${s}${c}`];return u&&u.length>0&&u.forEach(h=>{const m=e.renderChildren([h]);if(m){const y=m.split(`
`).map(b=>b?e.indent(b):"").join(`
`);d.push(y)}}),d.join(`
`)}function J2(t,e,n={}){const{state:i}=e,{doc:s,tr:o}=i,u=t;s.descendants((c,d)=>{const h=o.mapping.map(d),m=o.mapping.map(d)+c.nodeSize;let y=null;if(c.marks.forEach(v=>{if(v!==u)return!1;y=v}),!y)return;let b=!1;if(Object.keys(n).forEach(v=>{n[v]!==y.attrs[v]&&(b=!0)}),b){const v=t.type.create({...t.attrs,...n});o.removeMark(h,m,t.type),o.addMark(h,m,v)}}),o.docChanged&&e.view.dispatch(o)}var En=class oT extends ug{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new oT(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Rl(t){return new R2({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:s})=>{const o=Ve(t.getAttributes,void 0,i,s);if(o===!1||o===null)return null;const{tr:u}=e,c=i[i.length-1],d=i[0];let h=n.to;if(c){const m=d.search(/\S/),y=n.from+d.indexOf(c),b=y+c.length;if(ag(n.from,n.to,e.doc).filter(S=>S.mark.type.excluded.find(T=>T===t.type&&T!==S.mark.type)).filter(S=>S.to>y).length)return null;b<n.to&&u.delete(b,n.to),y>n.from&&u.delete(n.from+m,y),h=n.from+m+c.length,u.addMark(n.from+m,h,t.type.create(o||{})),u.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:X2,getOwnPropertySymbols:Q2}=Object,{hasOwnProperty:W2}=Object.prototype;function zp(t,e){return function(i,s,o){return t(i,s,o)&&e(i,s,o)}}function yc(t){return function(n,i,s){if(!n||!i||typeof n!="object"||typeof i!="object")return t(n,i,s);const{cache:o}=s,u=o.get(n),c=o.get(i);if(u&&c)return u===i&&c===n;o.set(n,i),o.set(i,n);const d=t(n,i,s);return o.delete(n),o.delete(i),d}}function Z2(t){return t!=null?t[Symbol.toStringTag]:void 0}function Zx(t){return X2(t).concat(Q2(t))}const e_=Object.hasOwn||((t,e)=>W2.call(t,e));function jl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const t_="__v",n_="__o",r_="_owner",{getOwnPropertyDescriptor:e1,keys:t1}=Object;function i_(t,e){return t.byteLength===e.byteLength&&Yc(new Uint8Array(t),new Uint8Array(e))}function l_(t,e,n){let i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n.equals(t[i],e[i],i,i,t,e,n))return!1;return!0}function s_(t,e){return t.byteLength===e.byteLength&&Yc(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function o_(t,e){return jl(t.getTime(),e.getTime())}function a_(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function u_(t,e){return t===e}function n1(t,e,n){const i=t.size;if(i!==e.size)return!1;if(!i)return!0;const s=new Array(i),o=t.entries();let u,c,d=0;for(;(u=o.next())&&!u.done;){const h=e.entries();let m=!1,y=0;for(;(c=h.next())&&!c.done;){if(s[y]){y++;continue}const b=u.value,v=c.value;if(n.equals(b[0],v[0],d,y,t,e,n)&&n.equals(b[1],v[1],b[0],v[0],t,e,n)){m=s[y]=!0;break}y++}if(!m)return!1;d++}return!0}const c_=jl;function f_(t,e,n){const i=t1(t);let s=i.length;if(t1(e).length!==s)return!1;for(;s-- >0;)if(!aT(t,e,n,i[s]))return!1;return!0}function ea(t,e,n){const i=Zx(t);let s=i.length;if(Zx(e).length!==s)return!1;let o,u,c;for(;s-- >0;)if(o=i[s],!aT(t,e,n,o)||(u=e1(t,o),c=e1(e,o),(u||c)&&(!u||!c||u.configurable!==c.configurable||u.enumerable!==c.enumerable||u.writable!==c.writable)))return!1;return!0}function d_(t,e){return jl(t.valueOf(),e.valueOf())}function h_(t,e){return t.source===e.source&&t.flags===e.flags}function r1(t,e,n){const i=t.size;if(i!==e.size)return!1;if(!i)return!0;const s=new Array(i),o=t.values();let u,c;for(;(u=o.next())&&!u.done;){const d=e.values();let h=!1,m=0;for(;(c=d.next())&&!c.done;){if(!s[m]&&n.equals(u.value,c.value,u.value,c.value,t,e,n)){h=s[m]=!0;break}m++}if(!h)return!1}return!0}function Yc(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function p_(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function aT(t,e,n,i){return(i===r_||i===n_||i===t_)&&(t.$$typeof||e.$$typeof)?!0:e_(e,i)&&n.equals(t[i],e[i],i,i,t,e,n)}const m_="[object ArrayBuffer]",g_="[object Arguments]",y_="[object Boolean]",b_="[object DataView]",v_="[object Date]",x_="[object Error]",S_="[object Map]",E_="[object Number]",T_="[object Object]",C_="[object RegExp]",M_="[object Set]",A_="[object String]",w_={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},k_="[object URL]",N_=Object.prototype.toString;function O_({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:i,areErrorsEqual:s,areFunctionsEqual:o,areMapsEqual:u,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:m,areSetsEqual:y,areTypedArraysEqual:b,areUrlsEqual:v,unknownTagComparators:S}){return function(T,A,_){if(T===A)return!0;if(T==null||A==null)return!1;const j=typeof T;if(j!==typeof A)return!1;if(j!=="object")return j==="number"?c(T,A,_):j==="function"?o(T,A,_):!1;const $=T.constructor;if($!==A.constructor)return!1;if($===Object)return d(T,A,_);if(Array.isArray(T))return e(T,A,_);if($===Date)return i(T,A,_);if($===RegExp)return m(T,A,_);if($===Map)return u(T,A,_);if($===Set)return y(T,A,_);const H=N_.call(T);if(H===v_)return i(T,A,_);if(H===C_)return m(T,A,_);if(H===S_)return u(T,A,_);if(H===M_)return y(T,A,_);if(H===T_)return typeof T.then!="function"&&typeof A.then!="function"&&d(T,A,_);if(H===k_)return v(T,A,_);if(H===x_)return s(T,A,_);if(H===g_)return d(T,A,_);if(w_[H])return b(T,A,_);if(H===m_)return t(T,A,_);if(H===b_)return n(T,A,_);if(H===y_||H===E_||H===A_)return h(T,A,_);if(S){let q=S[H];if(!q){const P=Z2(T);P&&(q=S[P])}if(q)return q(T,A,_)}return!1}}function R_({circular:t,createCustomConfig:e,strict:n}){let i={areArrayBuffersEqual:i_,areArraysEqual:n?ea:l_,areDataViewsEqual:s_,areDatesEqual:o_,areErrorsEqual:a_,areFunctionsEqual:u_,areMapsEqual:n?zp(n1,ea):n1,areNumbersEqual:c_,areObjectsEqual:n?ea:f_,arePrimitiveWrappersEqual:d_,areRegExpsEqual:h_,areSetsEqual:n?zp(r1,ea):r1,areTypedArraysEqual:n?zp(Yc,ea):Yc,areUrlsEqual:p_,unknownTagComparators:void 0};if(e&&(i=Object.assign({},i,e(i))),t){const s=yc(i.areArraysEqual),o=yc(i.areMapsEqual),u=yc(i.areObjectsEqual),c=yc(i.areSetsEqual);i=Object.assign({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:c})}return i}function D_(t){return function(e,n,i,s,o,u,c){return t(e,n,c)}}function __({circular:t,comparator:e,createState:n,equals:i,strict:s}){if(n)return function(c,d){const{cache:h=t?new WeakMap:void 0,meta:m}=n();return e(c,d,{cache:h,equals:i,meta:m,strict:s})};if(t)return function(c,d){return e(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};const o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,d){return e(c,d,o)}}const L_=Ki();Ki({strict:!0});Ki({circular:!0});Ki({circular:!0,strict:!0});Ki({createInternalComparator:()=>jl});Ki({strict:!0,createInternalComparator:()=>jl});Ki({circular:!0,createInternalComparator:()=>jl});Ki({circular:!0,createInternalComparator:()=>jl,strict:!0});function Ki(t={}){const{circular:e=!1,createInternalComparator:n,createState:i,strict:s=!1}=t,o=R_(t),u=O_(o),c=n?n(u):D_(u);return __({circular:e,comparator:u,createState:i,equals:c,strict:s})}var jp={exports:{}},Bp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function z_(){if(i1)return Bp;i1=1;var t=Oa(),e=Z1();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,u=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Bp.useSyncExternalStoreWithSelector=function(h,m,y,b,v){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=c(function(){function A(q){if(!_){if(_=!0,j=q,q=b(q),v!==void 0&&E.hasValue){var P=E.value;if(v(P,q))return $=P}return $=q}if(P=$,i(j,q))return P;var K=b(q);return v!==void 0&&v(P,K)?(j=q,P):(j=q,$=K)}var _=!1,j,$,H=y===void 0?null:y;return[function(){return A(m())},H===null?void 0:function(){return A(H())}]},[m,y,b,v]);var T=s(h,S[0],S[1]);return u(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},Bp}var l1;function j_(){return l1||(l1=1,jp.exports=z_()),jp.exports}var B_=j_(),H_=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},U_=({contentComponent:t})=>{const e=eS.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return M.jsx(M.Fragment,{children:Object.values(e)})};function I_(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:Iw.createPortal(i.reactElement,i.element,n)},t.forEach(s=>s())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(s=>s())}}}var P_=class extends un.Component{constructor(t){var e;super(t),this.editorContentRef=un.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=I_(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return M.jsxs(M.Fragment,{children:[M.jsx("div",{ref:H_(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&M.jsx(U_,{contentComponent:t.contentComponent})]})}},V_=R.forwardRef((t,e)=>{const n=un.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return un.createElement(P_,{key:n,innerRef:e,...t})}),uT=un.memo(V_),q_=typeof window<"u"?R.useLayoutEffect:R.useEffect,G_=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function $_(t){var e;const[n]=R.useState(()=>new G_(t.editor)),i=B_.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:L_);return q_(()=>n.watch(t.editor),[t.editor,n]),R.useDebugValue(i),i}var F_=!1,Sm=typeof window>"u",Y_=Sm||!!(typeof window<"u"&&window.next),K_=class cT{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Sm||Y_?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...i)},onBlur:(...i)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...i)},onCreate:(...i)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...i)},onDestroy:(...i)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...i)},onFocus:(...i)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...i)},onSelectionUpdate:(...i)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...i)},onTransaction:(...i)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...i)},onUpdate:(...i)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...i)},onContentError:(...i)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...i)},onDrop:(...i)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...i)},onPaste:(...i)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...i)},onDelete:(...i)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...i)}};return new I2(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,o)=>{var u;return s===((u=n.extensions)==null?void 0:u[o])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?cT.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,s)=>i===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function J_(t={},e=[]){const n=R.useRef(t);n.current=t;const[i]=R.useState(()=>new K_(n)),s=eS.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return R.useDebugValue(s),R.useEffect(i.onRender(e)),$_({editor:s,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),s}var fT=R.createContext({editor:null});fT.Consumer;var X_=R.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Q_=()=>R.useContext(X_);un.forwardRef((t,e)=>{const{onDragStart:n}=Q_(),i=t.as||"div";return M.jsx(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});un.createContext({markViewContentRef:()=>{}});var hg=R.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});hg.displayName="TiptapContext";var W_=()=>R.useContext(hg);function dT({editor:t,instance:e,children:n}){const i=t??e;if(!i)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const s=R.useMemo(()=>({editor:i}),[i]),o=R.useMemo(()=>({editor:i}),[i]);return M.jsx(fT.Provider,{value:o,children:M.jsx(hg.Provider,{value:s,children:n})})}dT.displayName="Tiptap";function hT({...t}){const{editor:e}=W_();return M.jsx(uT,{editor:e,...t})}hT.displayName="Tiptap.Content";Object.assign(dT,{Content:hT});var Kc=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...i}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,i,n]},Z_=/^\s*>\s$/,eL=En.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Kc("blockquote",{...ht(this.options.HTMLAttributes,t),children:Kc("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",i=[];return t.content.forEach(s=>{const c=e.renderChildren([s]).split(`
`).map(d=>d.trim()===""?n:`${n} ${d}`);i.push(c.join(`
`))}),i.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Is({find:Z_,type:this.type})]}}),tL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,nL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,rL=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,iL=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,lL=Yi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Kc("strong",{...ht(this.options.HTMLAttributes,t),children:Kc("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Us({find:tL,type:this.type}),Us({find:rL,type:this.type})]},addPasteRules(){return[Rl({find:nL,type:this.type}),Rl({find:iL,type:this.type})]}}),sL=/(^|[^`])`([^`]+)`(?!`)$/,oL=/(^|[^`])`([^`]+)`(?!`)/g,aL=Yi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Us({find:sL,type:this.type})]},addPasteRules(){return[Rl({find:oL,type:this.type})]}}),Hp=4,uL=/^```([a-z]+)?[\s\n]$/,cL=/^~~~([a-z]+)?[\s\n]$/,fL=En.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Hp,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(u=>u.startsWith(n)).map(u=>u.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ht(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let i="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?i=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):i=`\`\`\`${s}

\`\`\``,i},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Hp,{state:i}=t,{selection:s}=i,{$from:o,empty:u}=s;if(o.parent.type!==this.type)return!1;const c=" ".repeat(n);return u?t.commands.insertContent(c):t.commands.command(({tr:d})=>{const{from:h,to:m}=s,v=i.doc.textBetween(h,m,`
`,`
`).split(`
`).map(S=>c+S).join(`
`);return d.replaceWith(h,m,i.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Hp,{state:i}=t,{selection:s}=i,{$from:o,empty:u}=s;return o.parent.type!==this.type?!1:u?t.commands.command(({tr:c})=>{var d;const{pos:h}=o,m=o.start(),y=o.end(),v=i.doc.textBetween(m,y,`
`,`
`).split(`
`);let S=0,E=0;const T=h-m;for(let q=0;q<v.length;q+=1){if(E+v[q].length>=T){S=q;break}E+=v[q].length+1}const _=((d=v[S].match(/^ */))==null?void 0:d[0])||"",j=Math.min(_.length,n);if(j===0)return!0;let $=m;for(let q=0;q<S;q+=1)$+=v[q].length+1;return c.delete($,$+j),h-$<=j&&c.setSelection(ye.create(c.doc,$)),!0}):t.commands.command(({tr:c})=>{const{from:d,to:h}=s,b=i.doc.textBetween(d,h,`
`,`
`).split(`
`).map(v=>{var S;const E=((S=v.match(/^ */))==null?void 0:S[0])||"",T=Math.min(E.length,n);return v.slice(T)}).join(`
`);return c.replaceWith(d,h,i.schema.text(b)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type)return!1;const o=i.parentOffset===i.parent.nodeSize-2,u=i.parent.textContent.endsWith(`

`);return!o||!u?!1:t.chain().command(({tr:c})=>(c.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:i.nodeAt(c)?t.commands.command(({tr:h})=>(h.setSelection(Me.near(i.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[vm({find:uL,type:this.type,getAttributes:t=>({language:t[1]})}),vm({find:cL,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new it({key:new Ct("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,o=s==null?void 0:s.mode;if(!n||!o)return!1;const{tr:u,schema:c}=t.state,d=c.text(n.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:o},d)),u.selection.$from.parent.type!==this.type&&u.setSelection(ye.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),t.dispatch(u),!0}}})]}}),dL=En.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),hL=En.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ht(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:o}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:c}=i.extensionManager,d=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&u){const y=d.filter(b=>c.includes(b.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),pL=En.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ht(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const i=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(i);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>vm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),mL=En.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ht(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!V2(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:i}=n,s=t();return GE(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:o,tr:u,dispatch:c})=>{if(c){const{$to:d}=u.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?u.setSelection(ye.create(u.doc,d.pos+1)):d.nodeAfter.isBlock?u.setSelection(pe.create(u.doc,d.pos)):u.setSelection(ye.create(u.doc,d.pos));else{const m=o.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,y=m==null?void 0:m.create();y&&(u.insert(h,y),u.setSelection(ye.create(u.doc,h+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[P2({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),gL=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,yL=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,bL=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,vL=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,xL=Yi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ht(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Us({find:gL,type:this.type}),Us({find:bL,type:this.type})]},addPasteRules(){return[Rl({find:yL,type:this.type}),Rl({find:vL,type:this.type})]}});const SL="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",EL="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Em="numeric",Tm="ascii",Cm="alpha",da="asciinumeric",sa="alphanumeric",Mm="domain",pT="emoji",TL="scheme",CL="slashscheme",Up="whitespace";function ML(t,e){return t in e||(e[t]=[]),e[t]}function Sl(t,e,n){e[Em]&&(e[da]=!0,e[sa]=!0),e[Tm]&&(e[da]=!0,e[Cm]=!0),e[da]&&(e[sa]=!0),e[Cm]&&(e[sa]=!0),e[sa]&&(e[Mm]=!0),e[pT]&&(e[Mm]=!0);for(const i in e){const s=ML(i,n);s.indexOf(t)<0&&s.push(t)}}function AL(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function an(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}an.groups={};an.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const s=e.jr[i][0],o=e.jr[i][1];if(o&&s.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,i)},tr(t,e,n,i){i=i||an.groups;let s;return e&&e.j?s=e:(s=new an(e),n&&i&&Sl(e,n,i)),this.jr.push([t,s]),s},ts(t,e,n,i){let s=this;const o=t.length;if(!o)return s;for(let u=0;u<o-1;u++)s=s.tt(t[u]);return s.tt(t[o-1],e,n,i)},tt(t,e,n,i){i=i||an.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const o=e;let u,c=s.go(t);if(c?(u=new an,Object.assign(u.j,c.j),u.jr.push.apply(u.jr,c.jr),u.jd=c.jd,u.t=c.t):u=new an,o){if(i)if(u.t&&typeof u.t=="string"){const d=Object.assign(AL(u.t,i),n);Sl(o,d,i)}else n&&Sl(o,n,i);u.t=o}return s.j[t]=u,u}};const Ce=(t,e,n,i,s)=>t.ta(e,n,i,s),at=(t,e,n,i,s)=>t.tr(e,n,i,s),s1=(t,e,n,i,s)=>t.ts(e,n,i,s),W=(t,e,n,i,s)=>t.tt(e,n,i,s),$r="WORD",Am="UWORD",mT="ASCIINUMERICAL",gT="ALPHANUMERICAL",ka="LOCALHOST",wm="TLD",km="UTLD",Nc="SCHEME",As="SLASH_SCHEME",pg="NUM",Nm="WS",mg="NL",ha="OPENBRACE",pa="CLOSEBRACE",Jc="OPENBRACKET",Xc="CLOSEBRACKET",Qc="OPENPAREN",Wc="CLOSEPAREN",Zc="OPENANGLEBRACKET",ef="CLOSEANGLEBRACKET",tf="FULLWIDTHLEFTPAREN",nf="FULLWIDTHRIGHTPAREN",rf="LEFTCORNERBRACKET",lf="RIGHTCORNERBRACKET",sf="LEFTWHITECORNERBRACKET",of="RIGHTWHITECORNERBRACKET",af="FULLWIDTHLESSTHAN",uf="FULLWIDTHGREATERTHAN",cf="AMPERSAND",ff="APOSTROPHE",df="ASTERISK",Ni="AT",hf="BACKSLASH",pf="BACKTICK",mf="CARET",Di="COLON",gg="COMMA",gf="DOLLAR",ar="DOT",yf="EQUALS",yg="EXCLAMATION",Bn="HYPHEN",ma="PERCENT",bf="PIPE",vf="PLUS",xf="POUND",ga="QUERY",bg="QUOTE",yT="FULLWIDTHMIDDLEDOT",vg="SEMI",ur="SLASH",ya="TILDE",Sf="UNDERSCORE",bT="EMOJI",Ef="SYM";var vT=Object.freeze({__proto__:null,ALPHANUMERICAL:gT,AMPERSAND:cf,APOSTROPHE:ff,ASCIINUMERICAL:mT,ASTERISK:df,AT:Ni,BACKSLASH:hf,BACKTICK:pf,CARET:mf,CLOSEANGLEBRACKET:ef,CLOSEBRACE:pa,CLOSEBRACKET:Xc,CLOSEPAREN:Wc,COLON:Di,COMMA:gg,DOLLAR:gf,DOT:ar,EMOJI:bT,EQUALS:yf,EXCLAMATION:yg,FULLWIDTHGREATERTHAN:uf,FULLWIDTHLEFTPAREN:tf,FULLWIDTHLESSTHAN:af,FULLWIDTHMIDDLEDOT:yT,FULLWIDTHRIGHTPAREN:nf,HYPHEN:Bn,LEFTCORNERBRACKET:rf,LEFTWHITECORNERBRACKET:sf,LOCALHOST:ka,NL:mg,NUM:pg,OPENANGLEBRACKET:Zc,OPENBRACE:ha,OPENBRACKET:Jc,OPENPAREN:Qc,PERCENT:ma,PIPE:bf,PLUS:vf,POUND:xf,QUERY:ga,QUOTE:bg,RIGHTCORNERBRACKET:lf,RIGHTWHITECORNERBRACKET:of,SCHEME:Nc,SEMI:vg,SLASH:ur,SLASH_SCHEME:As,SYM:Ef,TILDE:ya,TLD:wm,UNDERSCORE:Sf,UTLD:km,UWORD:Am,WORD:$r,WS:Nm});const qr=/[a-z]/,ta=new RegExp("\\p{L}","u"),Ip=new RegExp("\\p{Emoji}","u"),Gr=/\d/,Pp=/\s/,o1="\r",Vp=`
`,wL="",kL="",qp="";let bc=null,vc=null;function NL(t=[]){const e={};an.groups=e;const n=new an;bc==null&&(bc=a1(SL)),vc==null&&(vc=a1(EL)),W(n,"'",ff),W(n,"{",ha),W(n,"}",pa),W(n,"[",Jc),W(n,"]",Xc),W(n,"(",Qc),W(n,")",Wc),W(n,"<",Zc),W(n,">",ef),W(n,"",tf),W(n,"",nf),W(n,"",rf),W(n,"",lf),W(n,"",sf),W(n,"",of),W(n,"",af),W(n,"",uf),W(n,"&",cf),W(n,"*",df),W(n,"@",Ni),W(n,"`",pf),W(n,"^",mf),W(n,":",Di),W(n,",",gg),W(n,"$",gf),W(n,".",ar),W(n,"=",yf),W(n,"!",yg),W(n,"-",Bn),W(n,"%",ma),W(n,"|",bf),W(n,"+",vf),W(n,"#",xf),W(n,"?",ga),W(n,'"',bg),W(n,"/",ur),W(n,";",vg),W(n,"~",ya),W(n,"_",Sf),W(n,"\\",hf),W(n,"",yT);const i=at(n,Gr,pg,{[Em]:!0});at(i,Gr,i);const s=at(i,qr,mT,{[da]:!0}),o=at(i,ta,gT,{[sa]:!0}),u=at(n,qr,$r,{[Tm]:!0});at(u,Gr,s),at(u,qr,u),at(s,Gr,s),at(s,qr,s);const c=at(n,ta,Am,{[Cm]:!0});at(c,qr),at(c,Gr,o),at(c,ta,c),at(o,Gr,o),at(o,qr),at(o,ta,o);const d=W(n,Vp,mg,{[Up]:!0}),h=W(n,o1,Nm,{[Up]:!0}),m=at(n,Pp,Nm,{[Up]:!0});W(n,qp,m),W(h,Vp,d),W(h,qp,m),at(h,Pp,m),W(m,o1),W(m,Vp),at(m,Pp,m),W(m,qp,m);const y=at(n,Ip,bT,{[pT]:!0});W(y,"#"),at(y,Ip,y),W(y,wL,y);const b=W(y,kL);W(b,"#"),at(b,Ip,y);const v=[[qr,u],[Gr,s]],S=[[qr,null],[ta,c],[Gr,o]];for(let E=0;E<bc.length;E++)Ai(n,bc[E],wm,$r,v);for(let E=0;E<vc.length;E++)Ai(n,vc[E],km,Am,S);Sl(wm,{tld:!0,ascii:!0},e),Sl(km,{utld:!0,alpha:!0},e),Ai(n,"file",Nc,$r,v),Ai(n,"mailto",Nc,$r,v),Ai(n,"http",As,$r,v),Ai(n,"https",As,$r,v),Ai(n,"ftp",As,$r,v),Ai(n,"ftps",As,$r,v),Sl(Nc,{scheme:!0,ascii:!0},e),Sl(As,{slashscheme:!0,ascii:!0},e),t=t.sort((E,T)=>E[0]>T[0]?1:-1);for(let E=0;E<t.length;E++){const T=t[E][0],_=t[E][1]?{[TL]:!0}:{[CL]:!0};T.indexOf("-")>=0?_[Mm]=!0:qr.test(T)?Gr.test(T)?_[da]=!0:_[Tm]=!0:_[Em]=!0,s1(n,T,T,_)}return s1(n,"localhost",ka,{ascii:!0}),n.jd=new an(Ef),{start:n,tokens:Object.assign({groups:e},vT)}}function xT(t,e){const n=OL(e.replace(/[A-Z]/g,c=>c.toLowerCase())),i=n.length,s=[];let o=0,u=0;for(;u<i;){let c=t,d=null,h=0,m=null,y=-1,b=-1;for(;u<i&&(d=c.go(n[u]));)c=d,c.accepts()?(y=0,b=0,m=c):y>=0&&(y+=n[u].length,b++),h+=n[u].length,o+=n[u].length,u++;o-=y,u-=b,h-=y,s.push({t:m.t,v:e.slice(o-h,o),s:o-h,e:o})}return s}function OL(t){const e=[],n=t.length;let i=0;for(;i<n;){let s=t.charCodeAt(i),o,u=s<55296||s>56319||i+1===n||(o=t.charCodeAt(i+1))<56320||o>57343?t[i]:t.slice(i,i+2);e.push(u),i+=u.length}return e}function Ai(t,e,n,i,s){let o;const u=e.length;for(let c=0;c<u-1;c++){const d=e[c];t.j[d]?o=t.j[d]:(o=new an(i),o.jr=s.slice(),t.j[d]=o),t=o}return o=new an(n),o.jr=s.slice(),t.j[e[u-1]]=o,o}function a1(t){const e=[],n=[];let i=0,s="0123456789";for(;i<t.length;){let o=0;for(;s.indexOf(t[i+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let u=parseInt(t.substring(i,i+o),10);u>0;u--)n.pop();i+=o}else n.push(t[i]),i++}return e}const Na={defaultProtocol:"http",events:null,format:u1,formatHref:u1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function xg(t,e=null){let n=Object.assign({},Na);t&&(n=Object.assign(n,t instanceof xg?t.o:t));const i=n.ignoreTags,s=[];for(let o=0;o<i.length;o++)s.push(i[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}xg.prototype={o:Na,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Na[t],typeof s=="function"&&i&&(s=s(e,n))):typeof s=="function"&&i&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function u1(t){return t}function ST(t,e){this.t="token",this.v=t,this.tk=e}ST.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Na.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),s=t.get("tagName",n,e),o=this.toFormattedString(t),u={},c=t.get("className",n,e),d=t.get("target",n,e),h=t.get("rel",n,e),m=t.getObj("attributes",n,e),y=t.getObj("events",n,e);return u.href=i,c&&(u.class=c),d&&(u.target=d),h&&(u.rel=h),m&&Object.assign(u,m),{tagName:s,attributes:u,content:o,eventListeners:y}}};function Pf(t,e){class n extends ST{constructor(s,o){super(s,o),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const c1=Pf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),f1=Pf("text"),RL=Pf("nl"),xc=Pf("url",{isLink:!0,toHref(t=Na.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==ka&&t[1].t===Di}}),jn=t=>new an(t);function DL({groups:t}){const e=t.domain.concat([cf,df,Ni,hf,pf,mf,gf,yf,Bn,pg,ma,bf,vf,xf,ur,Ef,ya,Sf]),n=[ff,Di,gg,ar,yg,ma,ga,bg,vg,Zc,ef,ha,pa,Xc,Jc,Qc,Wc,tf,nf,rf,lf,sf,of,af,uf],i=[cf,ff,df,hf,pf,mf,gf,yf,Bn,ha,pa,ma,bf,vf,xf,ga,ur,Ef,ya,Sf],s=jn(),o=W(s,ya);Ce(o,i,o),Ce(o,t.domain,o);const u=jn(),c=jn(),d=jn();Ce(s,t.domain,u),Ce(s,t.scheme,c),Ce(s,t.slashscheme,d),Ce(u,i,o),Ce(u,t.domain,u);const h=W(u,Ni);W(o,Ni,h),W(c,Ni,h),W(d,Ni,h);const m=W(o,ar);Ce(m,i,o),Ce(m,t.domain,o);const y=jn();Ce(h,t.domain,y),Ce(y,t.domain,y);const b=W(y,ar);Ce(b,t.domain,y);const v=jn(c1);Ce(b,t.tld,v),Ce(b,t.utld,v),W(h,ka,v);const S=W(y,Bn);W(S,Bn,S),Ce(S,t.domain,y),Ce(v,t.domain,y),W(v,ar,b),W(v,Bn,S);const E=W(v,Di);Ce(E,t.numeric,c1);const T=W(u,Bn),A=W(u,ar);W(T,Bn,T),Ce(T,t.domain,u),Ce(A,i,o),Ce(A,t.domain,u);const _=jn(xc);Ce(A,t.tld,_),Ce(A,t.utld,_),Ce(_,t.domain,u),Ce(_,i,o),W(_,ar,A),W(_,Bn,T),W(_,Ni,h);const j=W(_,Di),$=jn(xc);Ce(j,t.numeric,$);const H=jn(xc),q=jn();Ce(H,e,H),Ce(H,n,q),Ce(q,e,H),Ce(q,n,q),W(_,ur,H),W($,ur,H);const P=W(c,Di),K=W(d,Di),X=W(K,ur),fe=W(X,ur);Ce(c,t.domain,u),W(c,ar,A),W(c,Bn,T),Ce(d,t.domain,u),W(d,ar,A),W(d,Bn,T),Ce(P,t.domain,H),W(P,ur,H),W(P,ga,H),Ce(fe,t.domain,H),Ce(fe,e,H),W(fe,ur,H);const oe=[[ha,pa],[Jc,Xc],[Qc,Wc],[Zc,ef],[tf,nf],[rf,lf],[sf,of],[af,uf]];for(let Te=0;Te<oe.length;Te++){const[te,de]=oe[Te],Se=W(H,te);W(q,te,Se),W(Se,de,H);const I=jn(xc);Ce(Se,e,I);const ee=jn();Ce(Se,n),Ce(I,e,I),Ce(I,n,ee),Ce(ee,e,I),Ce(ee,n,ee),W(I,de,H),W(ee,de,H)}return W(s,ka,_),W(s,mg,RL),{start:s,tokens:vT}}function _L(t,e,n){let i=n.length,s=0,o=[],u=[];for(;s<i;){let c=t,d=null,h=null,m=0,y=null,b=-1;for(;s<i&&!(d=c.go(n[s].t));)u.push(n[s++]);for(;s<i&&(h=d||c.go(n[s].t));)d=null,c=h,c.accepts()?(b=0,y=c):b>=0&&b++,s++,m++;if(b<0)s-=m,s<i&&(u.push(n[s]),s++);else{u.length>0&&(o.push(Gp(f1,e,u)),u=[]),s-=b,m-=b;const v=y.t,S=n.slice(s-m,s);o.push(Gp(v,e,S))}}return u.length>0&&o.push(Gp(f1,e,u)),o}function Gp(t,e,n){const i=n[0].s,s=n[n.length-1].e,o=e.slice(i,s);return new t(o,n)}const LL=typeof console<"u"&&console&&console.warn||(()=>{}),zL="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Qe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function jL(){return an.groups={},Qe.scanner=null,Qe.parser=null,Qe.tokenQueue=[],Qe.pluginQueue=[],Qe.customSchemes=[],Qe.initialized=!1,Qe}function d1(t,e=!1){if(Qe.initialized&&LL(`linkifyjs: already initialized - will not register custom scheme "${t}" ${zL}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Qe.customSchemes.push([t,e])}function BL(){Qe.scanner=NL(Qe.customSchemes);for(let t=0;t<Qe.tokenQueue.length;t++)Qe.tokenQueue[t][1]({scanner:Qe.scanner});Qe.parser=DL(Qe.scanner.tokens);for(let t=0;t<Qe.pluginQueue.length;t++)Qe.pluginQueue[t][1]({scanner:Qe.scanner,parser:Qe.parser});return Qe.initialized=!0,Qe}function Sg(t){return Qe.initialized||BL(),_L(Qe.parser.start,t,xT(Qe.scanner.start,t))}Sg.scan=xT;function ET(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new xg(n),s=Sg(t),o=[];for(let u=0;u<s.length;u++){const c=s[u];c.isLink&&(!e||c.t===e)&&i.check(c)&&o.push(c.toFormattedObject(i))}return o}var Eg="[\0- -\u2029]",HL=new RegExp(Eg),UL=new RegExp(`${Eg}$`),IL=new RegExp(Eg,"g");function PL(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function VL(t){return new it({key:new Ct("autolink"),appendTransaction:(e,n,i)=>{const s=e.some(h=>h.docChanged)&&!n.doc.eq(i.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!s||o)return;const{tr:u}=i,c=jE(n.doc,[...e]);if(qE(c).forEach(({newRange:h})=>{const m=VD(i.doc,h,v=>v.isTextblock);let y,b;if(m.length>1)y=m[0],b=i.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(m.length){const v=i.doc.textBetween(h.from,h.to," "," ");if(!UL.test(v))return;y=m[0],b=i.doc.textBetween(y.pos,h.to,void 0," ")}if(y&&b){const v=b.split(HL).filter(Boolean);if(v.length<=0)return!1;const S=v[v.length-1],E=y.pos+b.lastIndexOf(S);if(!S)return!1;const T=Sg(S).map(A=>A.toObject(t.defaultProtocol));if(!PL(T))return!1;T.filter(A=>A.isLink).map(A=>({...A,from:E+A.start+1,to:E+A.end+1})).filter(A=>i.schema.marks.code?!i.doc.rangeHasMark(A.from,A.to,i.schema.marks.code):!0).filter(A=>t.validate(A.value)).filter(A=>t.shouldAutoLink(A.value)).forEach(A=>{ag(A.from,A.to,i.doc).some(_=>_.mark.type===t.type)||u.addMark(A.from,A.to,t.type.create({href:A.href}))})}}),!!u.steps.length)return u}})}function qL(t){return new it({key:new Ct("handleClickLink"),props:{handleClick:(e,n,i)=>{var s,o;if(i.button!==0||!e.editable)return!1;let u=null;if(i.target instanceof HTMLAnchorElement)u=i.target;else{const d=i.target;if(!d)return!1;const h=t.editor.view.dom;u=d.closest("a"),u&&!h.contains(u)&&(u=null)}if(!u)return!1;let c=!1;if(t.enableClickSelection&&(c=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){const d=VE(e.state,t.type.name),h=(s=u.href)!=null?s:d.href,m=(o=u.target)!=null?o:d.target;h&&(window.open(h,m),c=!0)}return c}}})}function GL(t){return new it({key:new Ct("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{shouldAutoLink:s}=t,{state:o}=e,{selection:u}=o,{empty:c}=u;if(c)return!1;let d="";i.content.forEach(m=>{d+=m.textContent});const h=ET(d,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===d);return!d||!h||s!==void 0&&!s(h.value)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function gl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const s=typeof i=="string"?i:i.scheme;s&&n.push(s)}),!t||t.replace(IL,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var $L=Yi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){d1(t);return}d1(t.scheme,t.optionalSlashes)})},onDestroy(){jL()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!gl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const s=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(s)||!/\./.test(s))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!gl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!gl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ht(this.options.HTMLAttributes,t),0]:["a",ht(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n,i,s,o;const u=(i=(n=t.attrs)==null?void 0:n.href)!=null?i:"",c=(o=(s=t.attrs)==null?void 0:s.title)!=null?o:"",d=e.renderChildren(t);return c?`[${d}](${u} "${c}")`:`[${d}](${u})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:i=>!!gl(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:i=>!!gl(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Rl({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:i}=this.options,s=ET(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:u=>!!gl(u,n),protocols:n,defaultProtocol:i}));s.length&&s.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(VL({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:s=>!!gl(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(qL({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(GL({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),FL=Object.defineProperty,YL=(t,e)=>{for(var n in e)FL(t,n,{get:e[n],enumerable:!0})},KL="listItem",h1="textStyle",p1=/^\s*([-+*])\s$/,TT=En.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(KL,this.editor.getAttributes(h1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Is({find:p1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Is({find:p1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(h1),editor:this.editor})),[t]}}),CT=En.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const u=t.tokens.slice(1),c=e.parseChildren(u);n.push(...c)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>dg(t,e,i=>{var s,o;return i.parentType==="bulletList"?"- ":i.parentType==="orderedList"?`${(((o=(s=i.meta)==null?void 0:s.parentAttrs)==null?void 0:o.start)||1)+i.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),JL={};YL(JL,{findListItemPos:()=>Ba,getNextListDepth:()=>Tg,handleBackspace:()=>Om,handleDelete:()=>Rm,hasListBefore:()=>MT,hasListItemAfter:()=>XL,hasListItemBefore:()=>AT,listItemHasSubList:()=>wT,nextListIsDeeper:()=>kT,nextListIsHigher:()=>NT});var Ba=(t,e)=>{const{$from:n}=e.selection,i=St(t,e.schema);let s=null,o=n.depth,u=n.pos,c=null;for(;o>0&&c===null;)s=n.node(o),s.type===i?c=o:(o-=1,u-=1);return c===null?null:{$pos:e.doc.resolve(u),depth:c}},Tg=(t,e)=>{const n=Ba(t,e);if(!n)return!1;const[,i]=WD(e,t,n.$pos.pos+4);return i},MT=(t,e,n)=>{const{$anchor:i}=t.selection,s=Math.max(0,i.pos-2),o=t.doc.resolve(s).node();return!(!o||!n.includes(o.type.name))},AT=(t,e)=>{var n;const{$anchor:i}=e.selection,s=e.doc.resolve(i.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},wT=(t,e,n)=>{if(!n)return!1;const i=St(t,e.schema);let s=!1;return n.descendants(o=>{o.type===i&&(s=!0)}),s},Om=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!qi(t.state,e)&&MT(t.state,e,n)){const{$anchor:c}=t.state.selection,d=t.state.doc.resolve(c.before()-1),h=[];d.node().descendants((b,v)=>{b.type.name===e&&h.push({node:b,pos:v})});const m=h.at(-1);if(!m)return!1;const y=t.state.doc.resolve(d.start()+m.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},y.end()).joinForward().run()}if(!qi(t.state,e)||!n2(t.state))return!1;const i=Ba(e,t.state);if(!i)return!1;const o=t.state.doc.resolve(i.$pos.pos-2).node(i.depth),u=wT(e,t.state,o);return AT(e,t.state)&&!u?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},kT=(t,e)=>{const n=Tg(t,e),i=Ba(t,e);return!i||!n?!1:n>i.depth},NT=(t,e)=>{const n=Tg(t,e),i=Ba(t,e);return!i||!n?!1:n<i.depth},Rm=(t,e)=>{if(!qi(t.state,e)||!t2(t.state,e))return!1;const{selection:n}=t.state,{$from:i,$to:s}=n;return!n.empty&&i.sameParent(s)?!1:kT(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():NT(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},XL=(t,e)=>{var n;const{$anchor:i}=e.selection,s=e.doc.resolve(i.pos-i.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},OT=Fe.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Rm(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Rm(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&Om(t,n,i)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&Om(t,n,i)&&(e=!0)}),e}}}}),m1=/^(\s*)(\d+)\.\s+(.*)$/,QL=/^\s/;function WL(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n],o=s.match(m1);if(!o)break;const[,u,c,d]=o,h=u.length;let m=d,y=n+1;const b=[s];for(;y<t.length;){const v=t[y];if(v.match(m1))break;if(v.trim()==="")b.push(v),m+=`
`,y+=1;else if(v.match(QL))b.push(v),m+=`
${v.slice(h+2)}`,y+=1;else break}e.push({indent:h,number:parseInt(c,10),content:m.trim(),raw:b.join(`
`)}),i=y,n=y}return[e,i]}function RT(t,e,n){var i;const s=[];let o=0;for(;o<t.length;){const u=t[o];if(u.indent===e){const c=u.content.split(`
`),d=((i=c[0])==null?void 0:i.trim())||"",h=[];d&&h.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const m=c.slice(1).join(`
`).trim();if(m){const v=n.blockTokens(m);h.push(...v)}let y=o+1;const b=[];for(;y<t.length&&t[y].indent>e;)b.push(t[y]),y+=1;if(b.length>0){const v=Math.min(...b.map(E=>E.indent)),S=RT(b,v,n);h.push({type:"list",ordered:!0,start:b[0].number,items:S,raw:b.map(E=>E.raw).join(`
`)})}s.push({type:"list_item",raw:u.raw,tokens:h}),o=y}else o+=1}return s}function ZL(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const i=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")i.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const o=e.parseChildren([s]);i.push({type:"paragraph",content:o})}else{const o=e.parseChildren([s]);o.length>0&&i.push(...o)}}),{type:"listItem",content:i}})}var ez="listItem",g1="textStyle",y1=/^(\d+)\.\s$/,DT=En.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ht(this.options.HTMLAttributes,n),0]:["ol",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,i=t.items?ZL(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:i}:{type:"orderedList",content:i}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var i;const s=t.split(`
`),[o,u]=WL(s);if(o.length===0)return;const c=RT(o,0,n);return c.length===0?void 0:{type:"list",ordered:!0,start:((i=o[0])==null?void 0:i.number)||1,items:c,raw:s.slice(0,u).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ez,this.editor.getAttributes(g1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Is({find:y1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Is({find:y1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(g1)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),tz=/^\s*(\[([( |x])?\])\s$/,nz=En.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ht(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const i=e.parseChildren(t.nestedTokens);n.push(...i)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return dg(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:i})=>{const s=document.createElement("li"),o=document.createElement("label"),u=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),h=y=>{var b,v;c.ariaLabel=((v=(b=this.options.a11y)==null?void 0:b.checkboxLabel)==null?void 0:v.call(b,y,c.checked))||`Task item checkbox for ${y.textContent||"empty task item"}`};h(t),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",y=>y.preventDefault()),c.addEventListener("change",y=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:b}=y.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const S=n();if(typeof S!="number")return!1;const E=v.doc.nodeAt(S);return v.setNodeMarkup(S,void 0,{...E==null?void 0:E.attrs,checked:b}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,b)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([y,b])=>{s.setAttribute(y,b)}),s.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,o.append(c,u),s.append(o,d),Object.entries(e).forEach(([y,b])=>{s.setAttribute(y,b)});let m=new Set(Object.keys(e));return{dom:s,contentDOM:d,update:y=>{if(y.type!==this.type)return!1;s.dataset.checked=y.attrs.checked,c.checked=y.attrs.checked,h(y);const b=i.extensionManager.attributes,v=wa(y,b),S=new Set(Object.keys(v)),E=this.options.HTMLAttributes;return m.forEach(T=>{S.has(T)||(T in E?s.setAttribute(T,E[T]):s.removeAttribute(T))}),Object.entries(v).forEach(([T,A])=>{A==null?T in E?s.setAttribute(T,E[T]):s.removeAttribute(T):s.setAttribute(T,A)}),m=S,!0}}}},addInputRules(){return[Is({find:tz,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),rz=En.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ht(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const i=o=>{const u=xm(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,d)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:n.inlineTokens(c.mainContent),nestedTokens:d}),customNestedParser:i},n);return u?[{type:"taskList",raw:u.raw,items:u.items}]:n.blockTokens(o)},s=xm(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,u)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:u}),customNestedParser:i},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Fe.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(TT.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(CT.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(OT.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(DT.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(nz.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(rz.configure(this.options.taskList)),t}});var b1="&nbsp;",iz="",lz=En.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ht(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];if(n.length===1&&n[0].type==="image")return e.parseChildren([n[0]]);const i=e.parseInline(n);return i.length===1&&i[0].type==="text"&&(i[0].text===b1||i[0].text===iz)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,i)},renderMarkdown:(t,e)=>{if(!t)return"";const n=Array.isArray(t.content)?t.content:[];return n.length===0?b1:e.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),sz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,oz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,az=Yi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Us({find:sz,type:this.type})]},addPasteRules(){return[Rl({find:oz,type:this.type})]}}),uz=En.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),_T=Yi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ht(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const o=s[2].trim();return{type:"underline",raw:s[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),cz=_T;function fz(t={}){return new it({view(e){return new dz(e,t)}})}class dz{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=u=>{this[s](u)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i,s=this.editorView.dom,o=s.getBoundingClientRect(),u=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(n){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let S=v.getBoundingClientRect(),E=y?S.bottom:S.top;y&&b&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let T=this.width/2*c;i={left:S.left,right:S.right,top:E-T,bottom:E+T}}}}if(!i){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*u;i={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=d.getBoundingClientRect(),b=y.width/d.offsetWidth,v=y.height/d.offsetHeight;h=y.left-d.scrollLeft*b,m=y.top-d.scrollTop*v}this.element.style.left=(i.left-h)/u+"px",this.element.style.top=(i.top-m)/c+"px",this.element.style.width=(i.right-i.left)/u+"px",this.element.style.height=(i.bottom-i.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=i&&i.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!o){let u=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=wS(this.editorView.state.doc,u,this.editorView.dragging.slice);c!=null&&(u=c)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ut extends Me{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return ut.valid(i)?new ut(i):Me.near(i)}content(){return ne.empty}eq(e){return e instanceof ut&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ut(e.resolve(n.pos))}getBookmark(){return new Cg(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!hz(e)||!pz(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&ut.valid(e))return e;let s=e.pos,o=null;for(let u=e.depth;;u--){let c=e.node(u);if(n>0?e.indexAfter(u)<c.childCount:e.index(u)>0){o=c.child(n>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;s+=n;let d=e.doc.resolve(s);if(ut.valid(d))return d}for(;;){let u=n>0?o.firstChild:o.lastChild;if(!u){if(o.isAtom&&!o.isText&&!pe.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*n),i=!1;continue e}break}o=u,s+=n;let c=e.doc.resolve(s);if(ut.valid(c))return c}return null}}}ut.prototype.visible=!1;ut.findFrom=ut.findGapCursorFrom;Me.jsonID("gapcursor",ut);class Cg{constructor(e){this.pos=e}map(e){return new Cg(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ut.valid(n)?new ut(n):Me.near(n)}}function LT(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function hz(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||LT(s.type))return!0;if(s.inlineContent)return!1}}return!0}function pz(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||LT(s.type))return!0;if(s.inlineContent)return!1}}return!0}function mz(){return new it({props:{decorations:vz,createSelectionBetween(t,e,n){return e.pos==n.pos&&ut.valid(n)?new ut(n):null},handleClick:yz,handleKeyDown:gz,handleDOMEvents:{beforeinput:bz}}})}const gz=kE({ArrowLeft:Sc("horiz",-1),ArrowRight:Sc("horiz",1),ArrowUp:Sc("vert",-1),ArrowDown:Sc("vert",1)});function Sc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,s,o){let u=i.selection,c=e>0?u.$to:u.$from,d=u.empty;if(u instanceof ye){if(!o.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=i.doc.resolve(e>0?c.after():c.before())}let h=ut.findGapCursorFrom(c,e,d);return h?(s&&s(i.tr.setSelection(new ut(h))),!0):!1}}function yz(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!ut.valid(i))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&pe.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ut(i))),!0)}function bz(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ut))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let s=J.empty;for(let u=i.length-1;u>=0;u--)s=J.from(i[u].createAndFill(null,s));let o=t.state.tr.replace(n.pos,n.pos,new ne(s,0,0));return o.setSelection(ye.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function vz(t){if(!(t.selection instanceof ut))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",nt.create(t.doc,[Kt.widget(t.selection.head,e,{key:"gapcursor"})])}var Tf=200,Ot=function(){};Ot.prototype.append=function(e){return e.length?(e=Ot.from(e),!this.length&&e||e.length<Tf&&this.leafAppend(e)||this.length<Tf&&e.leafPrepend(this)||this.appendInner(e)):this};Ot.prototype.prepend=function(e){return e.length?Ot.from(e).append(this):this};Ot.prototype.appendInner=function(e){return new xz(this,e)};Ot.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ot.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ot.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ot.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};Ot.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(o,u){return s.push(e(o,u))},n,i),s};Ot.from=function(e){return e instanceof Ot?e:e&&e.length?new zT(e):Ot.empty};var zT=(function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,u,c){for(var d=o;d<u;d++)if(s(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,u,c){for(var d=o-1;d>=u;d--)if(s(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Tf)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Tf)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Ot);Ot.empty=new zT([]);var xz=(function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,s,o,u){var c=this.left.length;if(s<c&&this.left.forEachInner(i,s,Math.min(o,c),u)===!1||o>c&&this.right.forEachInner(i,Math.max(s-c,0),Math.min(this.length,o)-c,u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,u){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(i,s-c,Math.max(o,c)-c,u+c)===!1||o<c&&this.left.forEachInvertedInner(i,Math.min(s,c),o,u)===!1)return!1},e.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(i,s):i>=o?this.right.slice(i-o,s-o):this.left.slice(i,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new e(s,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e})(Ot);const Sz=500;class Qn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,o;n&&(s=this.remapping(i,this.items.length),o=s.maps.length);let u=e.tr,c,d,h=[],m=[];return this.items.forEach((y,b)=>{if(!y.step){s||(s=this.remapping(i,b+1),o=s.maps.length),o--,m.push(y);return}if(s){m.push(new cr(y.map));let v=y.step.map(s.slice(o)),S;v&&u.maybeStep(v).doc&&(S=u.mapping.maps[u.mapping.maps.length-1],h.push(new cr(S,void 0,void 0,h.length+m.length))),o--,S&&s.appendMap(S,o)}else u.maybeStep(y.step);if(y.selection)return c=s?y.selection.map(s.slice(o)):y.selection,d=new Qn(this.items.slice(0,i).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:u,selection:c}}addTransform(e,n,i,s){let o=[],u=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),b=new cr(e.mapping.maps[m],y,n),v;(v=d&&d.merge(b))&&(b=v,m?o.pop():c=c.slice(0,c.length-1)),o.push(b),n&&(u++,n=void 0),s||(d=b)}let h=u-i.depth;return h>Tz&&(c=Ez(c,h),u-=h),new Qn(c.append(o),u)}remapping(e,n){let i=new Sa;return this.items.forEach((s,o)=>{let u=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,u)},e,n),i}addMaps(e){return this.eventCount==0?this:new Qn(this.items.append(e.map(n=>new cr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-n),o=e.mapping,u=e.steps.length,c=this.eventCount;this.items.forEach(b=>{b.selection&&c--},s);let d=n;this.items.forEach(b=>{let v=o.getMirror(--d);if(v==null)return;u=Math.min(u,v);let S=o.maps[v];if(b.step){let E=e.steps[v].invert(e.docs[v]),T=b.selection&&b.selection.map(o.slice(d+1,v));T&&c++,i.push(new cr(S,E,T))}else i.push(new cr(S))},s);let h=[];for(let b=n;b<u;b++)h.push(new cr(o.maps[b]));let m=this.items.slice(0,s).append(h).append(i),y=new Qn(m,c);return y.emptyItemCount()>Sz&&(y=y.compress(this.items.length-i.length)),y}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,s=[],o=0;return this.items.forEach((u,c)=>{if(c>=e)s.push(u),u.selection&&o++;else if(u.step){let d=u.step.map(n.slice(i)),h=d&&d.getMap();if(i--,h&&n.appendMap(h,i),d){let m=u.selection&&u.selection.map(n.slice(i));m&&o++;let y=new cr(h.invert(),d,m),b,v=s.length-1;(b=s.length&&s[v].merge(y))?s[v]=b:s.push(y)}}else u.map&&i--},this.items.length,0),new Qn(Ot.from(s.reverse()),o)}}Qn.empty=new Qn(Ot.empty,0);function Ez(t,e){let n;return t.forEach((i,s)=>{if(i.selection&&e--==0)return n=s,!1}),t.slice(n)}class cr{constructor(e,n,i,s){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new cr(n.getMap().invert(),n,this.selection)}}}class Oi{constructor(e,n,i,s,o){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=s,this.prevComposition=o}}const Tz=20;function Cz(t,e,n,i){let s=n.getMeta(Al),o;if(s)return s.historyState;n.getMeta(wz)&&(t=new Oi(t.done,t.undone,null,0,-1));let u=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(u&&u.getMeta(Al))return u.getMeta(Al).redo?new Oi(t.done.addTransform(n,void 0,i,Oc(e)),t.undone,v1(n.mapping.maps),t.prevTime,t.prevComposition):new Oi(t.done,t.undone.addTransform(n,void 0,i,Oc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=t.prevTime==0||!u&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-i.newGroupDelay||!Mz(n,t.prevRanges)),h=u?$p(t.prevRanges,n.mapping):v1(n.mapping.maps);return new Oi(t.done.addTransform(n,d?e.selection.getBookmark():void 0,i,Oc(e)),Qn.empty,h,n.time,c??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Oi(t.done.rebased(n,o),t.undone.rebased(n,o),$p(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Oi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),$p(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Mz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,s)=>{for(let o=0;o<e.length;o+=2)i<=e[o+1]&&s>=e[o]&&(n=!0)}),n}function v1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,s,o,u)=>e.push(o,u));return e}function $p(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let s=e.map(t[i],1),o=e.map(t[i+1],-1);s<=o&&n.push(s,o)}return n}function Az(t,e,n){let i=Oc(e),s=Al.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,i);if(!o)return null;let u=o.selection.resolve(o.transform.doc),c=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,i),d=new Oi(n?c:o.remaining,n?o.remaining:c,null,0,-1);return o.transform.setSelection(u).setMeta(Al,{redo:n,historyState:d})}let Fp=!1,x1=null;function Oc(t){let e=t.plugins;if(x1!=e){Fp=!1,x1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Fp=!0;break}}return Fp}const Al=new Ct("history"),wz=new Ct("closeHistory");function kz(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new it({key:Al,state:{init(){return new Oi(Qn.empty,Qn.empty,null,0,-1)},apply(e,n,i){return Cz(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,s=i=="historyUndo"?BT:i=="historyRedo"?HT:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function jT(t,e){return(n,i)=>{let s=Al.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(i){let o=Az(s,n,t);o&&i(e?o.scrollIntoView():o)}return!0}}const BT=jT(!1,!0),HT=jT(!0,!0);Fe.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const i=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(i)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new it({key:new Ct("characterCount"),appendTransaction:(e,n,i)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const o=this.storage.characters({node:i.doc});if(o>s){const u=o-s,c=0,d=u;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=i.tr.deleteRange(c,d);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const s=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=i||s>i&&o>i&&o<=s)return!0;if(s>i&&o>i&&o>s||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=o-i,h=c-d,m=c;return e.deleteRange(h,m),!(this.storage.characters({node:e.doc})>i)}})]}});var Nz=Fe.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[fz(this.options)]}});Fe.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new it({key:new Ct("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:s}=e,o=[];if(!n||!i)return nt.create(t,[]);let u=0;this.options.mode==="deepest"&&t.descendants((d,h)=>{if(d.isText)return;if(!(s>=h&&s<=h+d.nodeSize-1))return!1;u+=1});let c=0;return t.descendants((d,h)=>{if(d.isText||!(s>=h&&s<=h+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&u-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(Kt.node(h,h+d.nodeSize,{class:this.options.className}))}),nt.create(t,o)}}})]}});var Oz=Fe.create({name:"gapCursor",addProseMirrorPlugins(){return[mz()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ve(ce(t,"allowGapCursor",n)))!=null?e:null}}}),S1="placeholder";function Rz(t){return t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}Fe.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:S1,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const t=this.options.dataAttribute?`data-${Rz(this.options.dataAttribute)}`:`data-${S1}`;return[new it({key:new Ct("placeholder"),props:{decorations:({doc:e,selection:n})=>{const i=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=n,o=[];if(!i)return null;const u=this.editor.isEmpty;return e.descendants((c,d)=>{const h=s>=d&&s<=d+c.nodeSize,m=!c.isLeaf&&Hf(c);if((h||!this.options.showOnlyCurrent)&&m){const y=[this.options.emptyNodeClass];u&&y.push(this.options.emptyEditorClass);const b=Kt.node(d,d+c.nodeSize,{class:y.join(" "),[t]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:d,hasAnchor:h}):this.options.placeholder});o.push(b)}return this.options.includeChildren}),nt.create(e,o)}}})]}});Fe.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new it({key:new Ct("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||GE(n.selection)||t.view.dragging?null:nt.create(n.doc,[Kt.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function E1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var Dz=Fe.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Ct(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",i=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new it({key:e,appendTransaction:(s,o,u)=>{const{doc:c,tr:d,schema:h}=u,m=e.getState(u),y=c.content.size,b=h.nodes[n];if(m)return d.insert(y,b.create())},state:{init:(s,o)=>{const u=o.tr.doc.lastChild;return!E1({node:u,types:i})},apply:(s,o)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return o;const u=s.doc.lastChild;return!E1({node:u,types:i})}}})]}}),_z=Fe.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>BT(t,e),redo:()=>({state:t,dispatch:e})=>HT(t,e)}},addProseMirrorPlugins(){return[kz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Lz=Fe.create({name:"starterKit",addExtensions(){var t,e,n,i;const s=[];return this.options.bold!==!1&&s.push(lL.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(eL.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(TT.configure(this.options.bulletList)),this.options.code!==!1&&s.push(aL.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(fL.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(dL.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Nz.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Oz.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(hL.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(pL.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(_z.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(mL.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(xL.configure(this.options.italic)),this.options.listItem!==!1&&s.push(CT.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(OT.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push($L.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(DT.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(lz.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(az.configure(this.options.strike)),this.options.text!==!1&&s.push(uz.configure(this.options.text)),this.options.underline!==!1&&s.push(_T.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(Dz.configure((i=this.options)==null?void 0:i.trailingNode)),s}}),zz=Lz,jz=Fe.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Bz=jz,Hz=20,UT=(t,e=0)=>{const n=[];return!t.children.length||e>Hz||Array.from(t.children).forEach(i=>{i.tagName==="SPAN"?n.push(i):i.children.length&&n.push(...UT(i,e+1))}),n},Uz=t=>{if(!t.children.length)return;const e=UT(t);e&&e.forEach(n=>{var i,s;const o=n.getAttribute("style"),u=(s=(i=n.parentElement)==null?void 0:i.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${u};${o}`)})},IT=Yi.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Uz(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",ht(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,i)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(o=>!!o))||t.removeMark(i,i+n.nodeSize,this.type)}),!0}}}}),Iz=Fe.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const i=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=i.length-1;s>=0;s-=1){const o=i[s].split(":");if(o.length>=2){const u=o[0].trim().toLowerCase(),c=o.slice(1).join(":").trim();if(u==="background-color")return c.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Pz=Fe.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const i=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=i.length-1;s>=0;s-=1){const o=i[s].split(":");if(o.length>=2){const u=o[0].trim().toLowerCase(),c=o.slice(1).join(":").trim();if(u==="color")return c.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Vz=Fe.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),PT=Fe.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),VT=Fe.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Fe.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(Iz.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(Pz.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Vz.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(PT.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(VT.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(IT.configure(this.options.textStyle)),t}});const qz=["14","16","18","20","24"],Gz=["1.2","1.4","1.5","1.75","2"];function $z(t){return un.useMemo(()=>[zz.configure({blockquote:{},bold:{},heading:{levels:[1,2,3]},italic:{},paragraph:{},underline:{},link:{openOnClick:!1,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer"}},strike:!1,code:!1,codeBlock:!1,bulletList:!1,orderedList:!1,listItem:!1,listKeymap:!1,horizontalRule:!1}),Bz.configure({types:["heading","paragraph","blockquote"]}),IT,PT,VT,cz],[])}const Mg=({value:t,onChange:e,placeholder:n="Write something",className:i="",minHeight:s="12rem"})=>{const o=t!=null&&t.trim()?t.includes("<")?t:Wp(t):"",u=$z(),c=J_({extensions:u,content:o,editorProps:{attributes:{class:"prose prose-sm max-w-none font-sans text-textPrimary focus:outline-none min-h-[8rem]"},handleDOMEvents:{blur:()=>{c&&e(c.getHTML())}}},onUpdate:({editor:h})=>{e(h.getHTML())}},[u]);R.useEffect(()=>{if(!c)return;const h=c.getHTML(),m=t!=null&&t.trim()?t.includes("<")?t:Wp(t):"<p></p>";h!==m&&document.activeElement!==c.view.dom&&c.commands.setContent(m,!1)},[c,t]);const d=R.useCallback(()=>{if(!c)return;const h=window.prompt("URL:",c.getAttributes("link").href||"https://");h!=null&&(h===""?c.chain().focus().extendMarkRange("link").unsetLink().run():c.chain().focus().extendMarkRange("link").setLink({href:h}).run())},[c]);return c?M.jsxs("div",{className:`border border-paletteBorder rounded-sm overflow-hidden bg-bgMain ${i}`,children:[M.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 border-b border-paletteBorder bg-neutral-100 font-mono text-xs",children:[M.jsxs("select",{className:"border border-paletteBorder bg-bgMain text-textPrimary px-2 py-1.5 rounded-sm uppercase tracking-wider",value:c.isActive("heading",{level:1})?"h1":c.isActive("heading",{level:2})?"h2":c.isActive("heading",{level:3})?"h3":c.isActive("blockquote")?"blockquote":"p",onChange:h=>{const m=h.target.value;m==="p"?c.chain().focus().setParagraph().run():m==="h1"?c.chain().focus().toggleHeading({level:1}).run():m==="h2"?c.chain().focus().toggleHeading({level:2}).run():m==="h3"?c.chain().focus().toggleHeading({level:3}).run():m==="blockquote"&&c.chain().focus().toggleBlockquote().run()},children:[M.jsx("option",{value:"p",children:"Paragraph"}),M.jsx("option",{value:"h1",children:"Heading 1"}),M.jsx("option",{value:"h2",children:"Heading 2"}),M.jsx("option",{value:"h3",children:"Heading 3"}),M.jsx("option",{value:"blockquote",children:"Blockquote"})]}),M.jsx("span",{className:"text-textSecondary mx-1",children:"|"}),M.jsxs("select",{className:"border border-paletteBorder bg-bgMain text-textPrimary px-2 py-1.5 rounded-sm w-12",onChange:h=>{const m=h.target.value;m?c.chain().focus().setFontSize(m+"px").run():c.chain().focus().unsetFontSize().run()},children:[M.jsx("option",{value:"",children:""}),qz.map(h=>M.jsx("option",{value:h,children:h},h))]}),M.jsxs("select",{className:"border border-paletteBorder bg-bgMain text-textPrimary px-2 py-1.5 rounded-sm w-12",onChange:h=>{const m=h.target.value;m?c.chain().focus().setLineHeight(m).run():c.chain().focus().unsetLineHeight().run()},children:[M.jsx("option",{value:"",children:""}),Gz.map(h=>M.jsx("option",{value:h,children:h},h))]}),M.jsx("span",{className:"text-textSecondary mx-1",children:"|"}),M.jsx("button",{type:"button",onClick:()=>c.chain().focus().toggleBold().run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder font-bold ${c.isActive("bold")?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Bold",children:"B"}),M.jsx("button",{type:"button",onClick:()=>c.chain().focus().toggleItalic().run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder italic ${c.isActive("italic")?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Italic",children:"I"}),M.jsx("button",{type:"button",onClick:()=>c.chain().focus().toggleUnderline().run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder underline ${c.isActive("underline")?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Underline",children:"U"}),M.jsx("span",{className:"text-textSecondary mx-1",children:"|"}),M.jsx("button",{type:"button",onClick:()=>c.chain().focus().setTextAlign("left").run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder ${c.isActive({textAlign:"left"})?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Align left",children:""}),M.jsx("button",{type:"button",onClick:()=>c.chain().focus().setTextAlign("center").run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder ${c.isActive({textAlign:"center"})?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Align center",children:""}),M.jsx("button",{type:"button",onClick:()=>c.chain().focus().setTextAlign("right").run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder ${c.isActive({textAlign:"right"})?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Align right",children:""}),M.jsx("span",{className:"text-textSecondary mx-1",children:"|"}),M.jsx("button",{type:"button",onClick:d,className:`px-2 py-1.5 rounded-sm border border-paletteBorder ${c.isActive("link")?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Link",children:""}),M.jsx("button",{type:"button",onClick:()=>c.chain().focus().unsetLink().run(),className:"px-2 py-1.5 rounded-sm border border-paletteBorder bg-bgMain text-textPrimary",title:"Unlink",children:"Unlink"}),M.jsx("span",{className:"text-textSecondary mx-1",children:"|"}),M.jsx("button",{type:"button",onClick:()=>{c.chain().focus().unsetAllMarks().run(),c.chain().focus().clearNodes().run()},className:"px-2 py-1.5 rounded-sm border border-paletteBorder bg-bgMain text-textPrimary",title:"Clear formatting",children:"Clear"})]}),M.jsx(uT,{editor:c,style:{minHeight:s},className:"p-3 text-base leading-relaxed [&_.ProseMirror]:min-h-[8rem] [&_.ProseMirror]:outline-none [&_.ProseMirror_p]:mb-4 [&_.ProseMirror_p:last-child]:mb-0 [&_.ProseMirror_h1]:text-2xl [&_.ProseMirror_h1]:font-bold [&_.ProseMirror_h2]:text-xl [&_.ProseMirror_h2]:font-bold [&_.ProseMirror_h3]:text-lg [&_.ProseMirror_h3]:font-bold [&_.ProseMirror_blockquote]:border-l-2 [&_.ProseMirror_blockquote]:border-paletteBorder [&_.ProseMirror_blockquote]:pl-4 [&_.ProseMirror_blockquote]:italic [&_.ProseMirror_a]:underline"})]}):M.jsx("div",{className:`border border-paletteBorder rounded-sm overflow-hidden bg-bgMain ${i}`,style:{minHeight:s},children:M.jsx("div",{className:"p-3 text-textSecondary font-mono text-sm",children:"Loading editor"})})},Fz=({data:t,onRefresh:e})=>{const{isAdmin:n}=Ll(),i=_l(),[s,o]=R.useState(""),[u,c]=R.useState(new Date().getFullYear().toString()),[d,h]=R.useState(""),[m,y]=R.useState(""),[b,v]=R.useState([]),[S,E]=R.useState(!1);un.useEffect(()=>{n||i("/")},[n,i]);const T=R.useCallback(async H=>{var X;const q=(X=H.target.files)==null?void 0:X[0];if(!q)return;H.target.value="";const P=await new Promise(fe=>{const oe=new FileReader;oe.onloadend=()=>fe(oe.result),oe.readAsDataURL(q)}),K=await ws(P);y(K)},[]),A=async H=>{const q=H.target.files;if(!(q!=null&&q.length))return;E(!0);const P=[];for(let K=0;K<q.length;K++){const X=await new Promise(fe=>{const oe=new FileReader;oe.onloadend=()=>fe(oe.result),oe.readAsDataURL(q[K])});P.push(await ws(X))}v(K=>K.length?[...K,...P]:P),!m&&P[0]&&y(P[0]),E(!1)},_=H=>{const q=b.filter((P,K)=>K!==H);v(q),m&&b[H]===m&&y(q[0]??"")},j=H=>{const q=b[H];q&&y(q)},$=async H=>{if(H.preventDefault(),!s.trim()){alert("Please provide a project title.");return}if(b.length===0){alert("Please provide at least one image.");return}try{const q=Date.now().toString(),P=m||b[0]||"",K=P?await tm(P).catch(()=>{}):void 0;await _k({id:q,title:s.trim(),year:u.trim(),description:d.trim()||"",imageUrl:P,gallery:b,galleryColumns:1,coverAspectRatio:K}),e(),i(`/project/${q}`)}catch(q){console.error(q),q instanceof DOMException&&q.name==="QuotaExceededError"?alert("Storage limit reached (browser limit). Try fewer images, smaller file sizes, or remove images from other projects."):alert("Failed to create project.")}};return n?M.jsx("div",{className:"fixed inset-0 bg-bgMain flex flex-col overflow-hidden",children:M.jsxs("main",{className:"flex-1 min-h-0 flex",children:[M.jsx("div",{className:"w-2/5 min-w-0 overflow-y-auto pt-pageTop pl-6 pr-6 pb-12",children:M.jsxs("div",{className:"max-w-xl",children:[M.jsx("h1",{className:"font-mono text-sm uppercase tracking-wider text-textPrimary mb-6",children:"New project"}),M.jsxs("form",{onSubmit:$,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Title"}),M.jsx("input",{type:"text",className:"w-full p-3 border border-paletteBorder bg-transparent font-mono text-sm placeholder:text-textSecondary text-textPrimary focus:outline-none",value:s,onChange:H=>o(H.target.value),required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Year"}),M.jsx("input",{type:"text",className:"w-full p-3 border border-paletteBorder bg-transparent font-mono text-sm placeholder:text-textSecondary text-textPrimary focus:outline-none",value:u,onChange:H=>c(H.target.value),required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Description"}),M.jsx(Mg,{value:d,onChange:h,placeholder:"Project description",minHeight:"10rem"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Cover"}),M.jsx("input",{type:"file",accept:"image/*",className:"block w-full text-sm font-mono file:mr-4 file:py-2 file:px-4 file:border file:border-paletteBorder file:bg-bgMain file:font-mono file:text-xs file:uppercase file:tracking-wider file:text-textPrimary file:hover:bg-neutral-800 file:hover:text-white file:transition-colors file:duration-150 file:rounded-sm",onChange:T})]}),M.jsx("button",{type:"submit",disabled:S,className:"font-mono text-sm uppercase tracking-wider px-6 py-3 bg-accent text-textPrimary hover:opacity-90 disabled:opacity-50 transition-opacity duration-150 rounded-sm",children:S?"Processing":"Create project"})]})]})}),M.jsx("div",{className:"w-px shrink-0 bg-paletteBorder","aria-hidden":!0}),M.jsx("div",{className:"w-3/5 min-w-0 overflow-y-auto pt-pageTop px-6 pb-12",children:M.jsxs("div",{className:"space-y-4",children:[m&&M.jsxs("div",{children:[M.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Cover preview"}),M.jsx("img",{src:m,alt:"Cover",className:"max-h-64 w-auto border border-paletteBorder"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Gallery"}),M.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"block w-full text-sm font-mono file:mr-4 file:py-2 file:px-4 file:border file:border-paletteBorder file:bg-bgMain file:font-mono file:text-xs file:uppercase file:tracking-wider file:text-textPrimary file:hover:bg-neutral-800 file:hover:text-white file:transition-colors file:duration-150 file:rounded-sm",onChange:A})]}),b.length>0&&M.jsx("div",{className:"flex flex-wrap gap-4",children:b.map((H,q)=>M.jsxs("div",{className:"relative group",children:[M.jsx("img",{src:H,alt:"",className:"h-20 w-auto border border-paletteBorder"}),M.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-1 bg-neutral-800/50 opacity-0 group-hover:opacity-100 transition-opacity duration-150",children:[M.jsx("button",{type:"button",onClick:()=>_(q),className:"font-mono text-xs uppercase tracking-wider px-2 py-1 border border-destructive bg-bgMain text-destructive hover:bg-destructive hover:text-white transition-colors duration-150 rounded-sm",children:"Remove"}),M.jsx("button",{type:"button",onClick:()=>j(q),className:"font-mono text-xs uppercase tracking-wider px-2 py-1 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Set as cover"})]})]},q))})]})})]})}):null},Yz=({children:t})=>M.jsx("div",{className:"fixed inset-0 bg-bgMain flex flex-col overflow-hidden",children:t}),Kz=({src:t,alt:e,className:n})=>{const i="bg-bgMain";return t?M.jsxs("div",{className:`relative w-full h-full overflow-hidden ${i}`,children:[M.jsx("img",{src:t,alt:e,className:n?`${n} w-full h-full object-contain`:"w-full h-full object-contain",onContextMenu:s=>s.preventDefault(),onDragStart:s=>s.preventDefault(),style:{pointerEvents:"none"}}),M.jsx("div",{className:"absolute inset-0 z-10 bg-transparent",onContextMenu:s=>s.preventDefault()})]}):M.jsx("div",{className:`w-full aspect-[4/5] border border-dashed border-paletteBorder ${i}`,"aria-hidden":!0})},Jz=({project:t,onRefresh:e})=>{const n=Gi(),{isAdmin:i}=Ll(),s=_l(),o=i&&!n,[u,c]=R.useState(!1),[d,h]=R.useState(t),[m,y]=R.useState(!1),[b,v]=R.useState(!1),S=u?d:t,E=R.useCallback(async K=>{var te;const X=(te=K.target.files)==null?void 0:te[0];if(!X)return;K.target.value="";const fe=await new Promise(de=>{const Se=new FileReader;Se.onloadend=()=>de(Se.result),Se.readAsDataURL(X)}),oe=await ws(fe),Te=await tm(oe).catch(()=>{});h(de=>({...de,imageUrl:oe,coverAspectRatio:Te}))},[]),T=R.useCallback(K=>{const X=d.gallery[K];X&&tm(X).then(fe=>{h(oe=>({...oe,imageUrl:X,coverAspectRatio:fe}))}).catch(()=>{h(fe=>({...fe,imageUrl:X}))})},[d.gallery]),A=async K=>{const X=K.target.files;if(!(X!=null&&X.length))return;v(!0);const fe=[];for(let oe=0;oe<X.length;oe++){const Te=await new Promise(te=>{const de=new FileReader;de.onloadend=()=>te(de.result),de.readAsDataURL(X[oe])});fe.push(await ws(Te))}h(oe=>({...oe,gallery:[...oe.gallery,...fe],imageUrl:oe.imageUrl||fe[0]})),v(!1)},_=K=>{if(d.gallery.length<=1)return;const X=d.gallery.filter((fe,oe)=>oe!==K);h(fe=>({...fe,gallery:X,imageUrl:X[0]??fe.imageUrl}))},j=async(K,X)=>{var de;const fe=(de=X.target.files)==null?void 0:de[0];if(!fe)return;X.target.value="",v(!0);const oe=await new Promise(Se=>{const I=new FileReader;I.onloadend=()=>Se(I.result),I.readAsDataURL(fe)}),Te=await ws(oe),te=[...d.gallery];te[K]=Te,h(Se=>({...Se,gallery:te,imageUrl:K===0?Te:Se.imageUrl})),v(!1)},$=async()=>{var K;if(!((K=d.title)!=null&&K.trim())){alert("Please provide a project title.");return}if(d.gallery.length===0){alert("Please provide at least one image.");return}try{y(!0);const X=await Promise.all(d.gallery.map(Te=>ws(Te))),fe=d.gallery.findIndex(Te=>Te===d.imageUrl),oe={...d,gallery:X,imageUrl:fe>=0?X[fe]:X[0]};await Lk(oe.id,oe),e(),c(!1)}catch(X){console.error(X),X instanceof DOMException&&X.name==="QuotaExceededError"?alert("Storage limit reached (browser limit). Try fewer images, smaller file sizes, or remove images from other projects."):alert("Failed to update project.")}finally{y(!1)}},H=async()=>{confirm("Delete this project?")&&(await zk(t.id),e(),s("/"))},q=M.jsx("div",{className:n?"w-full min-w-0 overflow-y-auto pt-6 px-6 pb-12":"w-2/5 min-w-0 overflow-y-auto pt-pageTop px-6 pb-12",children:M.jsx("div",{className:"max-w-xl",children:!n&&u?M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Title"}),M.jsx("input",{type:"text",className:"w-full p-3 border border-paletteBorder bg-transparent font-mono text-sm focus:outline-none",value:d.title,onChange:K=>h(X=>({...X,title:K.target.value}))})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Year"}),M.jsx("input",{type:"text",className:"w-full p-3 border border-paletteBorder bg-transparent font-mono text-sm focus:outline-none",value:d.year,onChange:K=>h(X=>({...X,year:K.target.value}))})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Description"}),M.jsx(Mg,{value:d.description,onChange:K=>h(X=>({...X,description:K})),placeholder:"Project description",minHeight:"10rem"})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{type:"button",onClick:$,disabled:m,className:"font-mono text-sm uppercase tracking-wider px-4 py-2 bg-accent text-textPrimary hover:opacity-90 disabled:opacity-50 transition-opacity duration-150 rounded-sm",children:m?"Saving":"Save"}),M.jsx("button",{type:"button",onClick:()=>{c(!1),h(t)},className:"font-mono text-sm uppercase tracking-wider px-4 py-2 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Cancel"})]})]}):M.jsxs(M.Fragment,{children:[M.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textSecondary mb-2",children:S.year}),M.jsx("h1",{className:"text-3xl font-bold mb-6",children:S.title}),M.jsx("div",{className:"text-base leading-relaxed text-textPrimary [&_p]:mb-8 [&_p:last-child]:mb-0",children:M.jsx(Hm,{html:S.description})}),o&&M.jsxs("div",{className:"flex gap-2 mt-6",children:[M.jsx("button",{type:"button",onClick:()=>{h(t),c(!0)},className:"font-mono text-xs uppercase tracking-wider px-3 py-2 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Edit"}),M.jsx("button",{type:"button",onClick:H,className:"font-mono text-xs uppercase tracking-wider px-3 py-2 border border-destructive bg-bgMain text-destructive hover:bg-destructive hover:text-white transition-colors duration-150 rounded-sm",children:"Delete"})]})]})})}),P=M.jsx("div",{className:n?"w-full min-w-0 overflow-y-auto pt-6 px-6 pb-6":"w-3/5 min-w-0 overflow-y-auto pt-6 px-6 pb-12",children:!n&&u?M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Cover"}),S.imageUrl?M.jsx("img",{src:S.imageUrl,alt:"Cover",className:"max-h-64 w-auto border border-paletteBorder"}):M.jsx("div",{className:"max-h-64 h-64 border border-paletteBorder flex items-center justify-center font-mono text-xs text-textSecondary",children:"No cover"}),M.jsx("div",{className:"mt-2 flex gap-2",children:M.jsxs("label",{className:"font-mono text-xs uppercase tracking-wider px-3 py-2 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 cursor-pointer rounded-sm",children:["Change cover",M.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:E})]})})]}),M.jsxs("div",{children:[M.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Gallery layout"}),M.jsxs("div",{className:"flex gap-4 mb-2",children:[M.jsxs("label",{className:"flex items-center gap-2 font-mono text-sm cursor-pointer",children:[M.jsx("input",{type:"radio",name:"galleryColumns",checked:(d.galleryColumns??1)===1,onChange:()=>h(K=>({...K,galleryColumns:1})),className:"border border-paletteBorder"}),"One column"]}),M.jsxs("label",{className:"flex items-center gap-2 font-mono text-sm cursor-pointer",children:[M.jsx("input",{type:"radio",name:"galleryColumns",checked:d.galleryColumns===2,onChange:()=>h(K=>({...K,galleryColumns:2})),className:"border border-paletteBorder"}),"Two columns"]})]}),M.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Gallery"}),M.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"block w-full text-sm font-mono file:mr-4 file:py-2 file:px-4 file:border file:border-paletteBorder file:bg-bgMain file:font-mono file:text-xs file:uppercase file:tracking-wider file:text-textPrimary file:hover:bg-neutral-800 file:hover:text-white file:transition-colors file:duration-150 file:rounded-sm mb-2",onChange:A}),M.jsx("div",{className:"flex flex-wrap gap-4",children:S.gallery.map((K,X)=>M.jsxs("div",{className:"flex flex-col",children:[M.jsx("img",{src:K,alt:"",className:"h-20 w-auto border border-paletteBorder"}),M.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[M.jsx("button",{type:"button",onClick:()=>T(X),className:"font-mono text-xs uppercase tracking-wider px-2 py-1 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Set as cover"}),M.jsxs("label",{className:"font-mono text-xs uppercase tracking-wider px-2 py-1 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white cursor-pointer transition-colors duration-150 rounded-sm",children:["Replace",M.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:fe=>j(X,fe)})]}),M.jsx("button",{type:"button",onClick:()=>_(X),disabled:S.gallery.length<=1,className:"font-mono text-xs uppercase tracking-wider px-2 py-1 border border-destructive bg-bgMain text-destructive hover:bg-destructive hover:text-white disabled:opacity-50 transition-colors duration-150 rounded-sm",children:"Remove"})]})]},X))})]})]}):M.jsx(M.Fragment,{children:S.gallery&&S.gallery.length>0?M.jsx("div",{className:`grid gap-0 max-w-4xl ${S.galleryColumns===2?"grid-cols-1 sm:grid-cols-2":"grid-cols-1"}`,children:S.gallery.map((K,X)=>M.jsx("div",{children:M.jsx(Kz,{src:K,alt:`${S.title} ${X+1}`})},X))}):null})});return M.jsx(Yz,{children:M.jsx("main",{className:`flex-1 min-h-0 flex overflow-hidden ${n?"flex-col pt-12":""}`,children:n?M.jsxs(M.Fragment,{children:[P,q]}):M.jsxs(M.Fragment,{children:[q,M.jsx("div",{className:"w-px shrink-0 bg-paletteBorder","aria-hidden":!0}),P]})})})},Xz=()=>Gi()?null:M.jsx(Ii,{to:"/",className:"fixed top-0 left-0 z-[100] h-12 flex items-center font-mono text-base uppercase tracking-wider text-textPrimary px-6 rounded-sm transition-opacity duration-150 hover:opacity-90",style:{backgroundColor:Af.accent},children:"Home"}),Qz=()=>{const t=Gi(),{isAdmin:e,logout:n}=Ll(),i=_l();return t||!e?null:M.jsxs("div",{className:"fixed bottom-0 left-0 z-[99] pl-6 pb-6 flex gap-2",children:[M.jsx(Ii,{to:"/project/new",className:"font-mono text-xs uppercase tracking-wider border border-paletteBorder px-3 py-2 bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Add project"}),M.jsx(Ii,{to:"/admin/deployment",className:"font-mono text-xs uppercase tracking-wider border border-paletteBorder px-3 py-2 bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Domain setup"}),M.jsx("button",{type:"button",onClick:()=>{n(),i("/")},className:"font-mono text-xs uppercase tracking-wider border border-paletteBorder px-3 py-2 bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Logout"})]})},Ag=({children:t})=>M.jsx("div",{className:"fixed inset-0 bg-bgMain flex flex-col overflow-hidden",children:t}),Wz=({data:t,onRefresh:e})=>{const{id:n}=GA(),i=t.projects.find(s=>s.id===n);return i?M.jsx(Jz,{project:i,onRefresh:e}):M.jsx(Ag,{children:M.jsx("main",{className:"pt-pageTop px-6 pb-12",children:M.jsx("p",{children:"Project not found."})})})},Zz=({data:t,onRefresh:e})=>{const n=Gi(),{isAdmin:i}=Ll(),[s,o]=un.useState(!1),[u,c]=un.useState(t.aboutMe);un.useEffect(()=>{c(t.aboutMe)},[t.aboutMe]);const d=async()=>{await Dk(u),e(),o(!1)},h=i&&!n;return M.jsx(Ag,{children:M.jsxs("main",{className:`flex-1 min-h-0 flex overflow-hidden ${n?"flex-col":""}`,children:[M.jsx("div",{className:n?"w-full min-w-0 overflow-y-auto pt-pageTop px-6 pb-12":`w-2/5 min-w-0 overflow-y-auto pt-pageTop px-6 ${i?"pb-24":"pb-12"}`,children:M.jsxs("div",{className:"max-w-xl",children:[h&&M.jsx("div",{className:"mb-6",children:s?M.jsxs("div",{className:"space-y-4",children:[M.jsx(Mg,{value:u,onChange:c,placeholder:"About me",minHeight:"14rem"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{type:"button",onClick:d,className:"font-mono text-sm uppercase tracking-wider px-4 py-2 bg-accent text-textPrimary hover:opacity-90 transition-opacity duration-150 rounded-sm",children:"Save"}),M.jsx("button",{type:"button",onClick:()=>{o(!1),c(t.aboutMe)},className:"font-mono text-sm uppercase tracking-wider px-4 py-2 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Cancel"})]})]}):M.jsx("button",{type:"button",onClick:()=>o(!0),className:"font-mono text-xs uppercase tracking-wider px-3 py-2 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Edit biography"})}),!s&&M.jsxs(M.Fragment,{children:[M.jsx("h1",{className:"text-3xl font-bold mb-8 text-textPrimary",children:"About me"}),M.jsx("div",{className:"space-y-6 text-base leading-relaxed text-textPrimary",children:M.jsx(Hm,{html:t.aboutMe})})]})]})}),!n&&M.jsx("div",{className:"w-px shrink-0 bg-paletteBorder","aria-hidden":!0}),M.jsx("div",{className:n?"w-full min-w-0 overflow-y-auto pt-6 px-6 pb-12 flex items-center justify-center text-textSecondary":"w-3/5 min-w-0 overflow-y-auto pt-pageTop px-6 pb-12 flex items-center justify-center text-textSecondary",children:null})]})})},e3=()=>{const t=Gi();return M.jsx(Ag,{children:M.jsxs("main",{className:`flex-1 min-h-0 flex overflow-hidden ${t?"flex-col":""}`,children:[M.jsx("div",{className:t?"w-full min-w-0 overflow-y-auto pt-pageTop px-6 pb-12":"w-2/5 min-w-0 overflow-y-auto pt-pageTop px-6 pb-12",children:M.jsxs("div",{className:"max-w-xl",children:[M.jsx("h1",{className:"text-3xl font-bold mb-8 text-textPrimary",children:"Contact"}),M.jsx("p",{className:"mb-4",children:M.jsx("a",{href:"mailto:sphnsx@aol.com",className:"underline font-medium transition-colors duration-150 hover:opacity-80",children:"sphnsx@aol.com"})}),M.jsx("p",{children:M.jsx("a",{href:"https://www.instagram.com/sphnsx/",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium transition-colors duration-150 hover:opacity-80",children:"Instagram"})})]})}),!t&&M.jsx("div",{className:"w-px shrink-0 bg-paletteBorder","aria-hidden":!0}),M.jsx("div",{className:t?"w-full min-w-0 overflow-y-auto pt-6 px-6 pb-12 flex items-center justify-center text-textSecondary":"w-3/5 min-w-0 overflow-y-auto pt-pageTop px-6 pb-12 flex items-center justify-center text-textSecondary",children:null})]})})},t3=()=>M.jsxs("main",{className:"min-h-screen flex flex-col items-center justify-center p-8 text-center",children:[M.jsx("h1",{className:"text-3xl font-bold mb-4 text-textPrimary",children:"404"}),M.jsx("p",{className:"text-base text-textSecondary mb-6 leading-relaxed",children:"Page not found."}),M.jsx(Ii,{to:"/",className:"text-sm underline transition-colors duration-150 hover:opacity-80",children:"Go home"})]}),n3=()=>(typeof import.meta<"u"&&"/"||"/").replace(/\/$/,"")||"",r3=()=>{const t=mr();return R.useEffect(()=>{const e=window.location.pathname,n=window.location.hash;if(n&&n!=="#")return;const i=n3(),s=e===i||e===i+"/"?"/":e.startsWith(i+"/")?e.slice(i.length)||"/":e.startsWith("/")?e:"/"+e,o="#"+(s.startsWith("/")?s:"/"+s);window.location.hash=o;const u=s==="/admin"||s.startsWith("/admin/")?"/"+o:i?i+o:"/"+o;window.location.pathname+window.location.hash!==u&&window.history.replaceState(void 0,"",window.location.origin+u)},[t.pathname]),null},i3=()=>{const t=Gi(),e=mr(),n=_l();return R.useEffect(()=>{if(!t)return;const i=e.pathname;(i==="/project/new"||i==="/admin/deployment")&&n("/")},[t,e.pathname,n]),null},l3=({children:t})=>{const{isAdmin:e}=Ll(),n=_l();return R.useEffect(()=>{e||n("/admin")},[e,n]),e?M.jsx(M.Fragment,{children:t}):null},s3=()=>{const t=Gi(),[e,n]=R.useState(Rk()),i=()=>Pi().then(n);return R.useEffect(()=>{Pi().then(n)},[]),M.jsx(Nw,{children:M.jsxs(Mk,{children:[M.jsx(r3,{}),M.jsx(i3,{}),M.jsxs("div",{className:"min-h-screen bg-bgMain text-textPrimary font-sans",children:[t&&M.jsx(Vk,{}),M.jsx(Xz,{}),M.jsx(Qz,{}),M.jsxs(lw,{children:[M.jsx(sr,{path:"/",element:M.jsx(Ik,{data:e,onRefresh:i})}),M.jsx(sr,{path:"/project/new",element:M.jsx(Fz,{data:e,onRefresh:i})}),M.jsx(sr,{path:"/project/:id",element:M.jsx(Wz,{data:e,onRefresh:i})}),M.jsx(sr,{path:"/about",element:M.jsx(Zz,{data:e,onRefresh:i})}),M.jsx(sr,{path:"/contact",element:M.jsx(e3,{})}),M.jsx(sr,{path:"/admin",element:M.jsx(Vv,{})}),M.jsx(sr,{path:"/a",element:M.jsx(Vv,{})}),M.jsx(sr,{path:"/admin/deployment",element:M.jsx(l3,{children:M.jsx(qk,{})})}),M.jsx(sr,{path:"*",element:M.jsx(t3,{})})]})]})]})})},T1=window.location.pathname.replace(/\/$/,"")||"/";(T1==="/admin"||T1==="/a")&&(window.location.hash="#/admin");const qT=document.getElementById("root");if(!qT)throw new Error("Could not find root element to mount to");const o3=oA.createRoot(qT);o3.render(M.jsx(un.StrictMode,{children:M.jsx(s3,{})}));
