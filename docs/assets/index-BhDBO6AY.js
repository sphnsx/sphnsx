(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Nm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xh={exports:{}},qo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function XC(){if(cv)return qo;cv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:o}}return qo.Fragment=e,qo.jsx=n,qo.jsxs=n,qo}var fv;function JC(){return fv||(fv=1,Xh.exports=XC()),Xh.exports}var C=JC(),Jh={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function QC(){if(dv)return be;dv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function A(k,Y,Z){this.props=k,this.context=Y,this.refs=T,this.updater=Z||S}A.prototype.isReactComponent={},A.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function _(){}_.prototype=A.prototype;function B(k,Y,Z){this.props=k,this.context=Y,this.refs=T,this.updater=Z||S}var $=B.prototype=new _;$.constructor=B,E($,A.prototype),$.isPureReactComponent=!0;var H=Array.isArray;function q(){}var P={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function J(k,Y,Z){var ie=Z.ref;return{$$typeof:t,type:k,key:Y,ref:ie!==void 0?ie:null,props:Z}}function fe(k,Y){return J(k.type,Y,k.props)}function oe(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function Te(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Z){return Y[Z]})}var te=/\/+/g;function de(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?Te(""+k.key):Y.toString(36)}function Se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(q,q):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function I(k,Y,Z,ie,se){var ve=typeof k;(ve==="undefined"||ve==="boolean")&&(k=null);var _e=!1;if(k===null)_e=!0;else switch(ve){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(k.$$typeof){case t:case e:_e=!0;break;case m:return _e=k._init,I(_e(k._payload),Y,Z,ie,se)}}if(_e)return se=se(k),_e=ie===""?"."+de(k,0):ie,H(se)?(Z="",_e!=null&&(Z=_e.replace(te,"$&/")+"/"),I(se,Y,Z,"",function(pr){return pr})):se!=null&&(oe(se)&&(se=fe(se,Z+(se.key==null||k&&k.key===se.key?"":(""+se.key).replace(te,"$&/")+"/")+_e)),Y.push(se)),1;_e=0;var lt=ie===""?".":ie+":";if(H(k))for(var We=0;We<k.length;We++)ie=k[We],ve=lt+de(ie,We),_e+=I(ie,Y,Z,ve,se);else if(We=v(k),typeof We=="function")for(k=We.call(k),We=0;!(ie=k.next()).done;)ie=ie.value,ve=lt+de(ie,We++),_e+=I(ie,Y,Z,ve,se);else if(ve==="object"){if(typeof k.then=="function")return I(Se(k),Y,Z,ie,se);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _e}function ee(k,Y,Z){if(k==null)return k;var ie=[],se=0;return I(k,ie,"","",function(ve){return Y.call(Z,ve,se++)}),ie}function me(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(Z){(k._status===0||k._status===-1)&&(k._status=1,k._result=Z)},function(Z){(k._status===0||k._status===-1)&&(k._status=2,k._result=Z)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var je=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},He={map:ee,forEach:function(k,Y,Z){ee(k,function(){Y.apply(this,arguments)},Z)},count:function(k){var Y=0;return ee(k,function(){Y++}),Y},toArray:function(k){return ee(k,function(Y){return Y})||[]},only:function(k){if(!oe(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return be.Activity=y,be.Children=He,be.Component=A,be.Fragment=n,be.Profiler=s,be.PureComponent=B,be.StrictMode=i,be.Suspense=d,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,be.__COMPILER_RUNTIME={__proto__:null,c:function(k){return P.H.useMemoCache(k)}},be.cache=function(k){return function(){return k.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(k,Y,Z){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=E({},k.props),se=k.key;if(Y!=null)for(ve in Y.key!==void 0&&(se=""+Y.key),Y)!K.call(Y,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Y.ref===void 0||(ie[ve]=Y[ve]);var ve=arguments.length-2;if(ve===1)ie.children=Z;else if(1<ve){for(var _e=Array(ve),lt=0;lt<ve;lt++)_e[lt]=arguments[lt+2];ie.children=_e}return J(k.type,se,ie)},be.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},be.createElement=function(k,Y,Z){var ie,se={},ve=null;if(Y!=null)for(ie in Y.key!==void 0&&(ve=""+Y.key),Y)K.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(se[ie]=Y[ie]);var _e=arguments.length-2;if(_e===1)se.children=Z;else if(1<_e){for(var lt=Array(_e),We=0;We<_e;We++)lt[We]=arguments[We+2];se.children=lt}if(k&&k.defaultProps)for(ie in _e=k.defaultProps,_e)se[ie]===void 0&&(se[ie]=_e[ie]);return J(k,ve,se)},be.createRef=function(){return{current:null}},be.forwardRef=function(k){return{$$typeof:c,render:k}},be.isValidElement=oe,be.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:me}},be.memo=function(k,Y){return{$$typeof:h,type:k,compare:Y===void 0?null:Y}},be.startTransition=function(k){var Y=P.T,Z={};P.T=Z;try{var ie=k(),se=P.S;se!==null&&se(Z,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(q,je)}catch(ve){je(ve)}finally{Y!==null&&Z.types!==null&&(Y.types=Z.types),P.T=Y}},be.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},be.use=function(k){return P.H.use(k)},be.useActionState=function(k,Y,Z){return P.H.useActionState(k,Y,Z)},be.useCallback=function(k,Y){return P.H.useCallback(k,Y)},be.useContext=function(k){return P.H.useContext(k)},be.useDebugValue=function(){},be.useDeferredValue=function(k,Y){return P.H.useDeferredValue(k,Y)},be.useEffect=function(k,Y){return P.H.useEffect(k,Y)},be.useEffectEvent=function(k){return P.H.useEffectEvent(k)},be.useId=function(){return P.H.useId()},be.useImperativeHandle=function(k,Y,Z){return P.H.useImperativeHandle(k,Y,Z)},be.useInsertionEffect=function(k,Y){return P.H.useInsertionEffect(k,Y)},be.useLayoutEffect=function(k,Y){return P.H.useLayoutEffect(k,Y)},be.useMemo=function(k,Y){return P.H.useMemo(k,Y)},be.useOptimistic=function(k,Y){return P.H.useOptimistic(k,Y)},be.useReducer=function(k,Y,Z){return P.H.useReducer(k,Y,Z)},be.useRef=function(k){return P.H.useRef(k)},be.useState=function(k){return P.H.useState(k)},be.useSyncExternalStore=function(k,Y,Z){return P.H.useSyncExternalStore(k,Y,Z)},be.useTransition=function(){return P.H.useTransition()},be.version="19.2.3",be}var hv;function Na(){return hv||(hv=1,Jh.exports=QC()),Jh.exports}var R=Na();const an=Nm(R);var Qh={exports:{}},Go={},Wh={exports:{}},Zh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function WC(){return pv||(pv=1,(function(t){function e(I,ee){var me=I.length;I.push(ee);e:for(;0<me;){var je=me-1>>>1,He=I[je];if(0<s(He,ee))I[je]=ee,I[me]=He,me=je;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var ee=I[0],me=I.pop();if(me!==ee){I[0]=me;e:for(var je=0,He=I.length,k=He>>>1;je<k;){var Y=2*(je+1)-1,Z=I[Y],ie=Y+1,se=I[ie];if(0>s(Z,me))ie<He&&0>s(se,Z)?(I[je]=se,I[ie]=me,je=ie):(I[je]=Z,I[Y]=me,je=Y);else if(ie<He&&0>s(se,me))I[je]=se,I[ie]=me,je=ie;else break e}}return ee}function s(I,ee){var me=I.sortIndex-ee.sortIndex;return me!==0?me:I.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var d=[],h=[],m=1,y=null,b=3,v=!1,S=!1,E=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function $(I){for(var ee=n(h);ee!==null;){if(ee.callback===null)i(h);else if(ee.startTime<=I)i(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(h)}}function H(I){if(E=!1,$(I),!S)if(n(d)!==null)S=!0,q||(q=!0,Te());else{var ee=n(h);ee!==null&&Se(H,ee.startTime-I)}}var q=!1,P=-1,K=5,J=-1;function fe(){return T?!0:!(t.unstable_now()-J<K)}function oe(){if(T=!1,q){var I=t.unstable_now();J=I;var ee=!0;try{e:{S=!1,E&&(E=!1,_(P),P=-1),v=!0;var me=b;try{t:{for($(I),y=n(d);y!==null&&!(y.expirationTime>I&&fe());){var je=y.callback;if(typeof je=="function"){y.callback=null,b=y.priorityLevel;var He=je(y.expirationTime<=I);if(I=t.unstable_now(),typeof He=="function"){y.callback=He,$(I),ee=!0;break t}y===n(d)&&i(d),$(I)}else i(d);y=n(d)}if(y!==null)ee=!0;else{var k=n(h);k!==null&&Se(H,k.startTime-I),ee=!1}}break e}finally{y=null,b=me,v=!1}ee=void 0}}finally{ee?Te():q=!1}}}var Te;if(typeof B=="function")Te=function(){B(oe)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=oe,Te=function(){de.postMessage(null)}}else Te=function(){A(oe,0)};function Se(I,ee){P=A(function(){I(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(I){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var me=b;b=ee;try{return I()}finally{b=me}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(I,ee){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var me=b;b=I;try{return ee()}finally{b=me}},t.unstable_scheduleCallback=function(I,ee,me){var je=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,I){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=me+He,I={id:m++,callback:ee,priorityLevel:I,startTime:me,expirationTime:He,sortIndex:-1},me>je?(I.sortIndex=me,e(h,I),n(d)===null&&I===n(h)&&(E?(_(P),P=-1):E=!0,Se(H,me-je))):(I.sortIndex=He,e(d,I),S||v||(S=!0,q||(q=!0,Te()))),I},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(I){var ee=b;return function(){var me=b;b=ee;try{return I.apply(this,arguments)}finally{b=me}}}})(Zh)),Zh}var mv;function ZC(){return mv||(mv=1,Wh.exports=WC()),Wh.exports}var ep={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function eA(){if(gv)return Pt;gv=1;var t=Na();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Pt.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},Pt.flushSync=function(d){var h=u.T,m=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=h,i.p=m,i.d.f()}},Pt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Pt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Pt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):m==="script"&&i.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Pt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Pt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Pt.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Pt.requestFormReset=function(d){i.d.r(d)},Pt.unstable_batchedUpdates=function(d,h){return d(h)},Pt.useFormState=function(d,h,m){return u.H.useFormState(d,h,m)},Pt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pt.version="19.2.3",Pt}var yv;function E1(){if(yv)return ep.exports;yv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ep.exports=eA(),ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function tA(){if(bv)return Go;bv=1;var t=ZC(),e=Na(),n=E1();function i(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)l+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,a=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(a=l.return),r=l.return;while(r)}return l.tag===3?a:null}function u(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function c(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function h(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(i(188));return l!==r?null:r}for(var a=r,f=l;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(f=p.return,f!==null){a=f;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return d(p),r;if(g===f)return d(p),l;g=g.sibling}throw Error(i(188))}if(a.return!==f.return)a=p,f=g;else{for(var x=!1,M=p.child;M;){if(M===a){x=!0,a=p,f=g;break}if(M===f){x=!0,f=p,a=g;break}M=M.sibling}if(!x){for(M=g.child;M;){if(M===a){x=!0,a=g,f=p;break}if(M===f){x=!0,f=g,a=p;break}M=M.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==f)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:l}function m(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=m(r),l!==null)return l;r=r.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function Te(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var te=Symbol.for("react.client.reference");function de(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===te?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case q:return"SuspenseList";case J:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case B:return r.displayName||"Context";case _:return(r._context.displayName||"Context")+".Consumer";case $:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return l=r.displayName||null,l!==null?l:de(r.type)||"Memo";case K:l=r._payload,r=r._init;try{return de(r(l))}catch{}}return null}var Se=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],He=-1;function k(r){return{current:r}}function Y(r){0>He||(r.current=je[He],je[He]=null,He--)}function Z(r,l){He++,je[He]=r.current,r.current=l}var ie=k(null),se=k(null),ve=k(null),_e=k(null);function lt(r,l){switch(Z(ve,l),Z(se,r),Z(ie,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?_b(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=_b(l),r=Lb(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Y(ie),Z(ie,r)}function We(){Y(ie),Y(se),Y(ve)}function pr(r){r.memoizedState!==null&&Z(_e,r);var l=ie.current,a=Lb(l,r.type);l!==a&&(Z(se,r),Z(ie,a))}function Yi(r){se.current===r&&(Y(ie),Y(se)),_e.current===r&&(Y(_e),Uo._currentValue=me)}var Bl,mr;function En(r){if(Bl===void 0)try{throw Error()}catch(a){var l=a.stack.trim().match(/\n( *(at )?)/);Bl=l&&l[1]||"",mr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bl+r+mr}var Gn=!1;function Ki(r,l){if(!r||Gn)return"";Gn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(U){var j=U}Reflect.construct(r,[],F)}else{try{F.call()}catch(U){j=U}r.call(F.prototype)}}else{try{throw Error()}catch(U){j=U}(F=r())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(U){if(U&&j&&typeof U.stack=="string")return[U.stack,j.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),x=g[0],M=g[1];if(x&&M){var w=x.split(`
`),z=M.split(`
`);for(p=f=0;f<w.length&&!w[f].includes("DetermineComponentFrameRoot");)f++;for(;p<z.length&&!z[p].includes("DetermineComponentFrameRoot");)p++;if(f===w.length||p===z.length)for(f=w.length-1,p=z.length-1;1<=f&&0<=p&&w[f]!==z[p];)p--;for(;1<=f&&0<=p;f--,p--)if(w[f]!==z[p]){if(f!==1||p!==1)do if(f--,p--,0>p||w[f]!==z[p]){var V=`
`+w[f].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=f&&0<=p);break}}}finally{Gn=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?En(a):""}function Vs(r,l){switch(r.tag){case 26:case 27:case 5:return En(r.type);case 16:return En("Lazy");case 13:return r.child!==l&&l!==null?En("Suspense Fallback"):En("Suspense");case 19:return En("SuspenseList");case 0:case 15:return Ki(r.type,!1);case 11:return Ki(r.type.render,!1);case 1:return Ki(r.type,!0);case 31:return En("Activity");default:return""}}function gr(r){try{var l="",a=null;do l+=Vs(r,a),a=r,r=r.return;while(r);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Qr=Object.prototype.hasOwnProperty,Wr=t.unstable_scheduleCallback,jl=t.unstable_cancelCallback,ja=t.unstable_shouldYield,If=t.unstable_requestPaint,Rt=t.unstable_now,Xi=t.unstable_getCurrentPriorityLevel,yr=t.unstable_ImmediatePriority,cn=t.unstable_UserBlockingPriority,Zr=t.unstable_NormalPriority,Ha=t.unstable_LowPriority,qs=t.unstable_IdlePriority,Gs=t.log,Ua=t.unstable_setDisableYieldValue,Zn=null,Ct=null;function At(r){if(typeof Gs=="function"&&Ua(r),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Zn,r)}catch{}}var pt=Math.clz32?Math.clz32:Pf,$s=Math.log,Fs=Math.LN2;function Pf(r){return r>>>=0,r===0?32:31-($s(r)/Fs|0)|0}var br=256,vr=262144,Hl=4194304;function fn(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ul(r,l,a){var f=r.pendingLanes;if(f===0)return 0;var p=0,g=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var M=f&134217727;return M!==0?(f=M&~g,f!==0?p=fn(f):(x&=M,x!==0?p=fn(x):a||(a=M&~r,a!==0&&(p=fn(a))))):(M=f&~g,M!==0?p=fn(M):x!==0?p=fn(x):a||(a=f&~r,a!==0&&(p=fn(a)))),p===0?0:l!==0&&l!==p&&(l&g)===0&&(g=p&-p,a=l&-l,g>=a||g===32&&(a&4194048)!==0)?l:p}function Ji(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function ct(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(){var r=Hl;return Hl<<=1,(Hl&62914560)===0&&(Hl=4194304),r}function Ys(r){for(var l=[],a=0;31>a;a++)l.push(r);return l}function ei(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ks(r,l,a,f,p,g){var x=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var M=r.entanglements,w=r.expirationTimes,z=r.hiddenUpdates;for(a=x&~a;0<a;){var V=31-pt(a),F=1<<V;M[V]=0,w[V]=-1;var j=z[V];if(j!==null)for(z[V]=null,V=0;V<j.length;V++){var U=j[V];U!==null&&(U.lane&=-536870913)}a&=~F}f!==0&&Xs(r,f,0),g!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=g&~(x&~l))}function Xs(r,l,a){r.pendingLanes|=l,r.suspendedLanes&=~l;var f=31-pt(l);r.entangledLanes|=l,r.entanglements[f]=r.entanglements[f]|1073741824|a&261930}function Js(r,l){var a=r.entangledLanes|=l;for(r=r.entanglements;a;){var f=31-pt(a),p=1<<f;p&l|r[f]&l&&(r[f]|=l),a&=~p}}function Ia(r,l){var a=l&-l;return a=(a&42)!==0?1:Wt(a),(a&(r.suspendedLanes|l))!==0?0:a}function Wt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function $n(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qs(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:rv(r.type))}function Ws(r,l){var a=ee.p;try{return ee.p=r,l()}finally{ee.p=a}}var Tn=Math.random().toString(36).slice(2),mt="__reactFiber$"+Tn,Ze="__reactProps$"+Tn,Sr="__reactContainer$"+Tn,Il="__reactEvents$"+Tn,Pa="__reactListeners$"+Tn,Va="__reactHandles$"+Tn,qa="__reactResources$"+Tn,ae="__reactMarker$"+Tn;function N(r){delete r[mt],delete r[Ze],delete r[Il],delete r[Pa],delete r[Va]}function Q(r){var l=r[mt];if(l)return l;for(var a=r.parentNode;a;){if(l=a[Sr]||a[mt]){if(a=l.alternate,l.child!==null||a!==null&&a.child!==null)for(r=Pb(r);r!==null;){if(a=r[mt])return a;r=Pb(r)}return l}r=a,a=r.parentNode}return null}function re(r){if(r=r[mt]||r[Sr]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function Ue(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(i(33))}function tt(r){var l=r[qa];return l||(l=r[qa]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ae(r){r[ae]=!0}var Dt=new Set,Mn={};function Zt(r,l){er(r,l),er(r+"Capture",l)}function er(r,l){for(Mn[r]=l,r=0;r<l.length;r++)Dt.add(l[r])}var Et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zs={},eo={};function PT(r){return Qr.call(eo,r)?!0:Qr.call(Zs,r)?!1:Et.test(r)?eo[r]=!0:(Zs[r]=!0,!1)}function Ga(r,l,a){if(PT(l))if(a===null)r.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+a)}}function $a(r,l,a){if(a===null)r.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+a)}}function Er(r,l,a,f){if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(l,a,""+f)}}function Cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Cg(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function VT(r,l,a){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var p=f.get,g=f.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return p.call(this)},set:function(x){a=""+x,g.call(this,x)}}),Object.defineProperty(r,l,{enumerable:f.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Vf(r){if(!r._valueTracker){var l=Cg(r)?"checked":"value";r._valueTracker=VT(r,l,""+r[l])}}function Ag(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var a=l.getValue(),f="";return r&&(f=Cg(r)?r.checked?"true":"false":r.value),r=f,r!==a?(l.setValue(r),!0):!1}function Fa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var qT=/[\n"\\]/g;function An(r){return r.replace(qT,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qf(r,l,a,f,p,g,x,M){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),l!=null?x==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Cn(l)):r.value!==""+Cn(l)&&(r.value=""+Cn(l)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),l!=null?Gf(r,x,Cn(l)):a!=null?Gf(r,x,Cn(a)):f!=null&&r.removeAttribute("value"),p==null&&g!=null&&(r.defaultChecked=!!g),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.name=""+Cn(M):r.removeAttribute("name")}function wg(r,l,a,f,p,g,x,M){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),l!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||l!=null)){Vf(r);return}a=a!=null?""+Cn(a):"",l=l!=null?""+Cn(l):a,M||l===r.value||(r.value=l),r.defaultValue=l}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=M?r.checked:!!f,r.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x),Vf(r)}function Gf(r,l,a){l==="number"&&Fa(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Pl(r,l,a,f){if(r=r.options,l){l={};for(var p=0;p<a.length;p++)l["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=l.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&f&&(r[a].defaultSelected=!0)}else{for(a=""+Cn(a),l=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}l!==null||r[p].disabled||(l=r[p])}l!==null&&(l.selected=!0)}}function kg(r,l,a){if(l!=null&&(l=""+Cn(l),l!==r.value&&(r.value=l),a==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=a!=null?""+Cn(a):""}function Ng(r,l,a,f){if(l==null){if(f!=null){if(a!=null)throw Error(i(92));if(Se(f)){if(1<f.length)throw Error(i(93));f=f[0]}a=f}a==null&&(a=""),l=a}a=Cn(l),r.defaultValue=a,f=r.textContent,f===a&&f!==""&&f!==null&&(r.value=f),Vf(r)}function Vl(r,l){if(l){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=l;return}}r.textContent=l}var GT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Og(r,l,a){var f=l.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?f?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":f?r.setProperty(l,a):typeof a!="number"||a===0||GT.has(l)?l==="float"?r.cssFloat=a:r[l]=(""+a).trim():r[l]=a+"px"}function Rg(r,l,a){if(l!=null&&typeof l!="object")throw Error(i(62));if(r=r.style,a!=null){for(var f in a)!a.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var p in l)f=l[p],l.hasOwnProperty(p)&&a[p]!==f&&Og(r,p,f)}else for(var g in l)l.hasOwnProperty(g)&&Og(r,g,l[g])}function $f(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $T=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(r){return FT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Tr(){}var Ff=null;function Yf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ql=null,Gl=null;function Dg(r){var l=re(r);if(l&&(r=l.stateNode)){var a=r[Ze]||null;e:switch(r=l.stateNode,l.type){case"input":if(qf(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),l=a.name,a.type==="radio"&&l!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+l)+'"][type="radio"]'),l=0;l<a.length;l++){var f=a[l];if(f!==r&&f.form===r.form){var p=f[Ze]||null;if(!p)throw Error(i(90));qf(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<a.length;l++)f=a[l],f.form===r.form&&Ag(f)}break e;case"textarea":kg(r,a.value,a.defaultValue);break e;case"select":l=a.value,l!=null&&Pl(r,!!a.multiple,l,!1)}}}var Kf=!1;function _g(r,l,a){if(Kf)return r(l,a);Kf=!0;try{var f=r(l);return f}finally{if(Kf=!1,(ql!==null||Gl!==null)&&(Lu(),ql&&(l=ql,r=Gl,Gl=ql=null,Dg(l),r)))for(l=0;l<r.length;l++)Dg(r[l])}}function to(r,l){var a=r.stateNode;if(a===null)return null;var f=a[Ze]||null;if(f===null)return null;a=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,l,typeof a));return a}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=!1;if(Mr)try{var no={};Object.defineProperty(no,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{Xf=!1}var ti=null,Jf=null,Ka=null;function Lg(){if(Ka)return Ka;var r,l=Jf,a=l.length,f,p="value"in ti?ti.value:ti.textContent,g=p.length;for(r=0;r<a&&l[r]===p[r];r++);var x=a-r;for(f=1;f<=x&&l[a-f]===p[g-f];f++);return Ka=p.slice(r,1<f?1-f:void 0)}function Xa(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function Ja(){return!0}function zg(){return!1}function en(r){function l(a,f,p,g,x){this._reactName=a,this._targetInst=p,this.type=f,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(a=r[M],this[M]=a?a(g):g[M]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ja:zg,this.isPropagationStopped=zg,this}return y(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),l}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=en(Qi),ro=y({},Qi,{view:0,detail:0}),YT=en(ro),Qf,Wf,io,Wa=y({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ed,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==io&&(io&&r.type==="mousemove"?(Qf=r.screenX-io.screenX,Wf=r.screenY-io.screenY):Wf=Qf=0,io=r),Qf)},movementY:function(r){return"movementY"in r?r.movementY:Wf}}),Bg=en(Wa),KT=y({},Wa,{dataTransfer:0}),XT=en(KT),JT=y({},ro,{relatedTarget:0}),Zf=en(JT),QT=y({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),WT=en(QT),ZT=y({},Qi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),eM=en(ZT),tM=y({},Qi,{data:0}),jg=en(tM),nM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lM(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=iM[r])?!!l[r]:!1}function ed(){return lM}var sM=y({},ro,{key:function(r){if(r.key){var l=nM[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=Xa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rM[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ed,charCode:function(r){return r.type==="keypress"?Xa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),oM=en(sM),aM=y({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hg=en(aM),uM=y({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ed}),cM=en(uM),fM=y({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),dM=en(fM),hM=y({},Wa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),pM=en(hM),mM=y({},Qi,{newState:0,oldState:0}),gM=en(mM),yM=[9,13,27,32],td=Mr&&"CompositionEvent"in window,lo=null;Mr&&"documentMode"in document&&(lo=document.documentMode);var bM=Mr&&"TextEvent"in window&&!lo,Ug=Mr&&(!td||lo&&8<lo&&11>=lo),Ig=" ",Pg=!1;function Vg(r,l){switch(r){case"keyup":return yM.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $l=!1;function vM(r,l){switch(r){case"compositionend":return qg(l);case"keypress":return l.which!==32?null:(Pg=!0,Ig);case"textInput":return r=l.data,r===Ig&&Pg?null:r;default:return null}}function xM(r,l){if($l)return r==="compositionend"||!td&&Vg(r,l)?(r=Lg(),Ka=Jf=ti=null,$l=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ug&&l.locale!=="ko"?null:l.data;default:return null}}var SM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!SM[r.type]:l==="textarea"}function $g(r,l,a,f){ql?Gl?Gl.push(f):Gl=[f]:ql=f,l=Pu(l,"onChange"),0<l.length&&(a=new Qa("onChange","change",null,a,f),r.push({event:a,listeners:l}))}var so=null,oo=null;function EM(r){wb(r,0)}function Za(r){var l=Ue(r);if(Ag(l))return r}function Fg(r,l){if(r==="change")return l}var Yg=!1;if(Mr){var nd;if(Mr){var rd="oninput"in document;if(!rd){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),rd=typeof Kg.oninput=="function"}nd=rd}else nd=!1;Yg=nd&&(!document.documentMode||9<document.documentMode)}function Xg(){so&&(so.detachEvent("onpropertychange",Jg),oo=so=null)}function Jg(r){if(r.propertyName==="value"&&Za(oo)){var l=[];$g(l,oo,r,Yf(r)),_g(EM,l)}}function TM(r,l,a){r==="focusin"?(Xg(),so=l,oo=a,so.attachEvent("onpropertychange",Jg)):r==="focusout"&&Xg()}function MM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Za(oo)}function CM(r,l){if(r==="click")return Za(l)}function AM(r,l){if(r==="input"||r==="change")return Za(l)}function wM(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var dn=typeof Object.is=="function"?Object.is:wM;function ao(r,l){if(dn(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var a=Object.keys(r),f=Object.keys(l);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var p=a[f];if(!Qr.call(l,p)||!dn(r[p],l[p]))return!1}return!0}function Qg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wg(r,l){var a=Qg(r);r=0;for(var f;a;){if(a.nodeType===3){if(f=r+a.textContent.length,r<=l&&f>=l)return{node:a,offset:l-r};r=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function Zg(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?Zg(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function ey(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=Fa(r.document);l instanceof r.HTMLIFrameElement;){try{var a=typeof l.contentWindow.location.href=="string"}catch{a=!1}if(a)r=l.contentWindow;else break;l=Fa(r.document)}return l}function id(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var kM=Mr&&"documentMode"in document&&11>=document.documentMode,Fl=null,ld=null,uo=null,sd=!1;function ty(r,l,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sd||Fl==null||Fl!==Fa(f)||(f=Fl,"selectionStart"in f&&id(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),uo&&ao(uo,f)||(uo=f,f=Pu(ld,"onSelect"),0<f.length&&(l=new Qa("onSelect","select",null,l,a),r.push({event:l,listeners:f}),l.target=Fl)))}function Wi(r,l){var a={};return a[r.toLowerCase()]=l.toLowerCase(),a["Webkit"+r]="webkit"+l,a["Moz"+r]="moz"+l,a}var Yl={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionrun:Wi("Transition","TransitionRun"),transitionstart:Wi("Transition","TransitionStart"),transitioncancel:Wi("Transition","TransitionCancel"),transitionend:Wi("Transition","TransitionEnd")},od={},ny={};Mr&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Zi(r){if(od[r])return od[r];if(!Yl[r])return r;var l=Yl[r],a;for(a in l)if(l.hasOwnProperty(a)&&a in ny)return od[r]=l[a];return r}var ry=Zi("animationend"),iy=Zi("animationiteration"),ly=Zi("animationstart"),NM=Zi("transitionrun"),OM=Zi("transitionstart"),RM=Zi("transitioncancel"),sy=Zi("transitionend"),oy=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function Fn(r,l){oy.set(r,l),Zt(l,[r])}var eu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},wn=[],Kl=0,ud=0;function tu(){for(var r=Kl,l=ud=Kl=0;l<r;){var a=wn[l];wn[l++]=null;var f=wn[l];wn[l++]=null;var p=wn[l];wn[l++]=null;var g=wn[l];if(wn[l++]=null,f!==null&&p!==null){var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}g!==0&&ay(a,p,g)}}function nu(r,l,a,f){wn[Kl++]=r,wn[Kl++]=l,wn[Kl++]=a,wn[Kl++]=f,ud|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function cd(r,l,a,f){return nu(r,l,a,f),ru(r)}function el(r,l){return nu(r,null,null,l),ru(r)}function ay(r,l,a){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a);for(var p=!1,g=r.return;g!==null;)g.childLanes|=a,f=g.alternate,f!==null&&(f.childLanes|=a),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(p=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,p&&l!==null&&(p=31-pt(a),r=g.hiddenUpdates,f=r[p],f===null?r[p]=[l]:f.push(l),l.lane=a|536870912),g):null}function ru(r){if(50<Do)throw Do=0,vh=null,Error(i(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var Xl={};function DM(r,l,a,f){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(r,l,a,f){return new DM(r,l,a,f)}function fd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Cr(r,l){var a=r.alternate;return a===null?(a=hn(r.tag,l,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=l,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,l=r.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function uy(r,l){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,l=a.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function iu(r,l,a,f,p,g){var x=0;if(f=r,typeof r=="function")fd(r)&&(x=1);else if(typeof r=="string")x=jC(r,a,ie.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case J:return r=hn(31,a,l,p),r.elementType=J,r.lanes=g,r;case E:return tl(a.children,p,g,l);case T:x=8,p|=24;break;case A:return r=hn(12,a,l,p|2),r.elementType=A,r.lanes=g,r;case H:return r=hn(13,a,l,p),r.elementType=H,r.lanes=g,r;case q:return r=hn(19,a,l,p),r.elementType=q,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:x=10;break e;case _:x=9;break e;case $:x=11;break e;case P:x=14;break e;case K:x=16,f=null;break e}x=29,a=Error(i(130,r===null?"null":typeof r,"")),f=null}return l=hn(x,a,l,p),l.elementType=r,l.type=f,l.lanes=g,l}function tl(r,l,a,f){return r=hn(7,r,f,l),r.lanes=a,r}function dd(r,l,a){return r=hn(6,r,null,l),r.lanes=a,r}function cy(r){var l=hn(18,null,null,0);return l.stateNode=r,l}function hd(r,l,a){return l=hn(4,r.children!==null?r.children:[],r.key,l),l.lanes=a,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var fy=new WeakMap;function kn(r,l){if(typeof r=="object"&&r!==null){var a=fy.get(r);return a!==void 0?a:(l={value:r,source:l,stack:gr(l)},fy.set(r,l),l)}return{value:r,source:l,stack:gr(l)}}var Jl=[],Ql=0,lu=null,co=0,Nn=[],On=0,ni=null,tr=1,nr="";function Ar(r,l){Jl[Ql++]=co,Jl[Ql++]=lu,lu=r,co=l}function dy(r,l,a){Nn[On++]=tr,Nn[On++]=nr,Nn[On++]=ni,ni=r;var f=tr;r=nr;var p=32-pt(f)-1;f&=~(1<<p),a+=1;var g=32-pt(l)+p;if(30<g){var x=p-p%5;g=(f&(1<<x)-1).toString(32),f>>=x,p-=x,tr=1<<32-pt(l)+p|a<<p|f,nr=g+r}else tr=1<<g|a<<p|f,nr=r}function pd(r){r.return!==null&&(Ar(r,1),dy(r,1,0))}function md(r){for(;r===lu;)lu=Jl[--Ql],Jl[Ql]=null,co=Jl[--Ql],Jl[Ql]=null;for(;r===ni;)ni=Nn[--On],Nn[On]=null,nr=Nn[--On],Nn[On]=null,tr=Nn[--On],Nn[On]=null}function hy(r,l){Nn[On++]=tr,Nn[On++]=nr,Nn[On++]=ni,tr=l.id,nr=l.overflow,ni=r}var _t=null,Xe=null,De=!1,ri=null,Rn=!1,gd=Error(i(519));function ii(r){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fo(kn(l,r)),gd}function py(r){var l=r.stateNode,a=r.type,f=r.memoizedProps;switch(l[mt]=r,l[Ze]=f,a){case"dialog":Ne("cancel",l),Ne("close",l);break;case"iframe":case"object":case"embed":Ne("load",l);break;case"video":case"audio":for(a=0;a<Lo.length;a++)Ne(Lo[a],l);break;case"source":Ne("error",l);break;case"img":case"image":case"link":Ne("error",l),Ne("load",l);break;case"details":Ne("toggle",l);break;case"input":Ne("invalid",l),wg(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ne("invalid",l);break;case"textarea":Ne("invalid",l),Ng(l,f.value,f.defaultValue,f.children)}a=f.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||l.textContent===""+a||f.suppressHydrationWarning===!0||Rb(l.textContent,a)?(f.popover!=null&&(Ne("beforetoggle",l),Ne("toggle",l)),f.onScroll!=null&&Ne("scroll",l),f.onScrollEnd!=null&&Ne("scrollend",l),f.onClick!=null&&(l.onclick=Tr),l=!0):l=!1,l||ii(r,!0)}function my(r){for(_t=r.return;_t;)switch(_t.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:_t=_t.return}}function Wl(r){if(r!==_t)return!1;if(!De)return my(r),De=!0,!1;var l=r.tag,a;if((a=l!==3&&l!==27)&&((a=l===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Lh(r.type,r.memoizedProps)),a=!a),a&&Xe&&ii(r),my(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Xe=Ib(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Xe=Ib(r)}else l===27?(l=Xe,bi(r.type)?(r=Uh,Uh=null,Xe=r):Xe=l):Xe=_t?_n(r.stateNode.nextSibling):null;return!0}function nl(){Xe=_t=null,De=!1}function yd(){var r=ri;return r!==null&&(ln===null?ln=r:ln.push.apply(ln,r),ri=null),r}function fo(r){ri===null?ri=[r]:ri.push(r)}var bd=k(null),rl=null,wr=null;function li(r,l,a){Z(bd,l._currentValue),l._currentValue=a}function kr(r){r._currentValue=bd.current,Y(bd)}function vd(r,l,a){for(;r!==null;){var f=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),r===a)break;r=r.return}}function xd(r,l,a,f){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var g=p.dependencies;if(g!==null){var x=p.child;g=g.firstContext;e:for(;g!==null;){var M=g;g=p;for(var w=0;w<l.length;w++)if(M.context===l[w]){g.lanes|=a,M=g.alternate,M!==null&&(M.lanes|=a),vd(g.return,a,r),f||(x=null);break e}g=M.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(i(341));x.lanes|=a,g=x.alternate,g!==null&&(g.lanes|=a),vd(x,a,r),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===r){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Zl(r,l,a,f){r=null;for(var p=l,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var M=p.type;dn(p.pendingProps.value,x.value)||(r!==null?r.push(M):r=[M])}}else if(p===_e.current){if(x=p.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Uo):r=[Uo])}p=p.return}r!==null&&xd(l,r,a,f),l.flags|=262144}function su(r){for(r=r.firstContext;r!==null;){if(!dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function il(r){rl=r,wr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Lt(r){return gy(rl,r)}function ou(r,l){return rl===null&&il(r),gy(r,l)}function gy(r,l){var a=l._currentValue;if(l={context:l,memoizedValue:a,next:null},wr===null){if(r===null)throw Error(i(308));wr=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else wr=wr.next=l;return a}var _M=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(a,f){r.push(f)}};this.abort=function(){l.aborted=!0,r.forEach(function(a){return a()})}},LM=t.unstable_scheduleCallback,zM=t.unstable_NormalPriority,gt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new _M,data:new Map,refCount:0}}function ho(r){r.refCount--,r.refCount===0&&LM(zM,function(){r.controller.abort()})}var po=null,Ed=0,es=0,ts=null;function BM(r,l){if(po===null){var a=po=[];Ed=0,es=Ch(),ts={status:"pending",value:void 0,then:function(f){a.push(f)}}}return Ed++,l.then(yy,yy),l}function yy(){if(--Ed===0&&po!==null){ts!==null&&(ts.status="fulfilled");var r=po;po=null,es=0,ts=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function jM(r,l){var a=[],f={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return r.then(function(){f.status="fulfilled",f.value=l;for(var p=0;p<a.length;p++)(0,a[p])(l)},function(p){for(f.status="rejected",f.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),f}var by=I.S;I.S=function(r,l){tb=Rt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&BM(r,l),by!==null&&by(r,l)};var ll=k(null);function Td(){var r=ll.current;return r!==null?r:Ye.pooledCache}function au(r,l){l===null?Z(ll,ll.current):Z(ll,l.pool)}function vy(){var r=Td();return r===null?null:{parent:gt._currentValue,pool:r}}var ns=Error(i(460)),Md=Error(i(474)),uu=Error(i(542)),cu={then:function(){}};function xy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Sy(r,l,a){switch(a=r[a],a===void 0?r.push(l):a!==l&&(l.then(Tr,Tr),l=a),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Ty(r),r;default:if(typeof l.status=="string")l.then(Tr,Tr);else{if(r=Ye,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=l,r.status="pending",r.then(function(f){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=f}},function(f){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Ty(r),r}throw ol=l,ns}}function sl(r){try{var l=r._init;return l(r._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ol=a,ns):a}}var ol=null;function Ey(){if(ol===null)throw Error(i(459));var r=ol;return ol=null,r}function Ty(r){if(r===ns||r===uu)throw Error(i(483))}var rs=null,mo=0;function fu(r){var l=mo;return mo+=1,rs===null&&(rs=[]),Sy(rs,r,l)}function go(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function du(r,l){throw l.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(l),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function My(r){function l(D,O){if(r){var L=D.deletions;L===null?(D.deletions=[O],D.flags|=16):L.push(O)}}function a(D,O){if(!r)return null;for(;O!==null;)l(D,O),O=O.sibling;return null}function f(D){for(var O=new Map;D!==null;)D.key!==null?O.set(D.key,D):O.set(D.index,D),D=D.sibling;return O}function p(D,O){return D=Cr(D,O),D.index=0,D.sibling=null,D}function g(D,O,L){return D.index=L,r?(L=D.alternate,L!==null?(L=L.index,L<O?(D.flags|=67108866,O):L):(D.flags|=67108866,O)):(D.flags|=1048576,O)}function x(D){return r&&D.alternate===null&&(D.flags|=67108866),D}function M(D,O,L,G){return O===null||O.tag!==6?(O=dd(L,D.mode,G),O.return=D,O):(O=p(O,L),O.return=D,O)}function w(D,O,L,G){var he=L.type;return he===E?V(D,O,L.props.children,G,L.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===K&&sl(he)===O.type)?(O=p(O,L.props),go(O,L),O.return=D,O):(O=iu(L.type,L.key,L.props,null,D.mode,G),go(O,L),O.return=D,O)}function z(D,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=hd(L,D.mode,G),O.return=D,O):(O=p(O,L.children||[]),O.return=D,O)}function V(D,O,L,G,he){return O===null||O.tag!==7?(O=tl(L,D.mode,G,he),O.return=D,O):(O=p(O,L),O.return=D,O)}function F(D,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=dd(""+O,D.mode,L),O.return=D,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return L=iu(O.type,O.key,O.props,null,D.mode,L),go(L,O),L.return=D,L;case S:return O=hd(O,D.mode,L),O.return=D,O;case K:return O=sl(O),F(D,O,L)}if(Se(O)||Te(O))return O=tl(O,D.mode,L,null),O.return=D,O;if(typeof O.then=="function")return F(D,fu(O),L);if(O.$$typeof===B)return F(D,ou(D,O),L);du(D,O)}return null}function j(D,O,L,G){var he=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return he!==null?null:M(D,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case v:return L.key===he?w(D,O,L,G):null;case S:return L.key===he?z(D,O,L,G):null;case K:return L=sl(L),j(D,O,L,G)}if(Se(L)||Te(L))return he!==null?null:V(D,O,L,G,null);if(typeof L.then=="function")return j(D,O,fu(L),G);if(L.$$typeof===B)return j(D,O,ou(D,L),G);du(D,L)}return null}function U(D,O,L,G,he){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return D=D.get(L)||null,M(O,D,""+G,he);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return D=D.get(G.key===null?L:G.key)||null,w(O,D,G,he);case S:return D=D.get(G.key===null?L:G.key)||null,z(O,D,G,he);case K:return G=sl(G),U(D,O,L,G,he)}if(Se(G)||Te(G))return D=D.get(L)||null,V(O,D,G,he,null);if(typeof G.then=="function")return U(D,O,L,fu(G),he);if(G.$$typeof===B)return U(D,O,L,ou(O,G),he);du(O,G)}return null}function le(D,O,L,G){for(var he=null,Le=null,ue=O,Ee=O=0,Re=null;ue!==null&&Ee<L.length;Ee++){ue.index>Ee?(Re=ue,ue=null):Re=ue.sibling;var ze=j(D,ue,L[Ee],G);if(ze===null){ue===null&&(ue=Re);break}r&&ue&&ze.alternate===null&&l(D,ue),O=g(ze,O,Ee),Le===null?he=ze:Le.sibling=ze,Le=ze,ue=Re}if(Ee===L.length)return a(D,ue),De&&Ar(D,Ee),he;if(ue===null){for(;Ee<L.length;Ee++)ue=F(D,L[Ee],G),ue!==null&&(O=g(ue,O,Ee),Le===null?he=ue:Le.sibling=ue,Le=ue);return De&&Ar(D,Ee),he}for(ue=f(ue);Ee<L.length;Ee++)Re=U(ue,D,Ee,L[Ee],G),Re!==null&&(r&&Re.alternate!==null&&ue.delete(Re.key===null?Ee:Re.key),O=g(Re,O,Ee),Le===null?he=Re:Le.sibling=Re,Le=Re);return r&&ue.forEach(function(Ti){return l(D,Ti)}),De&&Ar(D,Ee),he}function ge(D,O,L,G){if(L==null)throw Error(i(151));for(var he=null,Le=null,ue=O,Ee=O=0,Re=null,ze=L.next();ue!==null&&!ze.done;Ee++,ze=L.next()){ue.index>Ee?(Re=ue,ue=null):Re=ue.sibling;var Ti=j(D,ue,ze.value,G);if(Ti===null){ue===null&&(ue=Re);break}r&&ue&&Ti.alternate===null&&l(D,ue),O=g(Ti,O,Ee),Le===null?he=Ti:Le.sibling=Ti,Le=Ti,ue=Re}if(ze.done)return a(D,ue),De&&Ar(D,Ee),he;if(ue===null){for(;!ze.done;Ee++,ze=L.next())ze=F(D,ze.value,G),ze!==null&&(O=g(ze,O,Ee),Le===null?he=ze:Le.sibling=ze,Le=ze);return De&&Ar(D,Ee),he}for(ue=f(ue);!ze.done;Ee++,ze=L.next())ze=U(ue,D,Ee,ze.value,G),ze!==null&&(r&&ze.alternate!==null&&ue.delete(ze.key===null?Ee:ze.key),O=g(ze,O,Ee),Le===null?he=ze:Le.sibling=ze,Le=ze);return r&&ue.forEach(function(KC){return l(D,KC)}),De&&Ar(D,Ee),he}function $e(D,O,L,G){if(typeof L=="object"&&L!==null&&L.type===E&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case v:e:{for(var he=L.key;O!==null;){if(O.key===he){if(he=L.type,he===E){if(O.tag===7){a(D,O.sibling),G=p(O,L.props.children),G.return=D,D=G;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===K&&sl(he)===O.type){a(D,O.sibling),G=p(O,L.props),go(G,L),G.return=D,D=G;break e}a(D,O);break}else l(D,O);O=O.sibling}L.type===E?(G=tl(L.props.children,D.mode,G,L.key),G.return=D,D=G):(G=iu(L.type,L.key,L.props,null,D.mode,G),go(G,L),G.return=D,D=G)}return x(D);case S:e:{for(he=L.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(D,O.sibling),G=p(O,L.children||[]),G.return=D,D=G;break e}else{a(D,O);break}else l(D,O);O=O.sibling}G=hd(L,D.mode,G),G.return=D,D=G}return x(D);case K:return L=sl(L),$e(D,O,L,G)}if(Se(L))return le(D,O,L,G);if(Te(L)){if(he=Te(L),typeof he!="function")throw Error(i(150));return L=he.call(L),ge(D,O,L,G)}if(typeof L.then=="function")return $e(D,O,fu(L),G);if(L.$$typeof===B)return $e(D,O,ou(D,L),G);du(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(D,O.sibling),G=p(O,L),G.return=D,D=G):(a(D,O),G=dd(L,D.mode,G),G.return=D,D=G),x(D)):a(D,O)}return function(D,O,L,G){try{mo=0;var he=$e(D,O,L,G);return rs=null,he}catch(ue){if(ue===ns||ue===uu)throw ue;var Le=hn(29,ue,null,D.mode);return Le.lanes=G,Le.return=D,Le}finally{}}}var al=My(!0),Cy=My(!1),si=!1;function Cd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function oi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ai(r,l,a){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Be&2)!==0){var p=f.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),f.pending=l,l=ru(r),ay(r,null,a),l}return nu(r,f,l,a),ru(r)}function yo(r,l,a){if(l=l.updateQueue,l!==null&&(l=l.shared,(a&4194048)!==0)){var f=l.lanes;f&=r.pendingLanes,a|=f,l.lanes=a,Js(r,a)}}function wd(r,l){var a=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?p=g=l:g=g.next=l}else p=g=l;a={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=l:r.next=l,a.lastBaseUpdate=l}var kd=!1;function bo(){if(kd){var r=ts;if(r!==null)throw r}}function vo(r,l,a,f){kd=!1;var p=r.updateQueue;si=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var w=M,z=w.next;w.next=null,x===null?g=z:x.next=z,x=w;var V=r.alternate;V!==null&&(V=V.updateQueue,M=V.lastBaseUpdate,M!==x&&(M===null?V.firstBaseUpdate=z:M.next=z,V.lastBaseUpdate=w))}if(g!==null){var F=p.baseState;x=0,V=z=w=null,M=g;do{var j=M.lane&-536870913,U=j!==M.lane;if(U?(Oe&j)===j:(f&j)===j){j!==0&&j===es&&(kd=!0),V!==null&&(V=V.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var le=r,ge=M;j=l;var $e=a;switch(ge.tag){case 1:if(le=ge.payload,typeof le=="function"){F=le.call($e,F,j);break e}F=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ge.payload,j=typeof le=="function"?le.call($e,F,j):le,j==null)break e;F=y({},F,j);break e;case 2:si=!0}}j=M.callback,j!==null&&(r.flags|=64,U&&(r.flags|=8192),U=p.callbacks,U===null?p.callbacks=[j]:U.push(j))}else U={lane:j,tag:M.tag,payload:M.payload,callback:M.callback,next:null},V===null?(z=V=U,w=F):V=V.next=U,x|=j;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;U=M,M=U.next,U.next=null,p.lastBaseUpdate=U,p.shared.pending=null}}while(!0);V===null&&(w=F),p.baseState=w,p.firstBaseUpdate=z,p.lastBaseUpdate=V,g===null&&(p.shared.lanes=0),hi|=x,r.lanes=x,r.memoizedState=F}}function Ay(r,l){if(typeof r!="function")throw Error(i(191,r));r.call(l)}function wy(r,l){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)Ay(a[r],l)}var is=k(null),hu=k(0);function ky(r,l){r=jr,Z(hu,r),Z(is,l),jr=r|l.baseLanes}function Nd(){Z(hu,jr),Z(is,is.current)}function Od(){jr=hu.current,Y(is),Y(hu)}var pn=k(null),Dn=null;function ui(r){var l=r.alternate;Z(ft,ft.current&1),Z(pn,r),Dn===null&&(l===null||is.current!==null||l.memoizedState!==null)&&(Dn=r)}function Rd(r){Z(ft,ft.current),Z(pn,r),Dn===null&&(Dn=r)}function Ny(r){r.tag===22?(Z(ft,ft.current),Z(pn,r),Dn===null&&(Dn=r)):ci()}function ci(){Z(ft,ft.current),Z(pn,pn.current)}function mn(r){Y(pn),Dn===r&&(Dn=null),Y(ft)}var ft=k(0);function pu(r){for(var l=r;l!==null;){if(l.tag===13){var a=l.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||jh(a)||Hh(a)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Nr=0,xe=null,qe=null,yt=null,mu=!1,ls=!1,ul=!1,gu=0,xo=0,ss=null,HM=0;function st(){throw Error(i(321))}function Dd(r,l){if(l===null)return!1;for(var a=0;a<l.length&&a<r.length;a++)if(!dn(r[a],l[a]))return!1;return!0}function _d(r,l,a,f,p,g){return Nr=g,xe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,I.H=r===null||r.memoizedState===null?d0:Kd,ul=!1,g=a(f,p),ul=!1,ls&&(g=Ry(l,a,f,p)),Oy(r),g}function Oy(r){I.H=To;var l=qe!==null&&qe.next!==null;if(Nr=0,yt=qe=xe=null,mu=!1,xo=0,ss=null,l)throw Error(i(300));r===null||bt||(r=r.dependencies,r!==null&&su(r)&&(bt=!0))}function Ry(r,l,a,f){xe=r;var p=0;do{if(ls&&(ss=null),xo=0,ls=!1,25<=p)throw Error(i(301));if(p+=1,yt=qe=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}I.H=h0,g=l(a,f)}while(ls);return g}function UM(){var r=I.H,l=r.useState()[0];return l=typeof l.then=="function"?So(l):l,r=r.useState()[0],(qe!==null?qe.memoizedState:null)!==r&&(xe.flags|=1024),l}function Ld(){var r=gu!==0;return gu=0,r}function zd(r,l,a){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~a}function Bd(r){if(mu){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}mu=!1}Nr=0,yt=qe=xe=null,ls=!1,xo=gu=0,ss=null}function $t(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=r:yt=yt.next=r,yt}function dt(){if(qe===null){var r=xe.alternate;r=r!==null?r.memoizedState:null}else r=qe.next;var l=yt===null?xe.memoizedState:yt.next;if(l!==null)yt=l,qe=r;else{if(r===null)throw xe.alternate===null?Error(i(467)):Error(i(310));qe=r,r={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},yt===null?xe.memoizedState=yt=r:yt=yt.next=r}return yt}function yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(r){var l=xo;return xo+=1,ss===null&&(ss=[]),r=Sy(ss,r,l),l=xe,(yt===null?l.memoizedState:yt.next)===null&&(l=l.alternate,I.H=l===null||l.memoizedState===null?d0:Kd),r}function bu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return So(r);if(r.$$typeof===B)return Lt(r)}throw Error(i(438,String(r)))}function jd(r){var l=null,a=xe.updateQueue;if(a!==null&&(l=a.memoCache),l==null){var f=xe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),a===null&&(a=yu(),xe.updateQueue=a),a.memoCache=l,a=l.data[l.index],a===void 0)for(a=l.data[l.index]=Array(r),f=0;f<r;f++)a[f]=fe;return l.index++,a}function Or(r,l){return typeof l=="function"?l(r):l}function vu(r){var l=dt();return Hd(l,qe,r)}function Hd(r,l,a){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=a;var p=r.baseQueue,g=f.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}l.baseQueue=p=g,f.pending=null}if(g=r.baseState,p===null)r.memoizedState=g;else{l=p.next;var M=x=null,w=null,z=l,V=!1;do{var F=z.lane&-536870913;if(F!==z.lane?(Oe&F)===F:(Nr&F)===F){var j=z.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),F===es&&(V=!0);else if((Nr&j)===j){z=z.next,j===es&&(V=!0);continue}else F={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(M=w=F,x=g):w=w.next=F,xe.lanes|=j,hi|=j;F=z.action,ul&&a(g,F),g=z.hasEagerState?z.eagerState:a(g,F)}else j={lane:F,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(M=w=j,x=g):w=w.next=j,xe.lanes|=F,hi|=F;z=z.next}while(z!==null&&z!==l);if(w===null?x=g:w.next=M,!dn(g,r.memoizedState)&&(bt=!0,V&&(a=ts,a!==null)))throw a;r.memoizedState=g,r.baseState=x,r.baseQueue=w,f.lastRenderedState=g}return p===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Ud(r){var l=dt(),a=l.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var f=a.dispatch,p=a.pending,g=l.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do g=r(g,x.action),x=x.next;while(x!==p);dn(g,l.memoizedState)||(bt=!0),l.memoizedState=g,l.baseQueue===null&&(l.baseState=g),a.lastRenderedState=g}return[g,f]}function Dy(r,l,a){var f=xe,p=dt(),g=De;if(g){if(a===void 0)throw Error(i(407));a=a()}else a=l();var x=!dn((qe||p).memoizedState,a);if(x&&(p.memoizedState=a,bt=!0),p=p.queue,Vd(zy.bind(null,f,p,r),[r]),p.getSnapshot!==l||x||yt!==null&&yt.memoizedState.tag&1){if(f.flags|=2048,as(9,{destroy:void 0},Ly.bind(null,f,p,a,l),null),Ye===null)throw Error(i(349));g||(Nr&127)!==0||_y(f,l,a)}return a}function _y(r,l,a){r.flags|=16384,r={getSnapshot:l,value:a},l=xe.updateQueue,l===null?(l=yu(),xe.updateQueue=l,l.stores=[r]):(a=l.stores,a===null?l.stores=[r]:a.push(r))}function Ly(r,l,a,f){l.value=a,l.getSnapshot=f,By(l)&&jy(r)}function zy(r,l,a){return a(function(){By(l)&&jy(r)})}function By(r){var l=r.getSnapshot;r=r.value;try{var a=l();return!dn(r,a)}catch{return!0}}function jy(r){var l=el(r,2);l!==null&&sn(l,r,2)}function Id(r){var l=$t();if(typeof r=="function"){var a=r;if(r=a(),ul){At(!0);try{a()}finally{At(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:r},l}function Hy(r,l,a,f){return r.baseState=a,Hd(r,qe,typeof f=="function"?f:Or)}function IM(r,l,a,f,p){if(Eu(r))throw Error(i(485));if(r=l.action,r!==null){var g={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};I.T!==null?a(!0):g.isTransition=!1,f(g),a=l.pending,a===null?(g.next=l.pending=g,Uy(l,g)):(g.next=a.next,l.pending=a.next=g)}}function Uy(r,l){var a=l.action,f=l.payload,p=r.state;if(l.isTransition){var g=I.T,x={};I.T=x;try{var M=a(p,f),w=I.S;w!==null&&w(x,M),Iy(r,l,M)}catch(z){Pd(r,l,z)}finally{g!==null&&x.types!==null&&(g.types=x.types),I.T=g}}else try{g=a(p,f),Iy(r,l,g)}catch(z){Pd(r,l,z)}}function Iy(r,l,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(f){Py(r,l,f)},function(f){return Pd(r,l,f)}):Py(r,l,a)}function Py(r,l,a){l.status="fulfilled",l.value=a,Vy(l),r.state=a,l=r.pending,l!==null&&(a=l.next,a===l?r.pending=null:(a=a.next,l.next=a,Uy(r,a)))}function Pd(r,l,a){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=a,Vy(l),l=l.next;while(l!==f)}r.action=null}function Vy(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function qy(r,l){return l}function Gy(r,l){if(De){var a=Ye.formState;if(a!==null){e:{var f=xe;if(De){if(Xe){t:{for(var p=Xe,g=Rn;p.nodeType!==8;){if(!g){p=null;break t}if(p=_n(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Xe=_n(p.nextSibling),f=p.data==="F!";break e}}ii(f)}f=!1}f&&(l=a[0])}}return a=$t(),a.memoizedState=a.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:l},a.queue=f,a=u0.bind(null,xe,f),f.dispatch=a,f=Id(!1),g=Yd.bind(null,xe,!1,f.queue),f=$t(),p={state:l,dispatch:null,action:r,pending:null},f.queue=p,a=IM.bind(null,xe,p,g,a),p.dispatch=a,f.memoizedState=r,[l,a,!1]}function $y(r){var l=dt();return Fy(l,qe,r)}function Fy(r,l,a){if(l=Hd(r,l,qy)[0],r=vu(Or)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=So(l)}catch(x){throw x===ns?uu:x}else f=l;l=dt();var p=l.queue,g=p.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,as(9,{destroy:void 0},PM.bind(null,p,a),null)),[f,g,r]}function PM(r,l){r.action=l}function Yy(r){var l=dt(),a=qe;if(a!==null)return Fy(l,a,r);dt(),l=l.memoizedState,a=dt();var f=a.queue.dispatch;return a.memoizedState=r,[l,f,!1]}function as(r,l,a,f){return r={tag:r,create:a,deps:f,inst:l,next:null},l=xe.updateQueue,l===null&&(l=yu(),xe.updateQueue=l),a=l.lastEffect,a===null?l.lastEffect=r.next=r:(f=a.next,a.next=r,r.next=f,l.lastEffect=r),r}function Ky(){return dt().memoizedState}function xu(r,l,a,f){var p=$t();xe.flags|=r,p.memoizedState=as(1|l,{destroy:void 0},a,f===void 0?null:f)}function Su(r,l,a,f){var p=dt();f=f===void 0?null:f;var g=p.memoizedState.inst;qe!==null&&f!==null&&Dd(f,qe.memoizedState.deps)?p.memoizedState=as(l,g,a,f):(xe.flags|=r,p.memoizedState=as(1|l,g,a,f))}function Xy(r,l){xu(8390656,8,r,l)}function Vd(r,l){Su(2048,8,r,l)}function VM(r){xe.flags|=4;var l=xe.updateQueue;if(l===null)l=yu(),xe.updateQueue=l,l.events=[r];else{var a=l.events;a===null?l.events=[r]:a.push(r)}}function Jy(r){var l=dt().memoizedState;return VM({ref:l,nextImpl:r}),function(){if((Be&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function Qy(r,l){return Su(4,2,r,l)}function Wy(r,l){return Su(4,4,r,l)}function Zy(r,l){if(typeof l=="function"){r=r();var a=l(r);return function(){typeof a=="function"?a():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function e0(r,l,a){a=a!=null?a.concat([r]):null,Su(4,4,Zy.bind(null,l,r),a)}function qd(){}function t0(r,l){var a=dt();l=l===void 0?null:l;var f=a.memoizedState;return l!==null&&Dd(l,f[1])?f[0]:(a.memoizedState=[r,l],r)}function n0(r,l){var a=dt();l=l===void 0?null:l;var f=a.memoizedState;if(l!==null&&Dd(l,f[1]))return f[0];if(f=r(),ul){At(!0);try{r()}finally{At(!1)}}return a.memoizedState=[f,l],f}function Gd(r,l,a){return a===void 0||(Nr&1073741824)!==0&&(Oe&261930)===0?r.memoizedState=l:(r.memoizedState=a,r=rb(),xe.lanes|=r,hi|=r,a)}function r0(r,l,a,f){return dn(a,l)?a:is.current!==null?(r=Gd(r,a,f),dn(r,l)||(bt=!0),r):(Nr&42)===0||(Nr&1073741824)!==0&&(Oe&261930)===0?(bt=!0,r.memoizedState=a):(r=rb(),xe.lanes|=r,hi|=r,l)}function i0(r,l,a,f,p){var g=ee.p;ee.p=g!==0&&8>g?g:8;var x=I.T,M={};I.T=M,Yd(r,!1,l,a);try{var w=p(),z=I.S;if(z!==null&&z(M,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=jM(w,f);Eo(r,l,V,bn(r))}else Eo(r,l,f,bn(r))}catch(F){Eo(r,l,{then:function(){},status:"rejected",reason:F},bn())}finally{ee.p=g,x!==null&&M.types!==null&&(x.types=M.types),I.T=x}}function qM(){}function $d(r,l,a,f){if(r.tag!==5)throw Error(i(476));var p=l0(r).queue;i0(r,p,l,me,a===null?qM:function(){return s0(r),a(f)})}function l0(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:me},next:null};var a={};return l.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:a},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function s0(r){var l=l0(r);l.next===null&&(l=r.alternate.memoizedState),Eo(r,l.next.queue,{},bn())}function Fd(){return Lt(Uo)}function o0(){return dt().memoizedState}function a0(){return dt().memoizedState}function GM(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var a=bn();r=oi(a);var f=ai(l,r,a);f!==null&&(sn(f,l,a),yo(f,l,a)),l={cache:Sd()},r.payload=l;return}l=l.return}}function $M(r,l,a){var f=bn();a={lane:f,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Eu(r)?c0(l,a):(a=cd(r,l,a,f),a!==null&&(sn(a,r,f),f0(a,l,f)))}function u0(r,l,a){var f=bn();Eo(r,l,a,f)}function Eo(r,l,a,f){var p={lane:f,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Eu(r))c0(l,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=l.lastRenderedReducer,g!==null))try{var x=l.lastRenderedState,M=g(x,a);if(p.hasEagerState=!0,p.eagerState=M,dn(M,x))return nu(r,l,p,0),Ye===null&&tu(),!1}catch{}finally{}if(a=cd(r,l,p,f),a!==null)return sn(a,r,f),f0(a,l,f),!0}return!1}function Yd(r,l,a,f){if(f={lane:2,revertLane:Ch(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Eu(r)){if(l)throw Error(i(479))}else l=cd(r,a,f,2),l!==null&&sn(l,r,2)}function Eu(r){var l=r.alternate;return r===xe||l!==null&&l===xe}function c0(r,l){ls=mu=!0;var a=r.pending;a===null?l.next=l:(l.next=a.next,a.next=l),r.pending=l}function f0(r,l,a){if((a&4194048)!==0){var f=l.lanes;f&=r.pendingLanes,a|=f,l.lanes=a,Js(r,a)}}var To={readContext:Lt,use:bu,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};To.useEffectEvent=st;var d0={readContext:Lt,use:bu,useCallback:function(r,l){return $t().memoizedState=[r,l===void 0?null:l],r},useContext:Lt,useEffect:Xy,useImperativeHandle:function(r,l,a){a=a!=null?a.concat([r]):null,xu(4194308,4,Zy.bind(null,l,r),a)},useLayoutEffect:function(r,l){return xu(4194308,4,r,l)},useInsertionEffect:function(r,l){xu(4,2,r,l)},useMemo:function(r,l){var a=$t();l=l===void 0?null:l;var f=r();if(ul){At(!0);try{r()}finally{At(!1)}}return a.memoizedState=[f,l],f},useReducer:function(r,l,a){var f=$t();if(a!==void 0){var p=a(l);if(ul){At(!0);try{a(l)}finally{At(!1)}}}else p=l;return f.memoizedState=f.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},f.queue=r,r=r.dispatch=$M.bind(null,xe,r),[f.memoizedState,r]},useRef:function(r){var l=$t();return r={current:r},l.memoizedState=r},useState:function(r){r=Id(r);var l=r.queue,a=u0.bind(null,xe,l);return l.dispatch=a,[r.memoizedState,a]},useDebugValue:qd,useDeferredValue:function(r,l){var a=$t();return Gd(a,r,l)},useTransition:function(){var r=Id(!1);return r=i0.bind(null,xe,r.queue,!0,!1),$t().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,a){var f=xe,p=$t();if(De){if(a===void 0)throw Error(i(407));a=a()}else{if(a=l(),Ye===null)throw Error(i(349));(Oe&127)!==0||_y(f,l,a)}p.memoizedState=a;var g={value:a,getSnapshot:l};return p.queue=g,Xy(zy.bind(null,f,g,r),[r]),f.flags|=2048,as(9,{destroy:void 0},Ly.bind(null,f,g,a,l),null),a},useId:function(){var r=$t(),l=Ye.identifierPrefix;if(De){var a=nr,f=tr;a=(f&~(1<<32-pt(f)-1)).toString(32)+a,l="_"+l+"R_"+a,a=gu++,0<a&&(l+="H"+a.toString(32)),l+="_"}else a=HM++,l="_"+l+"r_"+a.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:Fd,useFormState:Gy,useActionState:Gy,useOptimistic:function(r){var l=$t();l.memoizedState=l.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=a,l=Yd.bind(null,xe,!0,a),a.dispatch=l,[r,l]},useMemoCache:jd,useCacheRefresh:function(){return $t().memoizedState=GM.bind(null,xe)},useEffectEvent:function(r){var l=$t(),a={impl:r};return l.memoizedState=a,function(){if((Be&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Kd={readContext:Lt,use:bu,useCallback:t0,useContext:Lt,useEffect:Vd,useImperativeHandle:e0,useInsertionEffect:Qy,useLayoutEffect:Wy,useMemo:n0,useReducer:vu,useRef:Ky,useState:function(){return vu(Or)},useDebugValue:qd,useDeferredValue:function(r,l){var a=dt();return r0(a,qe.memoizedState,r,l)},useTransition:function(){var r=vu(Or)[0],l=dt().memoizedState;return[typeof r=="boolean"?r:So(r),l]},useSyncExternalStore:Dy,useId:o0,useHostTransitionStatus:Fd,useFormState:$y,useActionState:$y,useOptimistic:function(r,l){var a=dt();return Hy(a,qe,r,l)},useMemoCache:jd,useCacheRefresh:a0};Kd.useEffectEvent=Jy;var h0={readContext:Lt,use:bu,useCallback:t0,useContext:Lt,useEffect:Vd,useImperativeHandle:e0,useInsertionEffect:Qy,useLayoutEffect:Wy,useMemo:n0,useReducer:Ud,useRef:Ky,useState:function(){return Ud(Or)},useDebugValue:qd,useDeferredValue:function(r,l){var a=dt();return qe===null?Gd(a,r,l):r0(a,qe.memoizedState,r,l)},useTransition:function(){var r=Ud(Or)[0],l=dt().memoizedState;return[typeof r=="boolean"?r:So(r),l]},useSyncExternalStore:Dy,useId:o0,useHostTransitionStatus:Fd,useFormState:Yy,useActionState:Yy,useOptimistic:function(r,l){var a=dt();return qe!==null?Hy(a,qe,r,l):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:jd,useCacheRefresh:a0};h0.useEffectEvent=Jy;function Xd(r,l,a,f){l=r.memoizedState,a=a(f,l),a=a==null?l:y({},l,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Jd={enqueueSetState:function(r,l,a){r=r._reactInternals;var f=bn(),p=oi(f);p.payload=l,a!=null&&(p.callback=a),l=ai(r,p,f),l!==null&&(sn(l,r,f),yo(l,r,f))},enqueueReplaceState:function(r,l,a){r=r._reactInternals;var f=bn(),p=oi(f);p.tag=1,p.payload=l,a!=null&&(p.callback=a),l=ai(r,p,f),l!==null&&(sn(l,r,f),yo(l,r,f))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var a=bn(),f=oi(a);f.tag=2,l!=null&&(f.callback=l),l=ai(r,f,a),l!==null&&(sn(l,r,a),yo(l,r,a))}};function p0(r,l,a,f,p,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,g,x):l.prototype&&l.prototype.isPureReactComponent?!ao(a,f)||!ao(p,g):!0}function m0(r,l,a,f){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(a,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(a,f),l.state!==r&&Jd.enqueueReplaceState(l,l.state,null)}function cl(r,l){var a=l;if("ref"in l){a={};for(var f in l)f!=="ref"&&(a[f]=l[f])}if(r=r.defaultProps){a===l&&(a=y({},a));for(var p in r)a[p]===void 0&&(a[p]=r[p])}return a}function g0(r){eu(r)}function y0(r){console.error(r)}function b0(r){eu(r)}function Tu(r,l){try{var a=r.onUncaughtError;a(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function v0(r,l,a){try{var f=r.onCaughtError;f(a.value,{componentStack:a.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Qd(r,l,a){return a=oi(a),a.tag=3,a.payload={element:null},a.callback=function(){Tu(r,l)},a}function x0(r){return r=oi(r),r.tag=3,r}function S0(r,l,a,f){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=f.value;r.payload=function(){return p(g)},r.callback=function(){v0(l,a,f)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){v0(l,a,f),typeof p!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function FM(r,l,a,f,p){if(a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=a.alternate,l!==null&&Zl(l,a,p,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?zu():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=p,f===cu?a.flags|=16384:(l=a.updateQueue,l===null?a.updateQueue=new Set([f]):l.add(f),Eh(r,f,p)),!1;case 22:return a.flags|=65536,f===cu?a.flags|=16384:(l=a.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},a.updateQueue=l):(a=l.retryQueue,a===null?l.retryQueue=new Set([f]):a.add(f)),Eh(r,f,p)),!1}throw Error(i(435,a.tag))}return Eh(r,f,p),zu(),!1}if(De)return l=pn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,f!==gd&&(r=Error(i(422),{cause:f}),fo(kn(r,a)))):(f!==gd&&(l=Error(i(423),{cause:f}),fo(kn(l,a))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,f=kn(f,a),p=Qd(r.stateNode,f,p),wd(r,p),ot!==4&&(ot=2)),!1;var g=Error(i(520),{cause:f});if(g=kn(g,a),Ro===null?Ro=[g]:Ro.push(g),ot!==4&&(ot=2),l===null)return!0;f=kn(f,a),a=l;do{switch(a.tag){case 3:return a.flags|=65536,r=p&-p,a.lanes|=r,r=Qd(a.stateNode,f,r),wd(a,r),!1;case 1:if(l=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(pi===null||!pi.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=x0(p),S0(p,r,a,f),wd(a,p),!1}a=a.return}while(a!==null);return!1}var Wd=Error(i(461)),bt=!1;function zt(r,l,a,f){l.child=r===null?Cy(l,null,a,f):al(l,r.child,a,f)}function E0(r,l,a,f,p){a=a.render;var g=l.ref;if("ref"in f){var x={};for(var M in f)M!=="ref"&&(x[M]=f[M])}else x=f;return il(l),f=_d(r,l,a,x,g,p),M=Ld(),r!==null&&!bt?(zd(r,l,p),Rr(r,l,p)):(De&&M&&pd(l),l.flags|=1,zt(r,l,f,p),l.child)}function T0(r,l,a,f,p){if(r===null){var g=a.type;return typeof g=="function"&&!fd(g)&&g.defaultProps===void 0&&a.compare===null?(l.tag=15,l.type=g,M0(r,l,g,f,p)):(r=iu(a.type,null,f,l,l.mode,p),r.ref=l.ref,r.return=l,l.child=r)}if(g=r.child,!sh(r,p)){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:ao,a(x,f)&&r.ref===l.ref)return Rr(r,l,p)}return l.flags|=1,r=Cr(g,f),r.ref=l.ref,r.return=l,l.child=r}function M0(r,l,a,f,p){if(r!==null){var g=r.memoizedProps;if(ao(g,f)&&r.ref===l.ref)if(bt=!1,l.pendingProps=f=g,sh(r,p))(r.flags&131072)!==0&&(bt=!0);else return l.lanes=r.lanes,Rr(r,l,p)}return Zd(r,l,a,f,p)}function C0(r,l,a,f){var p=f.children,g=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((l.flags&128)!==0){if(g=g!==null?g.baseLanes|a:a,r!==null){for(f=l.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;f=p&~g}else f=0,l.child=null;return A0(r,l,g,a,f)}if((a&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&au(l,g!==null?g.cachePool:null),g!==null?ky(l,g):Nd(),Ny(l);else return f=l.lanes=536870912,A0(r,l,g!==null?g.baseLanes|a:a,a,f)}else g!==null?(au(l,g.cachePool),ky(l,g),ci(),l.memoizedState=null):(r!==null&&au(l,null),Nd(),ci());return zt(r,l,p,a),l.child}function Mo(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function A0(r,l,a,f,p){var g=Td();return g=g===null?null:{parent:gt._currentValue,pool:g},l.memoizedState={baseLanes:a,cachePool:g},r!==null&&au(l,null),Nd(),Ny(l),r!==null&&Zl(r,l,f,!0),l.childLanes=p,null}function Mu(r,l){return l=Au({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function w0(r,l,a){return al(l,r.child,null,a),r=Mu(l,l.pendingProps),r.flags|=2,mn(l),l.memoizedState=null,r}function YM(r,l,a){var f=l.pendingProps,p=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(De){if(f.mode==="hidden")return r=Mu(l,f),l.lanes=536870912,Mo(null,r);if(Rd(l),(r=Xe)?(r=Ub(r,Rn),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:ni!==null?{id:tr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},a=cy(r),a.return=l,l.child=a,_t=l,Xe=null)):r=null,r===null)throw ii(l);return l.lanes=536870912,null}return Mu(l,f)}var g=r.memoizedState;if(g!==null){var x=g.dehydrated;if(Rd(l),p)if(l.flags&256)l.flags&=-257,l=w0(r,l,a);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(i(558));else if(bt||Zl(r,l,a,!1),p=(a&r.childLanes)!==0,bt||p){if(f=Ye,f!==null&&(x=Ia(f,a),x!==0&&x!==g.retryLane))throw g.retryLane=x,el(r,x),sn(f,r,x),Wd;zu(),l=w0(r,l,a)}else r=g.treeContext,Xe=_n(x.nextSibling),_t=l,De=!0,ri=null,Rn=!1,r!==null&&hy(l,r),l=Mu(l,f),l.flags|=4096;return l}return r=Cr(r.child,{mode:f.mode,children:f.children}),r.ref=l.ref,l.child=r,r.return=l,r}function Cu(r,l){var a=l.ref;if(a===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(l.flags|=4194816)}}function Zd(r,l,a,f,p){return il(l),a=_d(r,l,a,f,void 0,p),f=Ld(),r!==null&&!bt?(zd(r,l,p),Rr(r,l,p)):(De&&f&&pd(l),l.flags|=1,zt(r,l,a,p),l.child)}function k0(r,l,a,f,p,g){return il(l),l.updateQueue=null,a=Ry(l,f,a,p),Oy(r),f=Ld(),r!==null&&!bt?(zd(r,l,g),Rr(r,l,g)):(De&&f&&pd(l),l.flags|=1,zt(r,l,a,g),l.child)}function N0(r,l,a,f,p){if(il(l),l.stateNode===null){var g=Xl,x=a.contextType;typeof x=="object"&&x!==null&&(g=Lt(x)),g=new a(f,g),l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jd,l.stateNode=g,g._reactInternals=l,g=l.stateNode,g.props=f,g.state=l.memoizedState,g.refs={},Cd(l),x=a.contextType,g.context=typeof x=="object"&&x!==null?Lt(x):Xl,g.state=l.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Xd(l,a,x,f),g.state=l.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Jd.enqueueReplaceState(g,g.state,null),vo(l,f,g,p),bo(),g.state=l.memoizedState),typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(r===null){g=l.stateNode;var M=l.memoizedProps,w=cl(a,M);g.props=w;var z=g.context,V=a.contextType;x=Xl,typeof V=="object"&&V!==null&&(x=Lt(V));var F=a.getDerivedStateFromProps;V=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function",M=l.pendingProps!==M,V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(M||z!==x)&&m0(l,g,f,x),si=!1;var j=l.memoizedState;g.state=j,vo(l,f,g,p),bo(),z=l.memoizedState,M||j!==z||si?(typeof F=="function"&&(Xd(l,a,F,f),z=l.memoizedState),(w=si||p0(l,a,w,f,j,z,x))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(l.flags|=4194308)):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=z),g.props=f,g.state=z,g.context=x,f=w):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{g=l.stateNode,Ad(r,l),x=l.memoizedProps,V=cl(a,x),g.props=V,F=l.pendingProps,j=g.context,z=a.contextType,w=Xl,typeof z=="object"&&z!==null&&(w=Lt(z)),M=a.getDerivedStateFromProps,(z=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==F||j!==w)&&m0(l,g,f,w),si=!1,j=l.memoizedState,g.state=j,vo(l,f,g,p),bo();var U=l.memoizedState;x!==F||j!==U||si||r!==null&&r.dependencies!==null&&su(r.dependencies)?(typeof M=="function"&&(Xd(l,a,M,f),U=l.memoizedState),(V=si||p0(l,a,V,f,j,U,w)||r!==null&&r.dependencies!==null&&su(r.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,U,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,U,w)),typeof g.componentDidUpdate=="function"&&(l.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&j===r.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&j===r.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=U),g.props=f,g.state=U,g.context=w,f=V):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&j===r.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&j===r.memoizedState||(l.flags|=1024),f=!1)}return g=f,Cu(r,l),f=(l.flags&128)!==0,g||f?(g=l.stateNode,a=f&&typeof a.getDerivedStateFromError!="function"?null:g.render(),l.flags|=1,r!==null&&f?(l.child=al(l,r.child,null,p),l.child=al(l,null,a,p)):zt(r,l,a,p),l.memoizedState=g.state,r=l.child):r=Rr(r,l,p),r}function O0(r,l,a,f){return nl(),l.flags|=256,zt(r,l,a,f),l.child}var eh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function th(r){return{baseLanes:r,cachePool:vy()}}function nh(r,l,a){return r=r!==null?r.childLanes&~a:0,l&&(r|=yn),r}function R0(r,l,a){var f=l.pendingProps,p=!1,g=(l.flags&128)!==0,x;if((x=g)||(x=r!==null&&r.memoizedState===null?!1:(ft.current&2)!==0),x&&(p=!0,l.flags&=-129),x=(l.flags&32)!==0,l.flags&=-33,r===null){if(De){if(p?ui(l):ci(),(r=Xe)?(r=Ub(r,Rn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:ni!==null?{id:tr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},a=cy(r),a.return=l,l.child=a,_t=l,Xe=null)):r=null,r===null)throw ii(l);return Hh(r)?l.lanes=32:l.lanes=536870912,null}var M=f.children;return f=f.fallback,p?(ci(),p=l.mode,M=Au({mode:"hidden",children:M},p),f=tl(f,p,a,null),M.return=l,f.return=l,M.sibling=f,l.child=M,f=l.child,f.memoizedState=th(a),f.childLanes=nh(r,x,a),l.memoizedState=eh,Mo(null,f)):(ui(l),rh(l,M))}var w=r.memoizedState;if(w!==null&&(M=w.dehydrated,M!==null)){if(g)l.flags&256?(ui(l),l.flags&=-257,l=ih(r,l,a)):l.memoizedState!==null?(ci(),l.child=r.child,l.flags|=128,l=null):(ci(),M=f.fallback,p=l.mode,f=Au({mode:"visible",children:f.children},p),M=tl(M,p,a,null),M.flags|=2,f.return=l,M.return=l,f.sibling=M,l.child=f,al(l,r.child,null,a),f=l.child,f.memoizedState=th(a),f.childLanes=nh(r,x,a),l.memoizedState=eh,l=Mo(null,f));else if(ui(l),Hh(M)){if(x=M.nextSibling&&M.nextSibling.dataset,x)var z=x.dgst;x=z,f=Error(i(419)),f.stack="",f.digest=x,fo({value:f,source:null,stack:null}),l=ih(r,l,a)}else if(bt||Zl(r,l,a,!1),x=(a&r.childLanes)!==0,bt||x){if(x=Ye,x!==null&&(f=Ia(x,a),f!==0&&f!==w.retryLane))throw w.retryLane=f,el(r,f),sn(x,r,f),Wd;jh(M)||zu(),l=ih(r,l,a)}else jh(M)?(l.flags|=192,l.child=r.child,l=null):(r=w.treeContext,Xe=_n(M.nextSibling),_t=l,De=!0,ri=null,Rn=!1,r!==null&&hy(l,r),l=rh(l,f.children),l.flags|=4096);return l}return p?(ci(),M=f.fallback,p=l.mode,w=r.child,z=w.sibling,f=Cr(w,{mode:"hidden",children:f.children}),f.subtreeFlags=w.subtreeFlags&65011712,z!==null?M=Cr(z,M):(M=tl(M,p,a,null),M.flags|=2),M.return=l,f.return=l,f.sibling=M,l.child=f,Mo(null,f),f=l.child,M=r.child.memoizedState,M===null?M=th(a):(p=M.cachePool,p!==null?(w=gt._currentValue,p=p.parent!==w?{parent:w,pool:w}:p):p=vy(),M={baseLanes:M.baseLanes|a,cachePool:p}),f.memoizedState=M,f.childLanes=nh(r,x,a),l.memoizedState=eh,Mo(r.child,f)):(ui(l),a=r.child,r=a.sibling,a=Cr(a,{mode:"visible",children:f.children}),a.return=l,a.sibling=null,r!==null&&(x=l.deletions,x===null?(l.deletions=[r],l.flags|=16):x.push(r)),l.child=a,l.memoizedState=null,a)}function rh(r,l){return l=Au({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Au(r,l){return r=hn(22,r,null,l),r.lanes=0,r}function ih(r,l,a){return al(l,r.child,null,a),r=rh(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function D0(r,l,a){r.lanes|=l;var f=r.alternate;f!==null&&(f.lanes|=l),vd(r.return,l,a)}function lh(r,l,a,f,p,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:p,treeForkCount:g}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=a,x.tailMode=p,x.treeForkCount=g)}function _0(r,l,a){var f=l.pendingProps,p=f.revealOrder,g=f.tail;f=f.children;var x=ft.current,M=(x&2)!==0;if(M?(x=x&1|2,l.flags|=128):x&=1,Z(ft,x),zt(r,l,f,a),f=De?co:0,!M&&r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&D0(r,a,l);else if(r.tag===19)D0(r,a,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(a=l.child,p=null;a!==null;)r=a.alternate,r!==null&&pu(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=l.child,l.child=null):(p=a.sibling,a.sibling=null),lh(l,!1,p,a,g,f);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=l.child,l.child=null;p!==null;){if(r=p.alternate,r!==null&&pu(r)===null){l.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}lh(l,!0,a,null,g,f);break;case"together":lh(l,!1,null,null,void 0,f);break;default:l.memoizedState=null}return l.child}function Rr(r,l,a){if(r!==null&&(l.dependencies=r.dependencies),hi|=l.lanes,(a&l.childLanes)===0)if(r!==null){if(Zl(r,l,a,!1),(a&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(i(153));if(l.child!==null){for(r=l.child,a=Cr(r,r.pendingProps),l.child=a,a.return=l;r.sibling!==null;)r=r.sibling,a=a.sibling=Cr(r,r.pendingProps),a.return=l;a.sibling=null}return l.child}function sh(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&su(r)))}function KM(r,l,a){switch(l.tag){case 3:lt(l,l.stateNode.containerInfo),li(l,gt,r.memoizedState.cache),nl();break;case 27:case 5:pr(l);break;case 4:lt(l,l.stateNode.containerInfo);break;case 10:li(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Rd(l),null;break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(ui(l),l.flags|=128,null):(a&l.child.childLanes)!==0?R0(r,l,a):(ui(l),r=Rr(r,l,a),r!==null?r.sibling:null);ui(l);break;case 19:var p=(r.flags&128)!==0;if(f=(a&l.childLanes)!==0,f||(Zl(r,l,a,!1),f=(a&l.childLanes)!==0),p){if(f)return _0(r,l,a);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Z(ft,ft.current),f)break;return null;case 22:return l.lanes=0,C0(r,l,a,l.pendingProps);case 24:li(l,gt,r.memoizedState.cache)}return Rr(r,l,a)}function L0(r,l,a){if(r!==null)if(r.memoizedProps!==l.pendingProps)bt=!0;else{if(!sh(r,a)&&(l.flags&128)===0)return bt=!1,KM(r,l,a);bt=(r.flags&131072)!==0}else bt=!1,De&&(l.flags&1048576)!==0&&dy(l,co,l.index);switch(l.lanes=0,l.tag){case 16:e:{var f=l.pendingProps;if(r=sl(l.elementType),l.type=r,typeof r=="function")fd(r)?(f=cl(r,f),l.tag=1,l=N0(null,l,r,f,a)):(l.tag=0,l=Zd(null,l,r,f,a));else{if(r!=null){var p=r.$$typeof;if(p===$){l.tag=11,l=E0(null,l,r,f,a);break e}else if(p===P){l.tag=14,l=T0(null,l,r,f,a);break e}}throw l=de(r)||r,Error(i(306,l,""))}}return l;case 0:return Zd(r,l,l.type,l.pendingProps,a);case 1:return f=l.type,p=cl(f,l.pendingProps),N0(r,l,f,p,a);case 3:e:{if(lt(l,l.stateNode.containerInfo),r===null)throw Error(i(387));f=l.pendingProps;var g=l.memoizedState;p=g.element,Ad(r,l),vo(l,f,null,a);var x=l.memoizedState;if(f=x.cache,li(l,gt,f),f!==g.cache&&xd(l,[gt],a,!0),bo(),f=x.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:x.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=O0(r,l,f,a);break e}else if(f!==p){p=kn(Error(i(424)),l),fo(p),l=O0(r,l,f,a);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Xe=_n(r.firstChild),_t=l,De=!0,ri=null,Rn=!0,a=Cy(l,null,f,a),l.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nl(),f===p){l=Rr(r,l,a);break e}zt(r,l,f,a)}l=l.child}return l;case 26:return Cu(r,l),r===null?(a=$b(l.type,null,l.pendingProps,null))?l.memoizedState=a:De||(a=l.type,r=l.pendingProps,f=Vu(ve.current).createElement(a),f[mt]=l,f[Ze]=r,Bt(f,a,r),Ae(f),l.stateNode=f):l.memoizedState=$b(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return pr(l),r===null&&De&&(f=l.stateNode=Vb(l.type,l.pendingProps,ve.current),_t=l,Rn=!0,p=Xe,bi(l.type)?(Uh=p,Xe=_n(f.firstChild)):Xe=p),zt(r,l,l.pendingProps.children,a),Cu(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&De&&((p=f=Xe)&&(f=MC(f,l.type,l.pendingProps,Rn),f!==null?(l.stateNode=f,_t=l,Xe=_n(f.firstChild),Rn=!1,p=!0):p=!1),p||ii(l)),pr(l),p=l.type,g=l.pendingProps,x=r!==null?r.memoizedProps:null,f=g.children,Lh(p,g)?f=null:x!==null&&Lh(p,x)&&(l.flags|=32),l.memoizedState!==null&&(p=_d(r,l,UM,null,null,a),Uo._currentValue=p),Cu(r,l),zt(r,l,f,a),l.child;case 6:return r===null&&De&&((r=a=Xe)&&(a=CC(a,l.pendingProps,Rn),a!==null?(l.stateNode=a,_t=l,Xe=null,r=!0):r=!1),r||ii(l)),null;case 13:return R0(r,l,a);case 4:return lt(l,l.stateNode.containerInfo),f=l.pendingProps,r===null?l.child=al(l,null,f,a):zt(r,l,f,a),l.child;case 11:return E0(r,l,l.type,l.pendingProps,a);case 7:return zt(r,l,l.pendingProps,a),l.child;case 8:return zt(r,l,l.pendingProps.children,a),l.child;case 12:return zt(r,l,l.pendingProps.children,a),l.child;case 10:return f=l.pendingProps,li(l,l.type,f.value),zt(r,l,f.children,a),l.child;case 9:return p=l.type._context,f=l.pendingProps.children,il(l),p=Lt(p),f=f(p),l.flags|=1,zt(r,l,f,a),l.child;case 14:return T0(r,l,l.type,l.pendingProps,a);case 15:return M0(r,l,l.type,l.pendingProps,a);case 19:return _0(r,l,a);case 31:return YM(r,l,a);case 22:return C0(r,l,a,l.pendingProps);case 24:return il(l),f=Lt(gt),r===null?(p=Td(),p===null&&(p=Ye,g=Sd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),l.memoizedState={parent:f,cache:p},Cd(l),li(l,gt,p)):((r.lanes&a)!==0&&(Ad(r,l),vo(l,null,null,a),bo()),p=r.memoizedState,g=l.memoizedState,p.parent!==f?(p={parent:f,cache:f},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),li(l,gt,f)):(f=g.cache,li(l,gt,f),f!==p.cache&&xd(l,[gt],a,!0))),zt(r,l,l.pendingProps.children,a),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Dr(r){r.flags|=4}function oh(r,l,a,f,p){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(ob())r.flags|=8192;else throw ol=cu,Md}else r.flags&=-16777217}function z0(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Jb(l))if(ob())r.flags|=8192;else throw ol=cu,Md}function wu(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?xr():536870912,r.lanes|=l,ds|=l)}function Co(r,l){if(!De)switch(r.tailMode){case"hidden":l=r.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Je(r){var l=r.alternate!==null&&r.alternate.child===r.child,a=0,f=0;if(l)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=a,l}function XM(r,l,a){var f=l.pendingProps;switch(md(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(l),null;case 1:return Je(l),null;case 3:return a=l.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),kr(gt),We(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Wl(l)?Dr(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,yd())),Je(l),null;case 26:var p=l.type,g=l.memoizedState;return r===null?(Dr(l),g!==null?(Je(l),z0(l,g)):(Je(l),oh(l,p,null,f,a))):g?g!==r.memoizedState?(Dr(l),Je(l),z0(l,g)):(Je(l),l.flags&=-16777217):(r=r.memoizedProps,r!==f&&Dr(l),Je(l),oh(l,p,r,f,a)),null;case 27:if(Yi(l),a=ve.current,p=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==f&&Dr(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return Je(l),null}r=ie.current,Wl(l)?py(l):(r=Vb(p,f,a),l.stateNode=r,Dr(l))}return Je(l),null;case 5:if(Yi(l),p=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==f&&Dr(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return Je(l),null}if(g=ie.current,Wl(l))py(l);else{var x=Vu(ve.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof f.is=="string"?x.createElement("select",{is:f.is}):x.createElement("select"),f.multiple?g.multiple=!0:f.size&&(g.size=f.size);break;default:g=typeof f.is=="string"?x.createElement(p,{is:f.is}):x.createElement(p)}}g[mt]=l,g[Ze]=f;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=g;e:switch(Bt(g,p,f),p){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Dr(l)}}return Je(l),oh(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,a),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==f&&Dr(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(i(166));if(r=ve.current,Wl(l)){if(r=l.stateNode,a=l.memoizedProps,f=null,p=_t,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}r[mt]=l,r=!!(r.nodeValue===a||f!==null&&f.suppressHydrationWarning===!0||Rb(r.nodeValue,a)),r||ii(l,!0)}else r=Vu(r).createTextNode(f),r[mt]=l,l.stateNode=r}return Je(l),null;case 31:if(a=l.memoizedState,r===null||r.memoizedState!==null){if(f=Wl(l),a!==null){if(r===null){if(!f)throw Error(i(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[mt]=l}else nl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Je(l),r=!1}else a=yd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=a),r=!0;if(!r)return l.flags&256?(mn(l),l):(mn(l),null);if((l.flags&128)!==0)throw Error(i(558))}return Je(l),null;case 13:if(f=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Wl(l),f!==null&&f.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[mt]=l}else nl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Je(l),p=!1}else p=yd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(mn(l),l):(mn(l),null)}return mn(l),(l.flags&128)!==0?(l.lanes=a,l):(a=f!==null,r=r!==null&&r.memoizedState!==null,a&&(f=l.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool),g=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==p&&(f.flags|=2048)),a!==r&&a&&(l.child.flags|=8192),wu(l,l.updateQueue),Je(l),null);case 4:return We(),r===null&&Nh(l.stateNode.containerInfo),Je(l),null;case 10:return kr(l.type),Je(l),null;case 19:if(Y(ft),f=l.memoizedState,f===null)return Je(l),null;if(p=(l.flags&128)!==0,g=f.rendering,g===null)if(p)Co(f,!1);else{if(ot!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(g=pu(r),g!==null){for(l.flags|=128,Co(f,!1),r=g.updateQueue,l.updateQueue=r,wu(l,r),l.subtreeFlags=0,r=a,a=l.child;a!==null;)uy(a,r),a=a.sibling;return Z(ft,ft.current&1|2),De&&Ar(l,f.treeForkCount),l.child}r=r.sibling}f.tail!==null&&Rt()>Du&&(l.flags|=128,p=!0,Co(f,!1),l.lanes=4194304)}else{if(!p)if(r=pu(g),r!==null){if(l.flags|=128,p=!0,r=r.updateQueue,l.updateQueue=r,wu(l,r),Co(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!De)return Je(l),null}else 2*Rt()-f.renderingStartTime>Du&&a!==536870912&&(l.flags|=128,p=!0,Co(f,!1),l.lanes=4194304);f.isBackwards?(g.sibling=l.child,l.child=g):(r=f.last,r!==null?r.sibling=g:l.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Rt(),r.sibling=null,a=ft.current,Z(ft,p?a&1|2:a&1),De&&Ar(l,f.treeForkCount),r):(Je(l),null);case 22:case 23:return mn(l),Od(),f=l.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(a&536870912)!==0&&(l.flags&128)===0&&(Je(l),l.subtreeFlags&6&&(l.flags|=8192)):Je(l),a=l.updateQueue,a!==null&&wu(l,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==a&&(l.flags|=2048),r!==null&&Y(ll),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),l.memoizedState.cache!==a&&(l.flags|=2048),kr(gt),Je(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function JM(r,l){switch(md(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return kr(gt),We(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Yi(l),null;case 31:if(l.memoizedState!==null){if(mn(l),l.alternate===null)throw Error(i(340));nl()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(mn(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(i(340));nl()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return Y(ft),null;case 4:return We(),null;case 10:return kr(l.type),null;case 22:case 23:return mn(l),Od(),r!==null&&Y(ll),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return kr(gt),null;case 25:return null;default:return null}}function B0(r,l){switch(md(l),l.tag){case 3:kr(gt),We();break;case 26:case 27:case 5:Yi(l);break;case 4:We();break;case 31:l.memoizedState!==null&&mn(l);break;case 13:mn(l);break;case 19:Y(ft);break;case 10:kr(l.type);break;case 22:case 23:mn(l),Od(),r!==null&&Y(ll);break;case 24:kr(gt)}}function Ao(r,l){try{var a=l.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var p=f.next;a=p;do{if((a.tag&r)===r){f=void 0;var g=a.create,x=a.inst;f=g(),x.destroy=f}a=a.next}while(a!==p)}}catch(M){Pe(l,l.return,M)}}function fi(r,l,a){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var g=p.next;f=g;do{if((f.tag&r)===r){var x=f.inst,M=x.destroy;if(M!==void 0){x.destroy=void 0,p=l;var w=a,z=M;try{z()}catch(V){Pe(p,w,V)}}}f=f.next}while(f!==g)}}catch(V){Pe(l,l.return,V)}}function j0(r){var l=r.updateQueue;if(l!==null){var a=r.stateNode;try{wy(l,a)}catch(f){Pe(r,r.return,f)}}}function H0(r,l,a){a.props=cl(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(f){Pe(r,l,f)}}function wo(r,l){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof a=="function"?r.refCleanup=a(f):a.current=f}}catch(p){Pe(r,l,p)}}function rr(r,l){var a=r.ref,f=r.refCleanup;if(a!==null)if(typeof f=="function")try{f()}catch(p){Pe(r,l,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Pe(r,l,p)}else a.current=null}function U0(r){var l=r.type,a=r.memoizedProps,f=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":a.autoFocus&&f.focus();break e;case"img":a.src?f.src=a.src:a.srcSet&&(f.srcset=a.srcSet)}}catch(p){Pe(r,r.return,p)}}function ah(r,l,a){try{var f=r.stateNode;bC(f,r.type,a,l),f[Ze]=l}catch(p){Pe(r,r.return,p)}}function I0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bi(r.type)||r.tag===4}function uh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||I0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ch(r,l,a){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,l):(l=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.appendChild(r),a=a._reactRootContainer,a!=null||l.onclick!==null||(l.onclick=Tr));else if(f!==4&&(f===27&&bi(r.type)&&(a=r.stateNode,l=null),r=r.child,r!==null))for(ch(r,l,a),r=r.sibling;r!==null;)ch(r,l,a),r=r.sibling}function ku(r,l,a){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?a.insertBefore(r,l):a.appendChild(r);else if(f!==4&&(f===27&&bi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(ku(r,l,a),r=r.sibling;r!==null;)ku(r,l,a),r=r.sibling}function P0(r){var l=r.stateNode,a=r.memoizedProps;try{for(var f=r.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);Bt(l,f,a),l[mt]=r,l[Ze]=a}catch(g){Pe(r,r.return,g)}}var _r=!1,vt=!1,fh=!1,V0=typeof WeakSet=="function"?WeakSet:Set,wt=null;function QM(r,l){if(r=r.containerInfo,Dh=Xu,r=ey(r),id(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var p=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,M=-1,w=-1,z=0,V=0,F=r,j=null;t:for(;;){for(var U;F!==a||p!==0&&F.nodeType!==3||(M=x+p),F!==g||f!==0&&F.nodeType!==3||(w=x+f),F.nodeType===3&&(x+=F.nodeValue.length),(U=F.firstChild)!==null;)j=F,F=U;for(;;){if(F===r)break t;if(j===a&&++z===p&&(M=x),j===g&&++V===f&&(w=x),(U=F.nextSibling)!==null)break;F=j,j=F.parentNode}F=U}a=M===-1||w===-1?null:{start:M,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(_h={focusedElem:r,selectionRange:a},Xu=!1,wt=l;wt!==null;)if(l=wt,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,wt=r;else for(;wt!==null;){switch(l=wt,g=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(a=0;a<r.length;a++)p=r[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,a=l,p=g.memoizedProps,g=g.memoizedState,f=a.stateNode;try{var le=cl(a.type,p);r=f.getSnapshotBeforeUpdate(le,g),f.__reactInternalSnapshotBeforeUpdate=r}catch(ge){Pe(a,a.return,ge)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,a=r.nodeType,a===9)Bh(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Bh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=l.sibling,r!==null){r.return=l.return,wt=r;break}wt=l.return}}function q0(r,l,a){var f=a.flags;switch(a.tag){case 0:case 11:case 15:zr(r,a),f&4&&Ao(5,a);break;case 1:if(zr(r,a),f&4)if(r=a.stateNode,l===null)try{r.componentDidMount()}catch(x){Pe(a,a.return,x)}else{var p=cl(a.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(p,l,r.__reactInternalSnapshotBeforeUpdate)}catch(x){Pe(a,a.return,x)}}f&64&&j0(a),f&512&&wo(a,a.return);break;case 3:if(zr(r,a),f&64&&(r=a.updateQueue,r!==null)){if(l=null,a.child!==null)switch(a.child.tag){case 27:case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}try{wy(r,l)}catch(x){Pe(a,a.return,x)}}break;case 27:l===null&&f&4&&P0(a);case 26:case 5:zr(r,a),l===null&&f&4&&U0(a),f&512&&wo(a,a.return);break;case 12:zr(r,a);break;case 31:zr(r,a),f&4&&F0(r,a);break;case 13:zr(r,a),f&4&&Y0(r,a),f&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=sC.bind(null,a),AC(r,a))));break;case 22:if(f=a.memoizedState!==null||_r,!f){l=l!==null&&l.memoizedState!==null||vt,p=_r;var g=vt;_r=f,(vt=l)&&!g?Br(r,a,(a.subtreeFlags&8772)!==0):zr(r,a),_r=p,vt=g}break;case 30:break;default:zr(r,a)}}function G0(r){var l=r.alternate;l!==null&&(r.alternate=null,G0(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&N(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var et=null,tn=!1;function Lr(r,l,a){for(a=a.child;a!==null;)$0(r,l,a),a=a.sibling}function $0(r,l,a){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:vt||rr(a,l),Lr(r,l,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||rr(a,l);var f=et,p=tn;bi(a.type)&&(et=a.stateNode,tn=!1),Lr(r,l,a),Bo(a.stateNode),et=f,tn=p;break;case 5:vt||rr(a,l);case 6:if(f=et,p=tn,et=null,Lr(r,l,a),et=f,tn=p,et!==null)if(tn)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(a.stateNode)}catch(g){Pe(a,l,g)}else try{et.removeChild(a.stateNode)}catch(g){Pe(a,l,g)}break;case 18:et!==null&&(tn?(r=et,jb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),xs(r)):jb(et,a.stateNode));break;case 4:f=et,p=tn,et=a.stateNode.containerInfo,tn=!0,Lr(r,l,a),et=f,tn=p;break;case 0:case 11:case 14:case 15:fi(2,a,l),vt||fi(4,a,l),Lr(r,l,a);break;case 1:vt||(rr(a,l),f=a.stateNode,typeof f.componentWillUnmount=="function"&&H0(a,l,f)),Lr(r,l,a);break;case 21:Lr(r,l,a);break;case 22:vt=(f=vt)||a.memoizedState!==null,Lr(r,l,a),vt=f;break;default:Lr(r,l,a)}}function F0(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{xs(r)}catch(a){Pe(l,l.return,a)}}}function Y0(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{xs(r)}catch(a){Pe(l,l.return,a)}}function WM(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new V0),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new V0),l;default:throw Error(i(435,r.tag))}}function Nu(r,l){var a=WM(r);l.forEach(function(f){if(!a.has(f)){a.add(f);var p=oC.bind(null,r,f);f.then(p,p)}})}function nn(r,l){var a=l.deletions;if(a!==null)for(var f=0;f<a.length;f++){var p=a[f],g=r,x=l,M=x;e:for(;M!==null;){switch(M.tag){case 27:if(bi(M.type)){et=M.stateNode,tn=!1;break e}break;case 5:et=M.stateNode,tn=!1;break e;case 3:case 4:et=M.stateNode.containerInfo,tn=!0;break e}M=M.return}if(et===null)throw Error(i(160));$0(g,x,p),et=null,tn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)K0(l,r),l=l.sibling}var Yn=null;function K0(r,l){var a=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:nn(l,r),rn(r),f&4&&(fi(3,r,r.return),Ao(3,r),fi(5,r,r.return));break;case 1:nn(l,r),rn(r),f&512&&(vt||a===null||rr(a,a.return)),f&64&&_r&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?f:a.concat(f))));break;case 26:var p=Yn;if(nn(l,r),rn(r),f&512&&(vt||a===null||rr(a,a.return)),f&4){var g=a!==null?a.memoizedState:null;if(f=r.memoizedState,a===null)if(f===null)if(r.stateNode===null){e:{f=r.type,a=r.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ae]||g[mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(f),p.head.insertBefore(g,p.querySelector("head > title"))),Bt(g,f,a),g[mt]=r,Ae(g),f=g;break e;case"link":var x=Kb("link","href",p).get(f+(a.href||""));if(x){for(var M=0;M<x.length;M++)if(g=x[M],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(M,1);break t}}g=p.createElement(f),Bt(g,f,a),p.head.appendChild(g);break;case"meta":if(x=Kb("meta","content",p).get(f+(a.content||""))){for(M=0;M<x.length;M++)if(g=x[M],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(M,1);break t}}g=p.createElement(f),Bt(g,f,a),p.head.appendChild(g);break;default:throw Error(i(468,f))}g[mt]=r,Ae(g),f=g}r.stateNode=f}else Xb(p,r.type,r.stateNode);else r.stateNode=Yb(p,f,r.memoizedProps);else g!==f?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,f===null?Xb(p,r.type,r.stateNode):Yb(p,f,r.memoizedProps)):f===null&&r.stateNode!==null&&ah(r,r.memoizedProps,a.memoizedProps)}break;case 27:nn(l,r),rn(r),f&512&&(vt||a===null||rr(a,a.return)),a!==null&&f&4&&ah(r,r.memoizedProps,a.memoizedProps);break;case 5:if(nn(l,r),rn(r),f&512&&(vt||a===null||rr(a,a.return)),r.flags&32){p=r.stateNode;try{Vl(p,"")}catch(le){Pe(r,r.return,le)}}f&4&&r.stateNode!=null&&(p=r.memoizedProps,ah(r,p,a!==null?a.memoizedProps:p)),f&1024&&(fh=!0);break;case 6:if(nn(l,r),rn(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,a=r.stateNode;try{a.nodeValue=f}catch(le){Pe(r,r.return,le)}}break;case 3:if($u=null,p=Yn,Yn=qu(l.containerInfo),nn(l,r),Yn=p,rn(r),f&4&&a!==null&&a.memoizedState.isDehydrated)try{xs(l.containerInfo)}catch(le){Pe(r,r.return,le)}fh&&(fh=!1,X0(r));break;case 4:f=Yn,Yn=qu(r.stateNode.containerInfo),nn(l,r),rn(r),Yn=f;break;case 12:nn(l,r),rn(r);break;case 31:nn(l,r),rn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Nu(r,f)));break;case 13:nn(l,r),rn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ru=Rt()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Nu(r,f)));break;case 22:p=r.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=_r,V=vt;if(_r=z||p,vt=V||w,nn(l,r),vt=V,_r=z,rn(r),f&8192)e:for(l=r.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(a===null||w||_r||vt||fl(r)),a=null,l=r;;){if(l.tag===5||l.tag===26){if(a===null){w=a=l;try{if(g=w.stateNode,p)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{M=w.stateNode;var F=w.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null;M.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(le){Pe(w,w.return,le)}}}else if(l.tag===6){if(a===null){w=l;try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(le){Pe(w,w.return,le)}}}else if(l.tag===18){if(a===null){w=l;try{var U=w.stateNode;p?Hb(U,!0):Hb(w.stateNode,!1)}catch(le){Pe(w,w.return,le)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;a===l&&(a=null),l=l.return}a===l&&(a=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=r.updateQueue,f!==null&&(a=f.retryQueue,a!==null&&(f.retryQueue=null,Nu(r,a))));break;case 19:nn(l,r),rn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Nu(r,f)));break;case 30:break;case 21:break;default:nn(l,r),rn(r)}}function rn(r){var l=r.flags;if(l&2){try{for(var a,f=r.return;f!==null;){if(I0(f)){a=f;break}f=f.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,g=uh(r);ku(r,g,p);break;case 5:var x=a.stateNode;a.flags&32&&(Vl(x,""),a.flags&=-33);var M=uh(r);ku(r,M,x);break;case 3:case 4:var w=a.stateNode.containerInfo,z=uh(r);ch(r,z,w);break;default:throw Error(i(161))}}catch(V){Pe(r,r.return,V)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function X0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;X0(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function zr(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)q0(r,l.alternate,l),l=l.sibling}function fl(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:fi(4,l,l.return),fl(l);break;case 1:rr(l,l.return);var a=l.stateNode;typeof a.componentWillUnmount=="function"&&H0(l,l.return,a),fl(l);break;case 27:Bo(l.stateNode);case 26:case 5:rr(l,l.return),fl(l);break;case 22:l.memoizedState===null&&fl(l);break;case 30:fl(l);break;default:fl(l)}r=r.sibling}}function Br(r,l,a){for(a=a&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,p=r,g=l,x=g.flags;switch(g.tag){case 0:case 11:case 15:Br(p,g,a),Ao(4,g);break;case 1:if(Br(p,g,a),f=g,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(z){Pe(f,f.return,z)}if(f=g,p=f.updateQueue,p!==null){var M=f.stateNode;try{var w=p.shared.hiddenCallbacks;if(w!==null)for(p.shared.hiddenCallbacks=null,p=0;p<w.length;p++)Ay(w[p],M)}catch(z){Pe(f,f.return,z)}}a&&x&64&&j0(g),wo(g,g.return);break;case 27:P0(g);case 26:case 5:Br(p,g,a),a&&f===null&&x&4&&U0(g),wo(g,g.return);break;case 12:Br(p,g,a);break;case 31:Br(p,g,a),a&&x&4&&F0(p,g);break;case 13:Br(p,g,a),a&&x&4&&Y0(p,g);break;case 22:g.memoizedState===null&&Br(p,g,a),wo(g,g.return);break;case 30:break;default:Br(p,g,a)}l=l.sibling}}function dh(r,l){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&ho(a))}function hh(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&ho(r))}function Kn(r,l,a,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)J0(r,l,a,f),l=l.sibling}function J0(r,l,a,f){var p=l.flags;switch(l.tag){case 0:case 11:case 15:Kn(r,l,a,f),p&2048&&Ao(9,l);break;case 1:Kn(r,l,a,f);break;case 3:Kn(r,l,a,f),p&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&ho(r)));break;case 12:if(p&2048){Kn(r,l,a,f),r=l.stateNode;try{var g=l.memoizedProps,x=g.id,M=g.onPostCommit;typeof M=="function"&&M(x,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(w){Pe(l,l.return,w)}}else Kn(r,l,a,f);break;case 31:Kn(r,l,a,f);break;case 13:Kn(r,l,a,f);break;case 23:break;case 22:g=l.stateNode,x=l.alternate,l.memoizedState!==null?g._visibility&2?Kn(r,l,a,f):ko(r,l):g._visibility&2?Kn(r,l,a,f):(g._visibility|=2,us(r,l,a,f,(l.subtreeFlags&10256)!==0||!1)),p&2048&&dh(x,l);break;case 24:Kn(r,l,a,f),p&2048&&hh(l.alternate,l);break;default:Kn(r,l,a,f)}}function us(r,l,a,f,p){for(p=p&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var g=r,x=l,M=a,w=f,z=x.flags;switch(x.tag){case 0:case 11:case 15:us(g,x,M,w,p),Ao(8,x);break;case 23:break;case 22:var V=x.stateNode;x.memoizedState!==null?V._visibility&2?us(g,x,M,w,p):ko(g,x):(V._visibility|=2,us(g,x,M,w,p)),p&&z&2048&&dh(x.alternate,x);break;case 24:us(g,x,M,w,p),p&&z&2048&&hh(x.alternate,x);break;default:us(g,x,M,w,p)}l=l.sibling}}function ko(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var a=r,f=l,p=f.flags;switch(f.tag){case 22:ko(a,f),p&2048&&dh(f.alternate,f);break;case 24:ko(a,f),p&2048&&hh(f.alternate,f);break;default:ko(a,f)}l=l.sibling}}var No=8192;function cs(r,l,a){if(r.subtreeFlags&No)for(r=r.child;r!==null;)Q0(r,l,a),r=r.sibling}function Q0(r,l,a){switch(r.tag){case 26:cs(r,l,a),r.flags&No&&r.memoizedState!==null&&HC(a,Yn,r.memoizedState,r.memoizedProps);break;case 5:cs(r,l,a);break;case 3:case 4:var f=Yn;Yn=qu(r.stateNode.containerInfo),cs(r,l,a),Yn=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=No,No=16777216,cs(r,l,a),No=f):cs(r,l,a));break;default:cs(r,l,a)}}function W0(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Oo(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var a=0;a<l.length;a++){var f=l[a];wt=f,eb(f,r)}W0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z0(r),r=r.sibling}function Z0(r){switch(r.tag){case 0:case 11:case 15:Oo(r),r.flags&2048&&fi(9,r,r.return);break;case 3:Oo(r);break;case 12:Oo(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,Ou(r)):Oo(r);break;default:Oo(r)}}function Ou(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var a=0;a<l.length;a++){var f=l[a];wt=f,eb(f,r)}W0(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:fi(8,l,l.return),Ou(l);break;case 22:a=l.stateNode,a._visibility&2&&(a._visibility&=-3,Ou(l));break;default:Ou(l)}r=r.sibling}}function eb(r,l){for(;wt!==null;){var a=wt;switch(a.tag){case 0:case 11:case 15:fi(8,a,l);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var f=a.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ho(a.memoizedState.cache)}if(f=a.child,f!==null)f.return=a,wt=f;else e:for(a=r;wt!==null;){f=wt;var p=f.sibling,g=f.return;if(G0(f),f===a){wt=null;break e}if(p!==null){p.return=g,wt=p;break e}wt=g}}}var ZM={getCacheForType:function(r){var l=Lt(gt),a=l.data.get(r);return a===void 0&&(a=r(),l.data.set(r,a)),a},cacheSignal:function(){return Lt(gt).controller.signal}},eC=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ye=null,ke=null,Oe=0,Ie=0,gn=null,di=!1,fs=!1,ph=!1,jr=0,ot=0,hi=0,dl=0,mh=0,yn=0,ds=0,Ro=null,ln=null,gh=!1,Ru=0,tb=0,Du=1/0,_u=null,pi=null,Tt=0,mi=null,hs=null,Hr=0,yh=0,bh=null,nb=null,Do=0,vh=null;function bn(){return(Be&2)!==0&&Oe!==0?Oe&-Oe:I.T!==null?Ch():Qs()}function rb(){if(yn===0)if((Oe&536870912)===0||De){var r=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),yn=r}else yn=536870912;return r=pn.current,r!==null&&(r.flags|=32),yn}function sn(r,l,a){(r===Ye&&(Ie===2||Ie===9)||r.cancelPendingCommit!==null)&&(ps(r,0),gi(r,Oe,yn,!1)),ei(r,a),((Be&2)===0||r!==Ye)&&(r===Ye&&((Be&2)===0&&(dl|=a),ot===4&&gi(r,Oe,yn,!1)),ir(r))}function ib(r,l,a){if((Be&6)!==0)throw Error(i(327));var f=!a&&(l&127)===0&&(l&r.expiredLanes)===0||Ji(r,l),p=f?rC(r,l):Sh(r,l,!0),g=f;do{if(p===0){fs&&!f&&gi(r,l,0,!1);break}else{if(a=r.current.alternate,g&&!tC(a)){p=Sh(r,l,!1),g=!1;continue}if(p===2){if(g=l,r.errorRecoveryDisabledLanes&g)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){l=x;e:{var M=r;p=Ro;var w=M.current.memoizedState.isDehydrated;if(w&&(ps(M,x).flags|=256),x=Sh(M,x,!1),x!==2){if(ph&&!w){M.errorRecoveryDisabledLanes|=g,dl|=g,p=4;break e}g=ln,ln=p,g!==null&&(ln===null?ln=g:ln.push.apply(ln,g))}p=x}if(g=!1,p!==2)continue}}if(p===1){ps(r,0),gi(r,l,0,!0);break}e:{switch(f=r,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:gi(f,l,yn,!di);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(p=Ru+300-Rt(),10<p)){if(gi(f,l,yn,!di),Ul(f,0,!0)!==0)break e;Hr=l,f.timeoutHandle=zb(lb.bind(null,f,a,ln,_u,gh,l,yn,dl,ds,di,g,"Throttled",-0,0),p);break e}lb(f,a,ln,_u,gh,l,yn,dl,ds,di,g,null,-0,0)}}break}while(!0);ir(r)}function lb(r,l,a,f,p,g,x,M,w,z,V,F,j,U){if(r.timeoutHandle=-1,F=l.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tr},Q0(l,g,F);var le=(g&62914560)===g?Ru-Rt():(g&4194048)===g?tb-Rt():0;if(le=UC(F,le),le!==null){Hr=g,r.cancelPendingCommit=le(hb.bind(null,r,l,g,a,f,p,x,M,w,V,F,null,j,U)),gi(r,g,x,!z);return}}hb(r,l,g,a,f,p,x,M,w)}function tC(r){for(var l=r;;){var a=l.tag;if((a===0||a===11||a===15)&&l.flags&16384&&(a=l.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var f=0;f<a.length;f++){var p=a[f],g=p.getSnapshot;p=p.value;try{if(!dn(g(),p))return!1}catch{return!1}}if(a=l.child,l.subtreeFlags&16384&&a!==null)a.return=l,l=a;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function gi(r,l,a,f){l&=~mh,l&=~dl,r.suspendedLanes|=l,r.pingedLanes&=~l,f&&(r.warmLanes|=l),f=r.expirationTimes;for(var p=l;0<p;){var g=31-pt(p),x=1<<g;f[g]=-1,p&=~x}a!==0&&Xs(r,a,l)}function Lu(){return(Be&6)===0?(_o(0),!1):!0}function xh(){if(ke!==null){if(Ie===0)var r=ke.return;else r=ke,wr=rl=null,Bd(r),rs=null,mo=0,r=ke;for(;r!==null;)B0(r.alternate,r),r=r.return;ke=null}}function ps(r,l){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,SC(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Hr=0,xh(),Ye=r,ke=a=Cr(r.current,null),Oe=l,Ie=0,gn=null,di=!1,fs=Ji(r,l),ph=!1,ds=yn=mh=dl=hi=ot=0,ln=Ro=null,gh=!1,(l&8)!==0&&(l|=l&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=l;0<f;){var p=31-pt(f),g=1<<p;l|=r[p],f&=~g}return jr=l,tu(),a}function sb(r,l){xe=null,I.H=To,l===ns||l===uu?(l=Ey(),Ie=3):l===Md?(l=Ey(),Ie=4):Ie=l===Wd?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,gn=l,ke===null&&(ot=1,Tu(r,kn(l,r.current)))}function ob(){var r=pn.current;return r===null?!0:(Oe&4194048)===Oe?Dn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?r===Dn:!1}function ab(){var r=I.H;return I.H=To,r===null?To:r}function ub(){var r=I.A;return I.A=ZM,r}function zu(){ot=4,di||(Oe&4194048)!==Oe&&pn.current!==null||(fs=!0),(hi&134217727)===0&&(dl&134217727)===0||Ye===null||gi(Ye,Oe,yn,!1)}function Sh(r,l,a){var f=Be;Be|=2;var p=ab(),g=ub();(Ye!==r||Oe!==l)&&(_u=null,ps(r,l)),l=!1;var x=ot;e:do try{if(Ie!==0&&ke!==null){var M=ke,w=gn;switch(Ie){case 8:xh(),x=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(l=!0);var z=Ie;if(Ie=0,gn=null,ms(r,M,w,z),a&&fs){x=0;break e}break;default:z=Ie,Ie=0,gn=null,ms(r,M,w,z)}}nC(),x=ot;break}catch(V){sb(r,V)}while(!0);return l&&r.shellSuspendCounter++,wr=rl=null,Be=f,I.H=p,I.A=g,ke===null&&(Ye=null,Oe=0,tu()),x}function nC(){for(;ke!==null;)cb(ke)}function rC(r,l){var a=Be;Be|=2;var f=ab(),p=ub();Ye!==r||Oe!==l?(_u=null,Du=Rt()+500,ps(r,l)):fs=Ji(r,l);e:do try{if(Ie!==0&&ke!==null){l=ke;var g=gn;t:switch(Ie){case 1:Ie=0,gn=null,ms(r,l,g,1);break;case 2:case 9:if(xy(g)){Ie=0,gn=null,fb(l);break}l=function(){Ie!==2&&Ie!==9||Ye!==r||(Ie=7),ir(r)},g.then(l,l);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:xy(g)?(Ie=0,gn=null,fb(l)):(Ie=0,gn=null,ms(r,l,g,7));break;case 5:var x=null;switch(ke.tag){case 26:x=ke.memoizedState;case 5:case 27:var M=ke;if(x?Jb(x):M.stateNode.complete){Ie=0,gn=null;var w=M.sibling;if(w!==null)ke=w;else{var z=M.return;z!==null?(ke=z,Bu(z)):ke=null}break t}}Ie=0,gn=null,ms(r,l,g,5);break;case 6:Ie=0,gn=null,ms(r,l,g,6);break;case 8:xh(),ot=6;break e;default:throw Error(i(462))}}iC();break}catch(V){sb(r,V)}while(!0);return wr=rl=null,I.H=f,I.A=p,Be=a,ke!==null?0:(Ye=null,Oe=0,tu(),ot)}function iC(){for(;ke!==null&&!ja();)cb(ke)}function cb(r){var l=L0(r.alternate,r,jr);r.memoizedProps=r.pendingProps,l===null?Bu(r):ke=l}function fb(r){var l=r,a=l.alternate;switch(l.tag){case 15:case 0:l=k0(a,l,l.pendingProps,l.type,void 0,Oe);break;case 11:l=k0(a,l,l.pendingProps,l.type.render,l.ref,Oe);break;case 5:Bd(l);default:B0(a,l),l=ke=uy(l,jr),l=L0(a,l,jr)}r.memoizedProps=r.pendingProps,l===null?Bu(r):ke=l}function ms(r,l,a,f){wr=rl=null,Bd(l),rs=null,mo=0;var p=l.return;try{if(FM(r,p,l,a,Oe)){ot=1,Tu(r,kn(a,r.current)),ke=null;return}}catch(g){if(p!==null)throw ke=p,g;ot=1,Tu(r,kn(a,r.current)),ke=null;return}l.flags&32768?(De||f===1?r=!0:fs||(Oe&536870912)!==0?r=!1:(di=r=!0,(f===2||f===9||f===3||f===6)&&(f=pn.current,f!==null&&f.tag===13&&(f.flags|=16384))),db(l,r)):Bu(l)}function Bu(r){var l=r;do{if((l.flags&32768)!==0){db(l,di);return}r=l.return;var a=XM(l.alternate,l,jr);if(a!==null){ke=a;return}if(l=l.sibling,l!==null){ke=l;return}ke=l=r}while(l!==null);ot===0&&(ot=5)}function db(r,l){do{var a=JM(r.alternate,r);if(a!==null){a.flags&=32767,ke=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!l&&(r=r.sibling,r!==null)){ke=r;return}ke=r=a}while(r!==null);ot=6,ke=null}function hb(r,l,a,f,p,g,x,M,w){r.cancelPendingCommit=null;do ju();while(Tt!==0);if((Be&6)!==0)throw Error(i(327));if(l!==null){if(l===r.current)throw Error(i(177));if(g=l.lanes|l.childLanes,g|=ud,Ks(r,a,g,x,M,w),r===Ye&&(ke=Ye=null,Oe=0),hs=l,mi=r,Hr=a,yh=g,bh=p,nb=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,aC(Zr,function(){return bb(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=I.T,I.T=null,p=ee.p,ee.p=2,x=Be,Be|=4;try{QM(r,l,a)}finally{Be=x,ee.p=p,I.T=f}}Tt=1,pb(),mb(),gb()}}function pb(){if(Tt===1){Tt=0;var r=mi,l=hs,a=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var f=ee.p;ee.p=2;var p=Be;Be|=4;try{K0(l,r);var g=_h,x=ey(r.containerInfo),M=g.focusedElem,w=g.selectionRange;if(x!==M&&M&&M.ownerDocument&&Zg(M.ownerDocument.documentElement,M)){if(w!==null&&id(M)){var z=w.start,V=w.end;if(V===void 0&&(V=z),"selectionStart"in M)M.selectionStart=z,M.selectionEnd=Math.min(V,M.value.length);else{var F=M.ownerDocument||document,j=F&&F.defaultView||window;if(j.getSelection){var U=j.getSelection(),le=M.textContent.length,ge=Math.min(w.start,le),$e=w.end===void 0?ge:Math.min(w.end,le);!U.extend&&ge>$e&&(x=$e,$e=ge,ge=x);var D=Wg(M,ge),O=Wg(M,$e);if(D&&O&&(U.rangeCount!==1||U.anchorNode!==D.node||U.anchorOffset!==D.offset||U.focusNode!==O.node||U.focusOffset!==O.offset)){var L=F.createRange();L.setStart(D.node,D.offset),U.removeAllRanges(),ge>$e?(U.addRange(L),U.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),U.addRange(L))}}}}for(F=[],U=M;U=U.parentNode;)U.nodeType===1&&F.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<F.length;M++){var G=F[M];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Xu=!!Dh,_h=Dh=null}finally{Be=p,ee.p=f,I.T=a}}r.current=l,Tt=2}}function mb(){if(Tt===2){Tt=0;var r=mi,l=hs,a=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var f=ee.p;ee.p=2;var p=Be;Be|=4;try{q0(r,l.alternate,l)}finally{Be=p,ee.p=f,I.T=a}}Tt=3}}function gb(){if(Tt===4||Tt===3){Tt=0,If();var r=mi,l=hs,a=Hr,f=nb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Tt=5:(Tt=0,hs=mi=null,yb(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(pi=null),$n(a),l=l.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Zn,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=I.T,p=ee.p,ee.p=2,I.T=null;try{for(var g=r.onRecoverableError,x=0;x<f.length;x++){var M=f[x];g(M.value,{componentStack:M.stack})}}finally{I.T=l,ee.p=p}}(Hr&3)!==0&&ju(),ir(r),p=r.pendingLanes,(a&261930)!==0&&(p&42)!==0?r===vh?Do++:(Do=0,vh=r):Do=0,_o(0)}}function yb(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,ho(l)))}function ju(){return pb(),mb(),gb(),bb()}function bb(){if(Tt!==5)return!1;var r=mi,l=yh;yh=0;var a=$n(Hr),f=I.T,p=ee.p;try{ee.p=32>a?32:a,I.T=null,a=bh,bh=null;var g=mi,x=Hr;if(Tt=0,hs=mi=null,Hr=0,(Be&6)!==0)throw Error(i(331));var M=Be;if(Be|=4,Z0(g.current),J0(g,g.current,x,a),Be=M,_o(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Zn,g)}catch{}return!0}finally{ee.p=p,I.T=f,yb(r,l)}}function vb(r,l,a){l=kn(a,l),l=Qd(r.stateNode,l,2),r=ai(r,l,2),r!==null&&(ei(r,2),ir(r))}function Pe(r,l,a){if(r.tag===3)vb(r,r,a);else for(;l!==null;){if(l.tag===3){vb(l,r,a);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(pi===null||!pi.has(f))){r=kn(a,r),a=x0(2),f=ai(l,a,2),f!==null&&(S0(a,f,l,r),ei(f,2),ir(f));break}}l=l.return}}function Eh(r,l,a){var f=r.pingCache;if(f===null){f=r.pingCache=new eC;var p=new Set;f.set(l,p)}else p=f.get(l),p===void 0&&(p=new Set,f.set(l,p));p.has(a)||(ph=!0,p.add(a),r=lC.bind(null,r,l,a),l.then(r,r))}function lC(r,l,a){var f=r.pingCache;f!==null&&f.delete(l),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Ye===r&&(Oe&a)===a&&(ot===4||ot===3&&(Oe&62914560)===Oe&&300>Rt()-Ru?(Be&2)===0&&ps(r,0):mh|=a,ds===Oe&&(ds=0)),ir(r)}function xb(r,l){l===0&&(l=xr()),r=el(r,l),r!==null&&(ei(r,l),ir(r))}function sC(r){var l=r.memoizedState,a=0;l!==null&&(a=l.retryLane),xb(r,a)}function oC(r,l){var a=0;switch(r.tag){case 31:case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(l),xb(r,a)}function aC(r,l){return Wr(r,l)}var Hu=null,gs=null,Th=!1,Uu=!1,Mh=!1,yi=0;function ir(r){r!==gs&&r.next===null&&(gs===null?Hu=gs=r:gs=gs.next=r),Uu=!0,Th||(Th=!0,cC())}function _o(r,l){if(!Mh&&Uu){Mh=!0;do for(var a=!1,f=Hu;f!==null;){if(r!==0){var p=f.pendingLanes;if(p===0)var g=0;else{var x=f.suspendedLanes,M=f.pingedLanes;g=(1<<31-pt(42|r)+1)-1,g&=p&~(x&~M),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Mb(f,g))}else g=Oe,g=Ul(f,f===Ye?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||Ji(f,g)||(a=!0,Mb(f,g));f=f.next}while(a);Mh=!1}}function uC(){Sb()}function Sb(){Uu=Th=!1;var r=0;yi!==0&&xC()&&(r=yi);for(var l=Rt(),a=null,f=Hu;f!==null;){var p=f.next,g=Eb(f,l);g===0?(f.next=null,a===null?Hu=p:a.next=p,p===null&&(gs=a)):(a=f,(r!==0||(g&3)!==0)&&(Uu=!0)),f=p}Tt!==0&&Tt!==5||_o(r),yi!==0&&(yi=0)}function Eb(r,l){for(var a=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var x=31-pt(g),M=1<<x,w=p[x];w===-1?((M&a)===0||(M&f)!==0)&&(p[x]=ct(M,l)):w<=l&&(r.expiredLanes|=M),g&=~M}if(l=Ye,a=Oe,a=Ul(r,r===l?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,a===0||r===l&&(Ie===2||Ie===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&jl(f),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Ji(r,a)){if(l=a&-a,l===r.callbackPriority)return l;switch(f!==null&&jl(f),$n(a)){case 2:case 8:a=cn;break;case 32:a=Zr;break;case 268435456:a=qs;break;default:a=Zr}return f=Tb.bind(null,r),a=Wr(a,f),r.callbackPriority=l,r.callbackNode=a,l}return f!==null&&f!==null&&jl(f),r.callbackPriority=2,r.callbackNode=null,2}function Tb(r,l){if(Tt!==0&&Tt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(ju()&&r.callbackNode!==a)return null;var f=Oe;return f=Ul(r,r===Ye?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(ib(r,f,l),Eb(r,Rt()),r.callbackNode!=null&&r.callbackNode===a?Tb.bind(null,r):null)}function Mb(r,l){if(ju())return null;ib(r,l,!0)}function cC(){EC(function(){(Be&6)!==0?Wr(yr,uC):Sb()})}function Ch(){if(yi===0){var r=es;r===0&&(r=br,br<<=1,(br&261888)===0&&(br=256)),yi=r}return yi}function Cb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ya(""+r)}function Ab(r,l){var a=l.ownerDocument.createElement("input");return a.name=l.name,a.value=l.value,r.id&&a.setAttribute("form",r.id),l.parentNode.insertBefore(a,l),r=new FormData(r),a.parentNode.removeChild(a),r}function fC(r,l,a,f,p){if(l==="submit"&&a&&a.stateNode===p){var g=Cb((p[Ze]||null).action),x=f.submitter;x&&(l=(l=x[Ze]||null)?Cb(l.formAction):x.getAttribute("formAction"),l!==null&&(g=l,x=null));var M=new Qa("action","action",null,f,p);r.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(yi!==0){var w=x?Ab(p,x):new FormData(p);$d(a,{pending:!0,data:w,method:p.method,action:g},null,w)}}else typeof g=="function"&&(M.preventDefault(),w=x?Ab(p,x):new FormData(p),$d(a,{pending:!0,data:w,method:p.method,action:g},g,w))},currentTarget:p}]})}}for(var Ah=0;Ah<ad.length;Ah++){var wh=ad[Ah],dC=wh.toLowerCase(),hC=wh[0].toUpperCase()+wh.slice(1);Fn(dC,"on"+hC)}Fn(ry,"onAnimationEnd"),Fn(iy,"onAnimationIteration"),Fn(ly,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(NM,"onTransitionRun"),Fn(OM,"onTransitionStart"),Fn(RM,"onTransitionCancel"),Fn(sy,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function wb(r,l){l=(l&4)!==0;for(var a=0;a<r.length;a++){var f=r[a],p=f.event;f=f.listeners;e:{var g=void 0;if(l)for(var x=f.length-1;0<=x;x--){var M=f[x],w=M.instance,z=M.currentTarget;if(M=M.listener,w!==g&&p.isPropagationStopped())break e;g=M,p.currentTarget=z;try{g(p)}catch(V){eu(V)}p.currentTarget=null,g=w}else for(x=0;x<f.length;x++){if(M=f[x],w=M.instance,z=M.currentTarget,M=M.listener,w!==g&&p.isPropagationStopped())break e;g=M,p.currentTarget=z;try{g(p)}catch(V){eu(V)}p.currentTarget=null,g=w}}}}function Ne(r,l){var a=l[Il];a===void 0&&(a=l[Il]=new Set);var f=r+"__bubble";a.has(f)||(kb(l,r,2,!1),a.add(f))}function kh(r,l,a){var f=0;l&&(f|=4),kb(a,r,f,l)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Nh(r){if(!r[Iu]){r[Iu]=!0,Dt.forEach(function(a){a!=="selectionchange"&&(pC.has(a)||kh(a,!1,r),kh(a,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[Iu]||(l[Iu]=!0,kh("selectionchange",!1,l))}}function kb(r,l,a,f){switch(rv(l)){case 2:var p=VC;break;case 8:p=qC;break;default:p=Gh}a=p.bind(null,l,a,r),p=void 0,!Xf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(l,a,{capture:!0,passive:p}):r.addEventListener(l,a,!0):p!==void 0?r.addEventListener(l,a,{passive:p}):r.addEventListener(l,a,!1)}function Oh(r,l,a,f,p){var g=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var M=f.stateNode.containerInfo;if(M===p)break;if(x===4)for(x=f.return;x!==null;){var w=x.tag;if((w===3||w===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;M!==null;){if(x=Q(M),x===null)return;if(w=x.tag,w===5||w===6||w===26||w===27){f=g=x;continue e}M=M.parentNode}}f=f.return}_g(function(){var z=g,V=Yf(a),F=[];e:{var j=oy.get(r);if(j!==void 0){var U=Qa,le=r;switch(r){case"keypress":if(Xa(a)===0)break e;case"keydown":case"keyup":U=oM;break;case"focusin":le="focus",U=Zf;break;case"focusout":le="blur",U=Zf;break;case"beforeblur":case"afterblur":U=Zf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=XT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=cM;break;case ry:case iy:case ly:U=WT;break;case sy:U=dM;break;case"scroll":case"scrollend":U=YT;break;case"wheel":U=pM;break;case"copy":case"cut":case"paste":U=eM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Hg;break;case"toggle":case"beforetoggle":U=gM}var ge=(l&4)!==0,$e=!ge&&(r==="scroll"||r==="scrollend"),D=ge?j!==null?j+"Capture":null:j;ge=[];for(var O=z,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||D===null||(G=to(O,D),G!=null&&ge.push(zo(O,G,L))),$e)break;O=O.return}0<ge.length&&(j=new U(j,le,null,a,V),F.push({event:j,listeners:ge}))}}if((l&7)===0){e:{if(j=r==="mouseover"||r==="pointerover",U=r==="mouseout"||r==="pointerout",j&&a!==Ff&&(le=a.relatedTarget||a.fromElement)&&(Q(le)||le[Sr]))break e;if((U||j)&&(j=V.window===V?V:(j=V.ownerDocument)?j.defaultView||j.parentWindow:window,U?(le=a.relatedTarget||a.toElement,U=z,le=le?Q(le):null,le!==null&&($e=o(le),ge=le.tag,le!==$e||ge!==5&&ge!==27&&ge!==6)&&(le=null)):(U=null,le=z),U!==le)){if(ge=Bg,G="onMouseLeave",D="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(ge=Hg,G="onPointerLeave",D="onPointerEnter",O="pointer"),$e=U==null?j:Ue(U),L=le==null?j:Ue(le),j=new ge(G,O+"leave",U,a,V),j.target=$e,j.relatedTarget=L,G=null,Q(V)===z&&(ge=new ge(D,O+"enter",le,a,V),ge.target=L,ge.relatedTarget=$e,G=ge),$e=G,U&&le)t:{for(ge=mC,D=U,O=le,L=0,G=D;G;G=ge(G))L++;G=0;for(var he=O;he;he=ge(he))G++;for(;0<L-G;)D=ge(D),L--;for(;0<G-L;)O=ge(O),G--;for(;L--;){if(D===O||O!==null&&D===O.alternate){ge=D;break t}D=ge(D),O=ge(O)}ge=null}else ge=null;U!==null&&Nb(F,j,U,ge,!1),le!==null&&$e!==null&&Nb(F,$e,le,ge,!0)}}e:{if(j=z?Ue(z):window,U=j.nodeName&&j.nodeName.toLowerCase(),U==="select"||U==="input"&&j.type==="file")var Le=Fg;else if(Gg(j))if(Yg)Le=AM;else{Le=MM;var ue=TM}else U=j.nodeName,!U||U.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&$f(z.elementType)&&(Le=Fg):Le=CM;if(Le&&(Le=Le(r,z))){$g(F,Le,a,V);break e}ue&&ue(r,j,z),r==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Gf(j,"number",j.value)}switch(ue=z?Ue(z):window,r){case"focusin":(Gg(ue)||ue.contentEditable==="true")&&(Fl=ue,ld=z,uo=null);break;case"focusout":uo=ld=Fl=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,ty(F,a,V);break;case"selectionchange":if(kM)break;case"keydown":case"keyup":ty(F,a,V)}var Ee;if(td)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else $l?Vg(r,a)&&(Re="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(Ug&&a.locale!=="ko"&&($l||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&$l&&(Ee=Lg()):(ti=V,Jf="value"in ti?ti.value:ti.textContent,$l=!0)),ue=Pu(z,Re),0<ue.length&&(Re=new jg(Re,r,null,a,V),F.push({event:Re,listeners:ue}),Ee?Re.data=Ee:(Ee=qg(a),Ee!==null&&(Re.data=Ee)))),(Ee=bM?vM(r,a):xM(r,a))&&(Re=Pu(z,"onBeforeInput"),0<Re.length&&(ue=new jg("onBeforeInput","beforeinput",null,a,V),F.push({event:ue,listeners:Re}),ue.data=Ee)),fC(F,r,z,a,V)}wb(F,l)})}function zo(r,l,a){return{instance:r,listener:l,currentTarget:a}}function Pu(r,l){for(var a=l+"Capture",f=[];r!==null;){var p=r,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=to(r,a),p!=null&&f.unshift(zo(r,p,g)),p=to(r,l),p!=null&&f.push(zo(r,p,g))),r.tag===3)return f;r=r.return}return[]}function mC(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Nb(r,l,a,f,p){for(var g=l._reactName,x=[];a!==null&&a!==f;){var M=a,w=M.alternate,z=M.stateNode;if(M=M.tag,w!==null&&w===f)break;M!==5&&M!==26&&M!==27||z===null||(w=z,p?(z=to(a,g),z!=null&&x.unshift(zo(a,z,w))):p||(z=to(a,g),z!=null&&x.push(zo(a,z,w)))),a=a.return}x.length!==0&&r.push({event:l,listeners:x})}var gC=/\r\n?/g,yC=/\u0000|\uFFFD/g;function Ob(r){return(typeof r=="string"?r:""+r).replace(gC,`
`).replace(yC,"")}function Rb(r,l){return l=Ob(l),Ob(r)===l}function Ge(r,l,a,f,p,g){switch(a){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||Vl(r,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&Vl(r,""+f);break;case"className":$a(r,"class",f);break;case"tabIndex":$a(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":$a(r,a,f);break;case"style":Rg(r,f,g);break;case"data":if(l!=="object"){$a(r,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||a!=="href")){r.removeAttribute(a);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(a);break}f=Ya(""+f),r.setAttribute(a,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(l!=="input"&&Ge(r,l,"name",p.name,p,null),Ge(r,l,"formEncType",p.formEncType,p,null),Ge(r,l,"formMethod",p.formMethod,p,null),Ge(r,l,"formTarget",p.formTarget,p,null)):(Ge(r,l,"encType",p.encType,p,null),Ge(r,l,"method",p.method,p,null),Ge(r,l,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(a);break}f=Ya(""+f),r.setAttribute(a,f);break;case"onClick":f!=null&&(r.onclick=Tr);break;case"onScroll":f!=null&&Ne("scroll",r);break;case"onScrollEnd":f!=null&&Ne("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(a=f.__html,a!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}a=Ya(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(a,""+f):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":f===!0?r.setAttribute(a,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(a,f):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(a,f):r.removeAttribute(a);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(a):r.setAttribute(a,f);break;case"popover":Ne("beforetoggle",r),Ne("toggle",r),Ga(r,"popover",f);break;case"xlinkActuate":Er(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Er(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Er(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Er(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Er(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Er(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Er(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Er(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Er(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ga(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$T.get(a)||a,Ga(r,a,f))}}function Rh(r,l,a,f,p,g){switch(a){case"style":Rg(r,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(a=f.__html,a!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof f=="string"?Vl(r,f):(typeof f=="number"||typeof f=="bigint")&&Vl(r,""+f);break;case"onScroll":f!=null&&Ne("scroll",r);break;case"onScrollEnd":f!=null&&Ne("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),l=a.slice(2,p?a.length-7:void 0),g=r[Ze]||null,g=g!=null?g[a]:null,typeof g=="function"&&r.removeEventListener(l,g,p),typeof f=="function")){typeof g!="function"&&g!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(l,f,p);break e}a in r?r[a]=f:f===!0?r.setAttribute(a,""):Ga(r,a,f)}}}function Bt(r,l,a){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",r),Ne("load",r);var f=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var x=a[g];if(x!=null)switch(g){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Ge(r,l,g,x,a,null)}}p&&Ge(r,l,"srcSet",a.srcSet,a,null),f&&Ge(r,l,"src",a.src,a,null);return;case"input":Ne("invalid",r);var M=g=x=p=null,w=null,z=null;for(f in a)if(a.hasOwnProperty(f)){var V=a[f];if(V!=null)switch(f){case"name":p=V;break;case"type":x=V;break;case"checked":w=V;break;case"defaultChecked":z=V;break;case"value":g=V;break;case"defaultValue":M=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,l));break;default:Ge(r,l,f,V,a,null)}}wg(r,g,M,w,z,x,p,!1);return;case"select":Ne("invalid",r),f=x=g=null;for(p in a)if(a.hasOwnProperty(p)&&(M=a[p],M!=null))switch(p){case"value":g=M;break;case"defaultValue":x=M;break;case"multiple":f=M;default:Ge(r,l,p,M,a,null)}l=g,a=x,r.multiple=!!f,l!=null?Pl(r,!!f,l,!1):a!=null&&Pl(r,!!f,a,!0);return;case"textarea":Ne("invalid",r),g=p=f=null;for(x in a)if(a.hasOwnProperty(x)&&(M=a[x],M!=null))switch(x){case"value":f=M;break;case"defaultValue":p=M;break;case"children":g=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:Ge(r,l,x,M,a,null)}Ng(r,f,p,g);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(f=a[w],f!=null))switch(w){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ge(r,l,w,f,a,null)}return;case"dialog":Ne("beforetoggle",r),Ne("toggle",r),Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":Ne("load",r);break;case"video":case"audio":for(f=0;f<Lo.length;f++)Ne(Lo[f],r);break;case"image":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"embed":case"source":case"link":Ne("error",r),Ne("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(f=a[z],f!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Ge(r,l,z,f,a,null)}return;default:if($f(l)){for(V in a)a.hasOwnProperty(V)&&(f=a[V],f!==void 0&&Rh(r,l,V,f,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(f=a[M],f!=null&&Ge(r,l,M,f,a,null))}function bC(r,l,a,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,x=null,M=null,w=null,z=null,V=null;for(U in a){var F=a[U];if(a.hasOwnProperty(U)&&F!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=F;default:f.hasOwnProperty(U)||Ge(r,l,U,null,f,F)}}for(var j in f){var U=f[j];if(F=a[j],f.hasOwnProperty(j)&&(U!=null||F!=null))switch(j){case"type":g=U;break;case"name":p=U;break;case"checked":z=U;break;case"defaultChecked":V=U;break;case"value":x=U;break;case"defaultValue":M=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,l));break;default:U!==F&&Ge(r,l,j,U,f,F)}}qf(r,x,M,w,z,V,g,p);return;case"select":U=x=M=j=null;for(g in a)if(w=a[g],a.hasOwnProperty(g)&&w!=null)switch(g){case"value":break;case"multiple":U=w;default:f.hasOwnProperty(g)||Ge(r,l,g,null,f,w)}for(p in f)if(g=f[p],w=a[p],f.hasOwnProperty(p)&&(g!=null||w!=null))switch(p){case"value":j=g;break;case"defaultValue":M=g;break;case"multiple":x=g;default:g!==w&&Ge(r,l,p,g,f,w)}l=M,a=x,f=U,j!=null?Pl(r,!!a,j,!1):!!f!=!!a&&(l!=null?Pl(r,!!a,l,!0):Pl(r,!!a,a?[]:"",!1));return;case"textarea":U=j=null;for(M in a)if(p=a[M],a.hasOwnProperty(M)&&p!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ge(r,l,M,null,f,p)}for(x in f)if(p=f[x],g=a[x],f.hasOwnProperty(x)&&(p!=null||g!=null))switch(x){case"value":j=p;break;case"defaultValue":U=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&Ge(r,l,x,p,f,g)}kg(r,j,U);return;case"option":for(var le in a)if(j=a[le],a.hasOwnProperty(le)&&j!=null&&!f.hasOwnProperty(le))switch(le){case"selected":r.selected=!1;break;default:Ge(r,l,le,null,f,j)}for(w in f)if(j=f[w],U=a[w],f.hasOwnProperty(w)&&j!==U&&(j!=null||U!=null))switch(w){case"selected":r.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ge(r,l,w,j,f,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)j=a[ge],a.hasOwnProperty(ge)&&j!=null&&!f.hasOwnProperty(ge)&&Ge(r,l,ge,null,f,j);for(z in f)if(j=f[z],U=a[z],f.hasOwnProperty(z)&&j!==U&&(j!=null||U!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,l));break;default:Ge(r,l,z,j,f,U)}return;default:if($f(l)){for(var $e in a)j=a[$e],a.hasOwnProperty($e)&&j!==void 0&&!f.hasOwnProperty($e)&&Rh(r,l,$e,void 0,f,j);for(V in f)j=f[V],U=a[V],!f.hasOwnProperty(V)||j===U||j===void 0&&U===void 0||Rh(r,l,V,j,f,U);return}}for(var D in a)j=a[D],a.hasOwnProperty(D)&&j!=null&&!f.hasOwnProperty(D)&&Ge(r,l,D,null,f,j);for(F in f)j=f[F],U=a[F],!f.hasOwnProperty(F)||j===U||j==null&&U==null||Ge(r,l,F,j,f,U)}function Db(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vC(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,a=performance.getEntriesByType("resource"),f=0;f<a.length;f++){var p=a[f],g=p.transferSize,x=p.initiatorType,M=p.duration;if(g&&M&&Db(x)){for(x=0,M=p.responseEnd,f+=1;f<a.length;f++){var w=a[f],z=w.startTime;if(z>M)break;var V=w.transferSize,F=w.initiatorType;V&&Db(F)&&(w=w.responseEnd,x+=V*(w<M?1:(M-z)/(w-z)))}if(--f,l+=8*(g+x)/(p.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Dh=null,_h=null;function Vu(r){return r.nodeType===9?r:r.ownerDocument}function _b(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lb(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function Lh(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zh=null;function xC(){var r=window.event;return r&&r.type==="popstate"?r===zh?!1:(zh=r,!0):(zh=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,Bb=typeof Promise=="function"?Promise:void 0,EC=typeof queueMicrotask=="function"?queueMicrotask:typeof Bb<"u"?function(r){return Bb.resolve(null).then(r).catch(TC)}:zb;function TC(r){setTimeout(function(){throw r})}function bi(r){return r==="head"}function jb(r,l){var a=l,f=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(f===0){r.removeChild(p),xs(l);return}f--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")f++;else if(a==="html")Bo(r.ownerDocument.documentElement);else if(a==="head"){a=r.ownerDocument.head,Bo(a);for(var g=a.firstChild;g;){var x=g.nextSibling,M=g.nodeName;g[ae]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=x}}else a==="body"&&Bo(r.ownerDocument.body);a=p}while(a);xs(l)}function Hb(r,l){var a=r;r=0;do{var f=a.nextSibling;if(a.nodeType===1?l?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(l?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(r===0)break;r--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||r++;a=f}while(a)}function Bh(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var a=l;switch(l=l.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bh(a),N(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function MC(r,l,a,f){for(;r.nodeType===1;){var p=a;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[ae])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=_n(r.nextSibling),r===null)break}return null}function CC(r,l,a){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=_n(r.nextSibling),r===null))return null;return r}function Ub(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=_n(r.nextSibling),r===null))return null;return r}function jh(r){return r.data==="$?"||r.data==="$~"}function Hh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function AC(r,l){var a=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||a.readyState!=="loading")l();else{var f=function(){l(),a.removeEventListener("DOMContentLoaded",f)};a.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function _n(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var Uh=null;function Ib(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"||a==="/&"){if(l===0)return _n(r.nextSibling);l--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||l++}r=r.nextSibling}return null}function Pb(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(l===0)return r;l--}else a!=="/$"&&a!=="/&"||l++}r=r.previousSibling}return null}function Vb(r,l,a){switch(l=Vu(a),r){case"html":if(r=l.documentElement,!r)throw Error(i(452));return r;case"head":if(r=l.head,!r)throw Error(i(453));return r;case"body":if(r=l.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Bo(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);N(r)}var Ln=new Map,qb=new Set;function qu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ur=ee.d;ee.d={f:wC,r:kC,D:NC,C:OC,L:RC,m:DC,X:LC,S:_C,M:zC};function wC(){var r=Ur.f(),l=Lu();return r||l}function kC(r){var l=re(r);l!==null&&l.tag===5&&l.type==="form"?s0(l):Ur.r(r)}var ys=typeof document>"u"?null:document;function Gb(r,l,a){var f=ys;if(f&&typeof l=="string"&&l){var p=An(l);p='link[rel="'+r+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),qb.has(p)||(qb.add(p),r={rel:r,crossOrigin:a,href:l},f.querySelector(p)===null&&(l=f.createElement("link"),Bt(l,"link",r),Ae(l),f.head.appendChild(l)))}}function NC(r){Ur.D(r),Gb("dns-prefetch",r,null)}function OC(r,l){Ur.C(r,l),Gb("preconnect",r,l)}function RC(r,l,a){Ur.L(r,l,a);var f=ys;if(f&&r&&l){var p='link[rel="preload"][as="'+An(l)+'"]';l==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+An(a.imageSizes)+'"]')):p+='[href="'+An(r)+'"]';var g=p;switch(l){case"style":g=bs(r);break;case"script":g=vs(r)}Ln.has(g)||(r=y({rel:"preload",href:l==="image"&&a&&a.imageSrcSet?void 0:r,as:l},a),Ln.set(g,r),f.querySelector(p)!==null||l==="style"&&f.querySelector(jo(g))||l==="script"&&f.querySelector(Ho(g))||(l=f.createElement("link"),Bt(l,"link",r),Ae(l),f.head.appendChild(l)))}}function DC(r,l){Ur.m(r,l);var a=ys;if(a&&r){var f=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+An(f)+'"][href="'+An(r)+'"]',g=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=vs(r)}if(!Ln.has(g)&&(r=y({rel:"modulepreload",href:r},l),Ln.set(g,r),a.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ho(g)))return}f=a.createElement("link"),Bt(f,"link",r),Ae(f),a.head.appendChild(f)}}}function _C(r,l,a){Ur.S(r,l,a);var f=ys;if(f&&r){var p=tt(f).hoistableStyles,g=bs(r);l=l||"default";var x=p.get(g);if(!x){var M={loading:0,preload:null};if(x=f.querySelector(jo(g)))M.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":l},a),(a=Ln.get(g))&&Ih(r,a);var w=x=f.createElement("link");Ae(w),Bt(w,"link",r),w._p=new Promise(function(z,V){w.onload=z,w.onerror=V}),w.addEventListener("load",function(){M.loading|=1}),w.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Gu(x,l,f)}x={type:"stylesheet",instance:x,count:1,state:M},p.set(g,x)}}}function LC(r,l){Ur.X(r,l);var a=ys;if(a&&r){var f=tt(a).hoistableScripts,p=vs(r),g=f.get(p);g||(g=a.querySelector(Ho(p)),g||(r=y({src:r,async:!0},l),(l=Ln.get(p))&&Ph(r,l),g=a.createElement("script"),Ae(g),Bt(g,"link",r),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function zC(r,l){Ur.M(r,l);var a=ys;if(a&&r){var f=tt(a).hoistableScripts,p=vs(r),g=f.get(p);g||(g=a.querySelector(Ho(p)),g||(r=y({src:r,async:!0,type:"module"},l),(l=Ln.get(p))&&Ph(r,l),g=a.createElement("script"),Ae(g),Bt(g,"link",r),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function $b(r,l,a,f){var p=(p=ve.current)?qu(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(l=bs(a.href),a=tt(p).hoistableStyles,f=a.get(l),f||(f={type:"style",instance:null,count:0,state:null},a.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=bs(a.href);var g=tt(p).hoistableStyles,x=g.get(r);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,x),(g=p.querySelector(jo(r)))&&!g._p&&(x.instance=g,x.state.loading=5),Ln.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(r,a),g||BC(p,r,a,x.state))),l&&f===null)throw Error(i(528,""));return x}if(l&&f!==null)throw Error(i(529,""));return null;case"script":return l=a.async,a=a.src,typeof a=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=vs(a),a=tt(p).hoistableScripts,f=a.get(l),f||(f={type:"script",instance:null,count:0,state:null},a.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function bs(r){return'href="'+An(r)+'"'}function jo(r){return'link[rel="stylesheet"]['+r+"]"}function Fb(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function BC(r,l,a,f){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=r.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),Bt(l,"link",a),Ae(l),r.head.appendChild(l))}function vs(r){return'[src="'+An(r)+'"]'}function Ho(r){return"script[async]"+r}function Yb(r,l,a){if(l.count++,l.instance===null)switch(l.type){case"style":var f=r.querySelector('style[data-href~="'+An(a.href)+'"]');if(f)return l.instance=f,Ae(f),f;var p=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Ae(f),Bt(f,"style",p),Gu(f,a.precedence,r),l.instance=f;case"stylesheet":p=bs(a.href);var g=r.querySelector(jo(p));if(g)return l.state.loading|=4,l.instance=g,Ae(g),g;f=Fb(a),(p=Ln.get(p))&&Ih(f,p),g=(r.ownerDocument||r).createElement("link"),Ae(g);var x=g;return x._p=new Promise(function(M,w){x.onload=M,x.onerror=w}),Bt(g,"link",f),l.state.loading|=4,Gu(g,a.precedence,r),l.instance=g;case"script":return g=vs(a.src),(p=r.querySelector(Ho(g)))?(l.instance=p,Ae(p),p):(f=a,(p=Ln.get(g))&&(f=y({},a),Ph(f,p)),r=r.ownerDocument||r,p=r.createElement("script"),Ae(p),Bt(p,"link",f),r.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,Gu(f,a.precedence,r));return l.instance}function Gu(r,l,a){for(var f=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,g=p,x=0;x<f.length;x++){var M=f[x];if(M.dataset.precedence===l)g=M;else if(g!==p)break}g?g.parentNode.insertBefore(r,g.nextSibling):(l=a.nodeType===9?a.head:a,l.insertBefore(r,l.firstChild))}function Ih(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function Ph(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var $u=null;function Kb(r,l,a){if($u===null){var f=new Map,p=$u=new Map;p.set(a,f)}else p=$u,f=p.get(a),f||(f=new Map,p.set(a,f));if(f.has(r))return f;for(f.set(r,null),a=a.getElementsByTagName(r),p=0;p<a.length;p++){var g=a[p];if(!(g[ae]||g[mt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(l)||"";x=r+x;var M=f.get(x);M?M.push(g):f.set(x,[g])}}return f}function Xb(r,l,a){r=r.ownerDocument||r,r.head.insertBefore(a,l==="title"?r.querySelector("head > title"):null)}function jC(r,l,a){if(a===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Jb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function HC(r,l,a,f){if(a.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=bs(f.href),g=l.querySelector(jo(p));if(g){l=g._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=Fu.bind(r),l.then(r,r)),a.state.loading|=4,a.instance=g,Ae(g);return}g=l.ownerDocument||l,f=Fb(f),(p=Ln.get(p))&&Ih(f,p),g=g.createElement("link"),Ae(g);var x=g;x._p=new Promise(function(M,w){x.onload=M,x.onerror=w}),Bt(g,"link",f),a.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(a,l),(l=a.state.preload)&&(a.state.loading&3)===0&&(r.count++,a=Fu.bind(r),l.addEventListener("load",a),l.addEventListener("error",a))}}var Vh=0;function UC(r,l){return r.stylesheets&&r.count===0&&Ku(r,r.stylesheets),0<r.count||0<r.imgCount?function(a){var f=setTimeout(function(){if(r.stylesheets&&Ku(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+l);0<r.imgBytes&&Vh===0&&(Vh=62500*vC());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Ku(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>Vh?50:800)+l);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(p)}}:null}function Fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Yu=null;function Ku(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Yu=new Map,l.forEach(IC,r),Yu=null,Fu.call(r))}function IC(r,l){if(!(l.state.loading&4)){var a=Yu.get(r);if(a)var f=a.get(null);else{a=new Map,Yu.set(r,a);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var x=p[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),f=x)}f&&a.set(null,f)}p=l.instance,x=p.getAttribute("data-precedence"),g=a.get(x)||f,g===f&&a.set(null,p),a.set(x,p),this.count++,f=Fu.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),g?g.parentNode.insertBefore(p,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),l.state.loading|=4}}var Uo={$$typeof:B,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function PC(r,l,a,f,p,g,x,M,w){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.hiddenUpdates=Ys(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Qb(r,l,a,f,p,g,x,M,w,z,V,F){return r=new PC(r,l,a,x,w,z,V,F,M),l=1,g===!0&&(l|=24),g=hn(3,null,null,l),r.current=g,g.stateNode=r,l=Sd(),l.refCount++,r.pooledCache=l,l.refCount++,g.memoizedState={element:f,isDehydrated:a,cache:l},Cd(g),r}function Wb(r){return r?(r=Xl,r):Xl}function Zb(r,l,a,f,p,g){p=Wb(p),f.context===null?f.context=p:f.pendingContext=p,f=oi(l),f.payload={element:a},g=g===void 0?null:g,g!==null&&(f.callback=g),a=ai(r,f,l),a!==null&&(sn(a,r,l),yo(a,r,l))}function ev(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<l?a:l}}function qh(r,l){ev(r,l),(r=r.alternate)&&ev(r,l)}function tv(r){if(r.tag===13||r.tag===31){var l=el(r,67108864);l!==null&&sn(l,r,67108864),qh(r,67108864)}}function nv(r){if(r.tag===13||r.tag===31){var l=bn();l=Wt(l);var a=el(r,l);a!==null&&sn(a,r,l),qh(r,l)}}var Xu=!0;function VC(r,l,a,f){var p=I.T;I.T=null;var g=ee.p;try{ee.p=2,Gh(r,l,a,f)}finally{ee.p=g,I.T=p}}function qC(r,l,a,f){var p=I.T;I.T=null;var g=ee.p;try{ee.p=8,Gh(r,l,a,f)}finally{ee.p=g,I.T=p}}function Gh(r,l,a,f){if(Xu){var p=$h(f);if(p===null)Oh(r,l,f,Ju,a),iv(r,f);else if($C(p,r,l,a,f))f.stopPropagation();else if(iv(r,f),l&4&&-1<GC.indexOf(r)){for(;p!==null;){var g=re(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=fn(g.pendingLanes);if(x!==0){var M=g;for(M.pendingLanes|=2,M.entangledLanes|=2;x;){var w=1<<31-pt(x);M.entanglements[1]|=w,x&=~w}ir(g),(Be&6)===0&&(Du=Rt()+500,_o(0))}}break;case 31:case 13:M=el(g,2),M!==null&&sn(M,g,2),Lu(),qh(g,2)}if(g=$h(f),g===null&&Oh(r,l,f,Ju,a),g===p)break;p=g}p!==null&&f.stopPropagation()}else Oh(r,l,f,null,a)}}function $h(r){return r=Yf(r),Fh(r)}var Ju=null;function Fh(r){if(Ju=null,r=Q(r),r!==null){var l=o(r);if(l===null)r=null;else{var a=l.tag;if(a===13){if(r=u(l),r!==null)return r;r=null}else if(a===31){if(r=c(l),r!==null)return r;r=null}else if(a===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return Ju=r,null}function rv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xi()){case yr:return 2;case cn:return 8;case Zr:case Ha:return 32;case qs:return 268435456;default:return 32}default:return 32}}var Yh=!1,vi=null,xi=null,Si=null,Io=new Map,Po=new Map,Ei=[],GC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(r,l){switch(r){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Io.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(l.pointerId)}}function Vo(r,l,a,f,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:l,domEventName:a,eventSystemFlags:f,nativeEvent:g,targetContainers:[p]},l!==null&&(l=re(l),l!==null&&tv(l)),r):(r.eventSystemFlags|=f,l=r.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),r)}function $C(r,l,a,f,p){switch(l){case"focusin":return vi=Vo(vi,r,l,a,f,p),!0;case"dragenter":return xi=Vo(xi,r,l,a,f,p),!0;case"mouseover":return Si=Vo(Si,r,l,a,f,p),!0;case"pointerover":var g=p.pointerId;return Io.set(g,Vo(Io.get(g)||null,r,l,a,f,p)),!0;case"gotpointercapture":return g=p.pointerId,Po.set(g,Vo(Po.get(g)||null,r,l,a,f,p)),!0}return!1}function lv(r){var l=Q(r.target);if(l!==null){var a=o(l);if(a!==null){if(l=a.tag,l===13){if(l=u(a),l!==null){r.blockedOn=l,Ws(r.priority,function(){nv(a)});return}}else if(l===31){if(l=c(a),l!==null){r.blockedOn=l,Ws(r.priority,function(){nv(a)});return}}else if(l===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qu(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var a=$h(r.nativeEvent);if(a===null){a=r.nativeEvent;var f=new a.constructor(a.type,a);Ff=f,a.target.dispatchEvent(f),Ff=null}else return l=re(a),l!==null&&tv(l),r.blockedOn=a,!1;l.shift()}return!0}function sv(r,l,a){Qu(r)&&a.delete(l)}function FC(){Yh=!1,vi!==null&&Qu(vi)&&(vi=null),xi!==null&&Qu(xi)&&(xi=null),Si!==null&&Qu(Si)&&(Si=null),Io.forEach(sv),Po.forEach(sv)}function Wu(r,l){r.blockedOn===l&&(r.blockedOn=null,Yh||(Yh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FC)))}var Zu=null;function ov(r){Zu!==r&&(Zu=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zu===r&&(Zu=null);for(var l=0;l<r.length;l+=3){var a=r[l],f=r[l+1],p=r[l+2];if(typeof f!="function"){if(Fh(f||a)===null)continue;break}var g=re(a);g!==null&&(r.splice(l,3),l-=3,$d(g,{pending:!0,data:p,method:a.method,action:f},f,p))}}))}function xs(r){function l(w){return Wu(w,r)}vi!==null&&Wu(vi,r),xi!==null&&Wu(xi,r),Si!==null&&Wu(Si,r),Io.forEach(l),Po.forEach(l);for(var a=0;a<Ei.length;a++){var f=Ei[a];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Ei.length&&(a=Ei[0],a.blockedOn===null);)lv(a),a.blockedOn===null&&Ei.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(f=0;f<a.length;f+=3){var p=a[f],g=a[f+1],x=p[Ze]||null;if(typeof g=="function")x||ov(a);else if(x){var M=null;if(g&&g.hasAttribute("formAction")){if(p=g,x=g[Ze]||null)M=x.formAction;else if(Fh(p)!==null)continue}else M=x.action;typeof M=="function"?a[f+1]=M:(a.splice(f,3),f-=3),ov(a)}}}function av(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function l(){p!==null&&(p(),p=null),f||setTimeout(a,20)}function a(){if(!f&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(a,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),p!==null&&(p(),p=null)}}}function Kh(r){this._internalRoot=r}ec.prototype.render=Kh.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(i(409));var a=l.current,f=bn();Zb(a,f,r,l,null,null)},ec.prototype.unmount=Kh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;Zb(r.current,2,null,r,null,null),Lu(),l[Sr]=null}};function ec(r){this._internalRoot=r}ec.prototype.unstable_scheduleHydration=function(r){if(r){var l=Qs();r={blockedOn:null,target:r,priority:l};for(var a=0;a<Ei.length&&l!==0&&l<Ei[a].priority;a++);Ei.splice(a,0,r),a===0&&lv(r)}};var uv=e.version;if(uv!=="19.2.3")throw Error(i(527,uv,"19.2.3"));ee.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(l),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var YC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Zn=tc.inject(YC),Ct=tc}catch{}}return Go.createRoot=function(r,l){if(!s(r))throw Error(i(299));var a=!1,f="",p=g0,g=y0,x=b0;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Qb(r,1,!1,null,null,a,f,null,p,g,x,av),r[Sr]=l.current,Nh(r),new Kh(l)},Go.hydrateRoot=function(r,l,a){if(!s(r))throw Error(i(299));var f=!1,p="",g=g0,x=y0,M=b0,w=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),l=Qb(r,1,!0,l,a??null,f,p,w,g,x,M,av),l.context=Wb(null),a=l.current,f=bn(),f=Wt(f),p=oi(f),p.callback=null,ai(a,p,f),a=f,l.current.lanes=a,ei(l,a),ir(l),r[Sr]=l.current,Nh(r),new ec(l)},Go.version="19.2.3",Go}var vv;function nA(){if(vv)return Qh.exports;vv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qh.exports=tA(),Qh.exports}var rA=nA();const iA=Nm(rA);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xv="popstate";function lA(t={}){function e(s,o){let{pathname:u="/",search:c="",hash:d=""}=Rl(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),$p("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let u=s.document.querySelector("base"),c="";if(u&&u.getAttribute("href")){let d=s.location.href,h=d.indexOf("#");c=h===-1?d:d.slice(0,h)}return c+"#"+(typeof o=="string"?o:ya(o))}function i(s,o){Pn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return oA(e,n,i,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sA(){return Math.random().toString(36).substring(2,10)}function Sv(t,e){return{usr:t.state,key:t.key,idx:e}}function $p(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:n,key:e&&e.key||i||sA()}}function ya({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function oA(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,c="POP",d=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function y(){c="POP";let T=m(),A=T==null?null:T-h;h=T,d&&d({action:c,location:E.location,delta:A})}function b(T,A){c="PUSH";let _=$p(E.location,T,A);n&&n(_,T),h=m()+1;let B=Sv(_,h),$=E.createHref(_);try{u.pushState(B,"",$)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign($)}o&&d&&d({action:c,location:E.location,delta:1})}function v(T,A){c="REPLACE";let _=$p(E.location,T,A);n&&n(_,T),h=m();let B=Sv(_,h),$=E.createHref(_);u.replaceState(B,"",$),o&&d&&d({action:c,location:E.location,delta:0})}function S(T){return aA(T)}let E={get action(){return c},get location(){return t(s,u)},listen(T){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(xv,y),d=T,()=>{s.removeEventListener(xv,y),d=null}},createHref(T){return e(s,T)},createURL:S,encodeLocation(T){let A=S(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:v,go(T){return u.go(T)}};return E}function aA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ya(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function T1(t,e,n="/"){return uA(t,e,n,!1)}function uA(t,e,n,i){let s=typeof e=="string"?Rl(e):e,o=Xr(s.pathname||"/",n);if(o==null)return null;let u=M1(t);cA(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let h=SA(o);c=vA(u[d],h,i)}return c}function M1(t,e=[],n=[],i="",s=!1){let o=(u,c,d=s,h)=>{let m={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&d)return;rt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let y=Fr([i,m.relativePath]),b=n.concat(m);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),M1(u.children,e,b,y,d)),!(u.path==null&&!u.index)&&e.push({path:y,score:yA(y,u.index),routesMeta:b})};return t.forEach((u,c)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,c);else for(let h of C1(u.path))o(u,c,!0,h)}),e}function C1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=C1(i.join("/")),c=[];return c.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...u),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function cA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var fA=/^:[\w-]+$/,dA=3,hA=2,pA=1,mA=10,gA=-2,Ev=t=>t==="*";function yA(t,e){let n=t.split("/"),i=n.length;return n.some(Ev)&&(i+=gA),e&&(i+=hA),n.filter(s=>!Ev(s)).reduce((s,o)=>s+(fA.test(o)?dA:o===""?pA:mA),i)}function bA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function vA(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",u=[];for(let c=0;c<i.length;++c){let d=i[c],h=c===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Oc({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),b=d.route;if(!y&&h&&n&&!i[i.length-1].route.index&&(y=Oc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),u.push({params:s,pathname:Fr([o,y.pathname]),pathnameBase:CA(Fr([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Fr([o,y.pathnameBase]))}return u}function Oc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=xA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((h,{paramName:m,isOptional:y},b)=>{if(m==="*"){let S=c[b]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=c[b];return y&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:t}}function xA(t,e=!1,n=!0){Pn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function SA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var A1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EA=t=>A1.test(t);function TA(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Rl(t):t,o;if(n)if(EA(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Pn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=Tv(n.substring(1),"/"):o=Tv(n,e)}else o=e;return{pathname:o,search:AA(i),hash:wA(s)}}function Tv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w1(t){let e=MA(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function k1(t,e,n,i=!1){let s;typeof t=="string"?s=Rl(t):(s={...t},rt(!s.pathname||!s.pathname.includes("?"),tp("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),tp("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),tp("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=n;else{let y=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}c=y>=0?e[y]:"/"}let d=TA(s,c),h=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Fr=t=>t.join("/").replace(/\/\/+/g,"/"),CA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,kA=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function NA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function OA(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var N1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function O1(t,e){let n=t;if(typeof n!="string"||!A1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(N1)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),c=Xr(u.pathname,e);u.origin===o.origin&&c!=null?n=c+u.search+u.hash:s=!0}catch{Pn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var R1=["POST","PUT","PATCH","DELETE"];new Set(R1);var RA=["GET",...R1];new Set(RA);var Us=R.createContext(null);Us.displayName="DataRouter";var Ef=R.createContext(null);Ef.displayName="DataRouterState";var DA=R.createContext(!1),D1=R.createContext({isTransitioning:!1});D1.displayName="ViewTransition";var _A=R.createContext(new Map);_A.displayName="Fetchers";var LA=R.createContext(null);LA.displayName="Await";var qn=R.createContext(null);qn.displayName="Navigation";var Oa=R.createContext(null);Oa.displayName="Location";var dr=R.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var Om=R.createContext(null);Om.displayName="RouteError";var _1="REACT_ROUTER_ERROR",zA="REDIRECT",BA="ROUTE_ERROR_RESPONSE";function jA(t){if(t.startsWith(`${_1}:${zA}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function HA(t){if(t.startsWith(`${_1}:${BA}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new kA(e.status,e.statusText,e.data)}catch{}}function UA(t,{relative:e}={}){rt(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=R.useContext(qn),{hash:s,pathname:o,search:u}=Da(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:Fr([n,o])),i.createHref({pathname:c,search:u,hash:s})}function Ra(){return R.useContext(Oa)!=null}function hr(){return rt(Ra(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Oa).location}var L1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z1(t){R.useContext(qn).static||R.useLayoutEffect(t)}function Dl(){let{isDataRoute:t}=R.useContext(dr);return t?ZA():IA()}function IA(){rt(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Us),{basename:e,navigator:n}=R.useContext(qn),{matches:i}=R.useContext(dr),{pathname:s}=hr(),o=JSON.stringify(w1(i)),u=R.useRef(!1);return z1(()=>{u.current=!0}),R.useCallback((d,h={})=>{if(Pn(u.current,L1),!u.current)return;if(typeof d=="number"){n.go(d);return}let m=k1(d,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Fr([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,o,s,t])}R.createContext(null);function PA(){let{matches:t}=R.useContext(dr),e=t[t.length-1];return e?e.params:{}}function Da(t,{relative:e}={}){let{matches:n}=R.useContext(dr),{pathname:i}=hr(),s=JSON.stringify(w1(n));return R.useMemo(()=>k1(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function VA(t,e){return B1(t,e)}function B1(t,e,n,i,s){var _;rt(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(qn),{matches:u}=R.useContext(dr),c=u[u.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let B=y&&y.path||"";H1(h,!y||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let b=hr(),v;if(e){let B=typeof e=="string"?Rl(e):e;rt(m==="/"||((_=B.pathname)==null?void 0:_.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),v=B}else v=b;let S=v.pathname||"/",E=S;if(m!=="/"){let B=m.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(B.length).join("/")}let T=T1(t,{pathname:E});Pn(y||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Pn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=YA(T&&T.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:Fr([m,o.encodeLocation?o.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:Fr([m,o.encodeLocation?o.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,i,s);return e&&A?R.createElement(Oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function qA(){let t=WA(),e=NA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:s},n):null,u)}var GA=R.createElement(qA,null),j1=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=HA(t.digest);n&&(t=n)}let e=t!==void 0?R.createElement(dr.Provider,{value:this.props.routeContext},R.createElement(Om.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement($A,{error:t},e):e}};j1.contextType=DA;var np=new WeakMap;function $A({children:t,error:e}){let{basename:n}=R.useContext(qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=jA(e.digest);if(i){let s=np.get(e);if(s)throw s;let o=O1(i.location,n);if(N1&&!np.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw np.set(e,u),u}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function FA({routeContext:t,match:e,children:n}){let i=R.useContext(Us);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(dr.Provider,{value:t},n)}function YA(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);rt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:b,errors:v}=n,S=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let h=n&&i?(m,y)=>{var b,v;i(m,{location:n.location,params:((v=(b=n.matches)==null?void 0:b[0])==null?void 0:v.params)??{},unstable_pattern:OA(n.matches),errorInfo:y})}:void 0;return o.reduceRight((m,y,b)=>{let v,S=!1,E=null,T=null;n&&(v=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||GA,c&&(d<0&&b===0?(H1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):d===b&&(S=!0,T=y.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,b+1)),_=()=>{let B;return v?B=E:S?B=T:y.route.Component?B=R.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=m,R.createElement(FA,{match:y,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:B})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?R.createElement(j1,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:_(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:h}):_()},null)}function Rm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(t){let e=R.useContext(Us);return rt(e,Rm(t)),e}function XA(t){let e=R.useContext(Ef);return rt(e,Rm(t)),e}function JA(t){let e=R.useContext(dr);return rt(e,Rm(t)),e}function Dm(t){let e=JA(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function QA(){return Dm("useRouteId")}function WA(){var i;let t=R.useContext(Om),e=XA("useRouteError"),n=Dm("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function ZA(){let{router:t}=KA("useNavigate"),e=Dm("useNavigate"),n=R.useRef(!1);return z1(()=>{n.current=!0}),R.useCallback(async(s,o={})=>{Pn(n.current,L1),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var Mv={};function H1(t,e,n){!e&&!Mv[t]&&(Mv[t]=!0,Pn(!1,n))}R.memo(ew);function ew({routes:t,future:e,state:n,onError:i}){return B1(t,void 0,n,i,e)}function lr(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){rt(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[c,s,o,u]);typeof n=="string"&&(n=Rl(n));let{pathname:h="/",search:m="",hash:y="",state:b=null,key:v="default"}=n,S=R.useMemo(()=>{let E=Xr(h,c);return E==null?null:{location:{pathname:E,search:m,hash:y,state:b,key:v},navigationType:i}},[c,h,m,y,b,v,i]);return Pn(S!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:R.createElement(qn.Provider,{value:d},R.createElement(Oa.Provider,{children:e,value:S}))}function nw({children:t,location:e}){return VA(Fp(t),e)}function Fp(t,e=[]){let n=[];return R.Children.forEach(t,(i,s)=>{if(!R.isValidElement(i))return;let o=[...e,s];if(i.type===R.Fragment){n.push.apply(n,Fp(i.props.children,o));return}rt(i.type===lr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Fp(i.props.children,o)),n.push(u)}),n}var Sc="get",Ec="application/x-www-form-urlencoded";function Tf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function rw(t){return Tf(t)&&t.tagName.toLowerCase()==="button"}function iw(t){return Tf(t)&&t.tagName.toLowerCase()==="form"}function lw(t){return Tf(t)&&t.tagName.toLowerCase()==="input"}function sw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ow(t,e){return t.button===0&&(!e||e==="_self")&&!sw(t)}var nc=null;function aw(){if(nc===null)try{new FormData(document.createElement("form"),0),nc=!1}catch{nc=!0}return nc}var uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rp(t){return t!=null&&!uw.has(t)?(Pn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),null):t}function cw(t,e){let n,i,s,o,u;if(iw(t)){let c=t.getAttribute("action");i=c?Xr(c,e):null,n=t.getAttribute("method")||Sc,s=rp(t.getAttribute("enctype"))||Ec,o=new FormData(t)}else if(rw(t)||lw(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(i=d?Xr(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Sc,s=rp(t.getAttribute("formenctype"))||rp(c.getAttribute("enctype"))||Ec,o=new FormData(c,t),!aw()){let{name:h,type:m,value:y}=t;if(m==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,y)}}else{if(Tf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sc,i=null,s=Ec,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _m(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fw(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&Xr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function dw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pw(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await dw(o,n);return u.links?u.links():[]}return[]}));return bw(i.flat(1).filter(hw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Cv(t,e,n,i,s,o){let u=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>u(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{var y;let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function mw(t,e,{includeHydrateFallback:n}={}){return gw(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function gw(t){return[...new Set(t)]}function yw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function bw(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(yw(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function U1(){let t=R.useContext(Us);return _m(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vw(){let t=R.useContext(Ef);return _m(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lm=R.createContext(void 0);Lm.displayName="FrameworkContext";function I1(){let t=R.useContext(Lm);return _m(t,"You must render this element inside a <HydratedRouter> element"),t}function xw(t,e){let n=R.useContext(Lm),[i,s]=R.useState(!1),[o,u]=R.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,b=R.useRef(null);R.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let E=A=>{A.forEach(_=>{u(_.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[t]),R.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let v=()=>{s(!0)},S=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:$o(c,v),onBlur:$o(d,S),onMouseEnter:$o(h,v),onMouseLeave:$o(m,S),onTouchStart:$o(y,v)}]:[!1,b,{}]}function $o(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Sw({page:t,...e}){let{router:n}=U1(),i=R.useMemo(()=>T1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?R.createElement(Tw,{page:t,matches:i,...e}):null}function Ew(t){let{manifest:e,routeModules:n}=I1(),[i,s]=R.useState([]);return R.useEffect(()=>{let o=!1;return pw(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),i}function Tw({page:t,matches:e,...n}){let i=hr(),{future:s,manifest:o,routeModules:u}=I1(),{basename:c}=U1(),{loaderData:d,matches:h}=vw(),m=R.useMemo(()=>Cv(t,e,h,o,i,"data"),[t,e,h,o,i]),y=R.useMemo(()=>Cv(t,e,h,o,i,"assets"),[t,e,h,o,i]),b=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let E=new Set,T=!1;if(e.forEach(_=>{var $;let B=o.routes[_.route.id];!B||!B.hasLoader||(!m.some(H=>H.route.id===_.route.id)&&_.route.id in d&&(($=u[_.route.id])!=null&&$.shouldRevalidate)||B.hasClientLoader?T=!0:E.add(_.route.id))}),E.size===0)return[];let A=fw(t,c,s.unstable_trailingSlashAwareDataRequests,"data");return T&&E.size>0&&A.searchParams.set("_routes",e.filter(_=>E.has(_.route.id)).map(_=>_.route.id).join(",")),[A.pathname+A.search]},[c,s.unstable_trailingSlashAwareDataRequests,d,i,o,m,e,t,u]),v=R.useMemo(()=>mw(y,o),[y,o]),S=Ew(y);return R.createElement(R.Fragment,null,b.map(E=>R.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),v.map(E=>R.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),S.map(({key:E,link:T})=>R.createElement("link",{key:E,nonce:n.nonce,...T})))}function Mw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cw&&(window.__reactRouterVersion="7.12.0")}catch{}function Aw({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=R.useRef();s.current==null&&(s.current=lA({window:i,v5Compat:!0}));let o=s.current,[u,c]=R.useState({action:o.action,location:o.location}),d=R.useCallback(h=>{n===!1?c(h):R.startTransition(()=>c(h))},[n]);return R.useLayoutEffect(()=>o.listen(d),[o,d]),R.createElement(tw,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var P1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ui=R.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:c,target:d,to:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b,...v},S){let{basename:E,unstable_useTransitions:T}=R.useContext(qn),A=typeof h=="string"&&P1.test(h),_=O1(h,E);h=_.to;let B=UA(h,{relative:s}),[$,H,q]=xw(i,v),P=Ow(h,{replace:u,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:b,unstable_useTransitions:T});function K(fe){e&&e(fe),fe.defaultPrevented||P(fe)}let J=R.createElement("a",{...v,...q,href:_.absoluteURL||B,onClick:_.isExternal||o?e:K,ref:Mw(S,H),target:d,"data-discover":!A&&n==="render"?"true":void 0});return $&&!A?R.createElement(R.Fragment,null,J,R.createElement(Sw,{page:B})):J});Ui.displayName="Link";var ww=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:c,children:d,...h},m){let y=Da(u,{relative:h.relative}),b=hr(),v=R.useContext(Ef),{navigator:S,basename:E}=R.useContext(qn),T=v!=null&&zw(y)&&c===!0,A=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,_=b.pathname,B=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(_=_.toLowerCase(),B=B?B.toLowerCase():null,A=A.toLowerCase()),B&&E&&(B=Xr(B,E)||B);const $=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let H=_===A||!s&&_.startsWith(A)&&_.charAt($)==="/",q=B!=null&&(B===A||!s&&B.startsWith(A)&&B.charAt(A.length)==="/"),P={isActive:H,isPending:q,isTransitioning:T},K=H?e:void 0,J;typeof i=="function"?J=i(P):J=[i,H?"active":null,q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let fe=typeof o=="function"?o(P):o;return R.createElement(Ui,{...h,"aria-current":K,className:J,ref:m,style:fe,to:u,viewTransition:c},typeof d=="function"?d(P):d)});ww.displayName="NavLink";var kw=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:u=Sc,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b,...v},S)=>{let{unstable_useTransitions:E}=R.useContext(qn),T=_w(),A=Lw(c,{relative:h}),_=u.toLowerCase()==="get"?"get":"post",B=typeof c=="string"&&P1.test(c),$=H=>{if(d&&d(H),H.defaultPrevented)return;H.preventDefault();let q=H.nativeEvent.submitter,P=(q==null?void 0:q.getAttribute("formmethod"))||u,K=()=>T(q||H.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b});E&&n!==!1?R.startTransition(()=>K()):K()};return R.createElement("form",{ref:S,method:_,action:A,onSubmit:i?d:$,...v,"data-discover":!B&&t==="render"?"true":void 0})});kw.displayName="Form";function Nw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V1(t){let e=R.useContext(Us);return rt(e,Nw(t)),e}function Ow(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let h=Dl(),m=hr(),y=Da(t,{relative:o});return R.useCallback(b=>{if(ow(b,e)){b.preventDefault();let v=n!==void 0?n:ya(m)===ya(y),S=()=>h(t,{replace:v,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c});d?R.startTransition(()=>S()):S()}},[m,h,y,n,i,e,t,s,o,u,c,d])}var Rw=0,Dw=()=>`__${String(++Rw)}__`;function _w(){let{router:t}=V1("useSubmit"),{basename:e}=R.useContext(qn),n=QA(),i=t.fetch,s=t.navigate;return R.useCallback(async(o,u={})=>{let{action:c,method:d,encType:h,formData:m,body:y}=cw(o,e);if(u.navigate===!1){let b=u.fetcherKey||Dw();await i(b,n,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||d,formEncType:u.encType||h,flushSync:u.flushSync})}else await s(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||d,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,s,e,n])}function Lw(t,{relative:e}={}){let{basename:n}=R.useContext(qn),i=R.useContext(dr);rt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Da(t||".",{relative:e})},u=hr();if(t==null){o.search=u.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Fr([n,o.pathname])),ya(o)}function zw(t,{relative:e}={}){let n=R.useContext(D1);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=V1("useViewTransitionState"),s=Da(t,{relative:e});if(!n.isTransitioning)return!1;let o=Xr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Xr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Oc(s.pathname,u)!=null||Oc(s.pathname,o)!=null}var Bw=E1();const jw=Nm(Bw),Av=8,rc=10,ic=80,Hw=({index:t,heights:e,onHeightsChange:n,hoverColor:i})=>{const[s,o]=R.useState(!1),[u,c]=R.useState(!1),d=R.useRef(0),h=R.useRef([0,0]),m=R.useCallback(y=>{y.preventDefault(),o(!0),d.current=y.clientY,h.current=[...e]},[e]);return R.useEffect(()=>{if(!s)return;const y=v=>{const S=window.innerHeight;if(S<=0)return;const E=(v.clientY-d.current)/S*100,T=h.current,A=T[t],_=T[t+1],B=A+_;let $=Math.max(rc,Math.min(ic,A+E)),H=B-$;H<rc?(H=rc,$=B-rc):H>ic&&(H=ic,$=B-ic);const q=[...T];q[t]=$,q[t+1]=H,n(q)},b=()=>o(!1);return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[s,t,n]),C.jsx("div",{role:"separator","aria-orientation":"horizontal",onMouseDown:m,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:"shrink-0 border-t border-paletteBorder cursor-row-resize select-none flex items-center justify-center transition-colors",style:{height:Av,minHeight:Av,backgroundColor:(u||s)&&i?i:void 0}})},Uw=({rows:t,heights:e,onHeightsChange:n,sectionColors:i,className:s=""})=>C.jsx("div",{className:`flex flex-col gap-0 h-full overflow-hidden ${s}`,children:t.map((o,u)=>{const c=e[u]??100/t.length,d=t.length===1;return C.jsxs(an.Fragment,{children:[C.jsx("div",{className:"shrink-0 overflow-hidden min-h-0",style:d?{height:"100%",minHeight:0}:{flex:`0 0 ${c}%`},children:o}),u<t.length-1&&C.jsx(Hw,{index:u,heights:e,onHeightsChange:n,hoverColor:i==null?void 0:i[u]})]},u)})}),Iw=48,ip=({className:t,rows:e,heights:n,onHeightsChange:i,sectionColors:s,topOffset:o=0})=>C.jsxs("div",{className:`flex flex-col shrink-0 h-full ${t}`,children:[o>0&&C.jsx("div",{style:{height:o},"aria-hidden":!0}),C.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:C.jsx(Uw,{rows:e,heights:n,onHeightsChange:i,sectionColors:s})})]}),Pw=({leftRows:t,middleRows:e,rightRows:n,leftHeights:i,middleHeights:s,rightHeights:o,onLeftHeightsChange:u,onMiddleHeightsChange:c,onRightHeightsChange:d,leftColors:h,middleColors:m,rightColors:y})=>C.jsxs("div",{className:"h-screen w-full flex overflow-hidden bg-bgMain text-textPrimary",children:[C.jsx(ip,{className:"w-[20%] min-w-[160px] bg-bgMain border-r border-paletteBorder",rows:t,heights:i,onHeightsChange:u,sectionColors:h,topOffset:Iw}),C.jsx(ip,{className:"w-[40%] border-r border-paletteBorder",rows:e,heights:s,onHeightsChange:c,sectionColors:m}),C.jsx(ip,{className:"w-[40%]",rows:n,heights:o,onHeightsChange:d,sectionColors:y})]}),Rc=({title:t,preview:e,to:n,hoverColor:i,className:s="",draggable:o=!0})=>{const[u,c]=R.useState(!1),d=`#${n.startsWith("/")?n:`/${n}`}`;return C.jsxs("a",{href:d,draggable:o,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:`block w-full h-full text-left overflow-hidden bg-bgMain relative group ${s}`,children:[C.jsx("div",{className:"absolute top-0 left-0 pl-6 pt-4 pr-4 pb-4 z-10",children:C.jsxs("span",{className:"relative inline-block pt-0 pb-1.5 pl-0 pr-3",children:[i&&u&&C.jsx("div",{className:"absolute inset-0 rounded-none",style:{backgroundColor:i}}),C.jsx("span",{className:"relative font-mono text-sm uppercase tracking-wider group-hover:underline underline-offset-2",children:t})]})}),C.jsx("div",{className:"absolute inset-0 pt-16",children:e})]})};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:q1,setPrototypeOf:wv,isFrozen:Vw,getPrototypeOf:qw,getOwnPropertyDescriptor:Gw}=Object;let{freeze:Kt,seal:Vn,create:Yp}=Object,{apply:Kp,construct:Xp}=typeof Reflect<"u"&&Reflect;Kt||(Kt=function(e){return e});Vn||(Vn=function(e){return e});Kp||(Kp=function(e,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return e.apply(n,s)});Xp||(Xp=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return new e(...i)});const lc=Xt(Array.prototype.forEach),$w=Xt(Array.prototype.lastIndexOf),kv=Xt(Array.prototype.pop),Fo=Xt(Array.prototype.push),Fw=Xt(Array.prototype.splice),Tc=Xt(String.prototype.toLowerCase),lp=Xt(String.prototype.toString),sp=Xt(String.prototype.match),Yo=Xt(String.prototype.replace),Yw=Xt(String.prototype.indexOf),Kw=Xt(String.prototype.trim),Xn=Xt(Object.prototype.hasOwnProperty),Ft=Xt(RegExp.prototype.test),Ko=Xw(TypeError);function Xt(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return Kp(t,e,i)}}function Xw(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Xp(t,n)}}function we(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tc;wv&&wv(t,null);let i=e.length;for(;i--;){let s=e[i];if(typeof s=="string"){const o=n(s);o!==s&&(Vw(e)||(e[i]=o),s=o)}t[s]=!0}return t}function Jw(t){for(let e=0;e<t.length;e++)Xn(t,e)||(t[e]=null);return t}function sr(t){const e=Yp(null);for(const[n,i]of q1(t))Xn(t,n)&&(Array.isArray(i)?e[n]=Jw(i):i&&typeof i=="object"&&i.constructor===Object?e[n]=sr(i):e[n]=i);return e}function Xo(t,e){for(;t!==null;){const i=Gw(t,e);if(i){if(i.get)return Xt(i.get);if(typeof i.value=="function")return Xt(i.value)}t=qw(t)}function n(){return null}return n}const Nv=Kt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),op=Kt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ap=Kt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Qw=Kt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),up=Kt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ww=Kt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ov=Kt(["#text"]),Rv=Kt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),cp=Kt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Dv=Kt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sc=Kt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Zw=Vn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ek=Vn(/<%[\w\W]*|[\w\W]*%>/gm),tk=Vn(/\$\{[\w\W]*/gm),nk=Vn(/^data-[\-\w.\u00B7-\uFFFF]+$/),rk=Vn(/^aria-[\-\w]+$/),G1=Vn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ik=Vn(/^(?:\w+script|data):/i),lk=Vn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$1=Vn(/^html$/i),sk=Vn(/^[a-z][.\w]*(-[.\w]+)+$/i);var _v=Object.freeze({__proto__:null,ARIA_ATTR:rk,ATTR_WHITESPACE:lk,CUSTOM_ELEMENT:sk,DATA_ATTR:nk,DOCTYPE_NAME:$1,ERB_EXPR:ek,IS_ALLOWED_URI:G1,IS_SCRIPT_OR_DATA:ik,MUSTACHE_EXPR:Zw,TMPLIT_EXPR:tk});const Jo={element:1,text:3,progressingInstruction:7,comment:8,document:9},ok=function(){return typeof window>"u"?null:window},ak=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(i=n.getAttribute(s));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Lv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function F1(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ok();const e=ae=>F1(ae);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==Jo.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const i=n,s=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:u,Node:c,Element:d,NodeFilter:h,NamedNodeMap:m=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:y,DOMParser:b,trustedTypes:v}=t,S=d.prototype,E=Xo(S,"cloneNode"),T=Xo(S,"remove"),A=Xo(S,"nextSibling"),_=Xo(S,"childNodes"),B=Xo(S,"parentNode");if(typeof u=="function"){const ae=n.createElement("template");ae.content&&ae.content.ownerDocument&&(n=ae.content.ownerDocument)}let $,H="";const{implementation:q,createNodeIterator:P,createDocumentFragment:K,getElementsByTagName:J}=n,{importNode:fe}=i;let oe=Lv();e.isSupported=typeof q1=="function"&&typeof B=="function"&&q&&q.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Te,ERB_EXPR:te,TMPLIT_EXPR:de,DATA_ATTR:Se,ARIA_ATTR:I,IS_SCRIPT_OR_DATA:ee,ATTR_WHITESPACE:me,CUSTOM_ELEMENT:je}=_v;let{IS_ALLOWED_URI:He}=_v,k=null;const Y=we({},[...Nv,...op,...ap,...up,...Ov]);let Z=null;const ie=we({},[...Rv,...cp,...Dv,...sc]);let se=Object.seal(Yp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,_e=null;const lt=Object.seal(Yp(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let We=!0,pr=!0,Yi=!1,Bl=!0,mr=!1,En=!0,Gn=!1,Ki=!1,Vs=!1,gr=!1,Qr=!1,Wr=!1,jl=!0,ja=!1;const If="user-content-";let Rt=!0,Xi=!1,yr={},cn=null;const Zr=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ha=null;const qs=we({},["audio","video","img","source","image","track"]);let Gs=null;const Ua=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zn="http://www.w3.org/1998/Math/MathML",Ct="http://www.w3.org/2000/svg",At="http://www.w3.org/1999/xhtml";let pt=At,$s=!1,Fs=null;const Pf=we({},[Zn,Ct,At],lp);let br=we({},["mi","mo","mn","ms","mtext"]),vr=we({},["annotation-xml"]);const Hl=we({},["title","style","font","a","script"]);let fn=null;const Ul=["application/xhtml+xml","text/html"],Ji="text/html";let ct=null,xr=null;const Ys=n.createElement("form"),ei=function(N){return N instanceof RegExp||N instanceof Function},Ks=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(xr&&xr===N)){if((!N||typeof N!="object")&&(N={}),N=sr(N),fn=Ul.indexOf(N.PARSER_MEDIA_TYPE)===-1?Ji:N.PARSER_MEDIA_TYPE,ct=fn==="application/xhtml+xml"?lp:Tc,k=Xn(N,"ALLOWED_TAGS")?we({},N.ALLOWED_TAGS,ct):Y,Z=Xn(N,"ALLOWED_ATTR")?we({},N.ALLOWED_ATTR,ct):ie,Fs=Xn(N,"ALLOWED_NAMESPACES")?we({},N.ALLOWED_NAMESPACES,lp):Pf,Gs=Xn(N,"ADD_URI_SAFE_ATTR")?we(sr(Ua),N.ADD_URI_SAFE_ATTR,ct):Ua,Ha=Xn(N,"ADD_DATA_URI_TAGS")?we(sr(qs),N.ADD_DATA_URI_TAGS,ct):qs,cn=Xn(N,"FORBID_CONTENTS")?we({},N.FORBID_CONTENTS,ct):Zr,ve=Xn(N,"FORBID_TAGS")?we({},N.FORBID_TAGS,ct):sr({}),_e=Xn(N,"FORBID_ATTR")?we({},N.FORBID_ATTR,ct):sr({}),yr=Xn(N,"USE_PROFILES")?N.USE_PROFILES:!1,We=N.ALLOW_ARIA_ATTR!==!1,pr=N.ALLOW_DATA_ATTR!==!1,Yi=N.ALLOW_UNKNOWN_PROTOCOLS||!1,Bl=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,mr=N.SAFE_FOR_TEMPLATES||!1,En=N.SAFE_FOR_XML!==!1,Gn=N.WHOLE_DOCUMENT||!1,gr=N.RETURN_DOM||!1,Qr=N.RETURN_DOM_FRAGMENT||!1,Wr=N.RETURN_TRUSTED_TYPE||!1,Vs=N.FORCE_BODY||!1,jl=N.SANITIZE_DOM!==!1,ja=N.SANITIZE_NAMED_PROPS||!1,Rt=N.KEEP_CONTENT!==!1,Xi=N.IN_PLACE||!1,He=N.ALLOWED_URI_REGEXP||G1,pt=N.NAMESPACE||At,br=N.MATHML_TEXT_INTEGRATION_POINTS||br,vr=N.HTML_INTEGRATION_POINTS||vr,se=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&ei(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(se.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&ei(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(se.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(se.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),mr&&(pr=!1),Qr&&(gr=!0),yr&&(k=we({},Ov),Z=[],yr.html===!0&&(we(k,Nv),we(Z,Rv)),yr.svg===!0&&(we(k,op),we(Z,cp),we(Z,sc)),yr.svgFilters===!0&&(we(k,ap),we(Z,cp),we(Z,sc)),yr.mathMl===!0&&(we(k,up),we(Z,Dv),we(Z,sc))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?lt.tagCheck=N.ADD_TAGS:(k===Y&&(k=sr(k)),we(k,N.ADD_TAGS,ct))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?lt.attributeCheck=N.ADD_ATTR:(Z===ie&&(Z=sr(Z)),we(Z,N.ADD_ATTR,ct))),N.ADD_URI_SAFE_ATTR&&we(Gs,N.ADD_URI_SAFE_ATTR,ct),N.FORBID_CONTENTS&&(cn===Zr&&(cn=sr(cn)),we(cn,N.FORBID_CONTENTS,ct)),N.ADD_FORBID_CONTENTS&&(cn===Zr&&(cn=sr(cn)),we(cn,N.ADD_FORBID_CONTENTS,ct)),Rt&&(k["#text"]=!0),Gn&&we(k,["html","head","body"]),k.table&&(we(k,["tbody"]),delete ve.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ko('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ko('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');$=N.TRUSTED_TYPES_POLICY,H=$.createHTML("")}else $===void 0&&($=ak(v,s)),$!==null&&typeof H=="string"&&(H=$.createHTML(""));Kt&&Kt(N),xr=N}},Xs=we({},[...op,...ap,...Qw]),Js=we({},[...up,...Ww]),Ia=function(N){let Q=B(N);(!Q||!Q.tagName)&&(Q={namespaceURI:pt,tagName:"template"});const re=Tc(N.tagName),Ue=Tc(Q.tagName);return Fs[N.namespaceURI]?N.namespaceURI===Ct?Q.namespaceURI===At?re==="svg":Q.namespaceURI===Zn?re==="svg"&&(Ue==="annotation-xml"||br[Ue]):!!Xs[re]:N.namespaceURI===Zn?Q.namespaceURI===At?re==="math":Q.namespaceURI===Ct?re==="math"&&vr[Ue]:!!Js[re]:N.namespaceURI===At?Q.namespaceURI===Ct&&!vr[Ue]||Q.namespaceURI===Zn&&!br[Ue]?!1:!Js[re]&&(Hl[re]||!Xs[re]):!!(fn==="application/xhtml+xml"&&Fs[N.namespaceURI]):!1},Wt=function(N){Fo(e.removed,{element:N});try{B(N).removeChild(N)}catch{T(N)}},$n=function(N,Q){try{Fo(e.removed,{attribute:Q.getAttributeNode(N),from:Q})}catch{Fo(e.removed,{attribute:null,from:Q})}if(Q.removeAttribute(N),N==="is")if(gr||Qr)try{Wt(Q)}catch{}else try{Q.setAttribute(N,"")}catch{}},Qs=function(N){let Q=null,re=null;if(Vs)N="<remove></remove>"+N;else{const Ae=sp(N,/^[\r\n\t ]+/);re=Ae&&Ae[0]}fn==="application/xhtml+xml"&&pt===At&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const Ue=$?$.createHTML(N):N;if(pt===At)try{Q=new b().parseFromString(Ue,fn)}catch{}if(!Q||!Q.documentElement){Q=q.createDocument(pt,"template",null);try{Q.documentElement.innerHTML=$s?H:Ue}catch{}}const tt=Q.body||Q.documentElement;return N&&re&&tt.insertBefore(n.createTextNode(re),tt.childNodes[0]||null),pt===At?J.call(Q,Gn?"html":"body")[0]:Gn?Q.documentElement:tt},Ws=function(N){return P.call(N.ownerDocument||N,N,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Tn=function(N){return N instanceof y&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof m)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},mt=function(N){return typeof c=="function"&&N instanceof c};function Ze(ae,N,Q){lc(ae,re=>{re.call(e,N,Q,xr)})}const Sr=function(N){let Q=null;if(Ze(oe.beforeSanitizeElements,N,null),Tn(N))return Wt(N),!0;const re=ct(N.nodeName);if(Ze(oe.uponSanitizeElement,N,{tagName:re,allowedTags:k}),En&&N.hasChildNodes()&&!mt(N.firstElementChild)&&Ft(/<[/\w!]/g,N.innerHTML)&&Ft(/<[/\w!]/g,N.textContent)||N.nodeType===Jo.progressingInstruction||En&&N.nodeType===Jo.comment&&Ft(/<[/\w]/g,N.data))return Wt(N),!0;if(!(lt.tagCheck instanceof Function&&lt.tagCheck(re))&&(!k[re]||ve[re])){if(!ve[re]&&Pa(re)&&(se.tagNameCheck instanceof RegExp&&Ft(se.tagNameCheck,re)||se.tagNameCheck instanceof Function&&se.tagNameCheck(re)))return!1;if(Rt&&!cn[re]){const Ue=B(N)||N.parentNode,tt=_(N)||N.childNodes;if(tt&&Ue){const Ae=tt.length;for(let Dt=Ae-1;Dt>=0;--Dt){const Mn=E(tt[Dt],!0);Mn.__removalCount=(N.__removalCount||0)+1,Ue.insertBefore(Mn,A(N))}}}return Wt(N),!0}return N instanceof d&&!Ia(N)||(re==="noscript"||re==="noembed"||re==="noframes")&&Ft(/<\/no(script|embed|frames)/i,N.innerHTML)?(Wt(N),!0):(mr&&N.nodeType===Jo.text&&(Q=N.textContent,lc([Te,te,de],Ue=>{Q=Yo(Q,Ue," ")}),N.textContent!==Q&&(Fo(e.removed,{element:N.cloneNode()}),N.textContent=Q)),Ze(oe.afterSanitizeElements,N,null),!1)},Il=function(N,Q,re){if(jl&&(Q==="id"||Q==="name")&&(re in n||re in Ys))return!1;if(!(pr&&!_e[Q]&&Ft(Se,Q))){if(!(We&&Ft(I,Q))){if(!(lt.attributeCheck instanceof Function&&lt.attributeCheck(Q,N))){if(!Z[Q]||_e[Q]){if(!(Pa(N)&&(se.tagNameCheck instanceof RegExp&&Ft(se.tagNameCheck,N)||se.tagNameCheck instanceof Function&&se.tagNameCheck(N))&&(se.attributeNameCheck instanceof RegExp&&Ft(se.attributeNameCheck,Q)||se.attributeNameCheck instanceof Function&&se.attributeNameCheck(Q,N))||Q==="is"&&se.allowCustomizedBuiltInElements&&(se.tagNameCheck instanceof RegExp&&Ft(se.tagNameCheck,re)||se.tagNameCheck instanceof Function&&se.tagNameCheck(re))))return!1}else if(!Gs[Q]){if(!Ft(He,Yo(re,me,""))){if(!((Q==="src"||Q==="xlink:href"||Q==="href")&&N!=="script"&&Yw(re,"data:")===0&&Ha[N])){if(!(Yi&&!Ft(ee,Yo(re,me,"")))){if(re)return!1}}}}}}}return!0},Pa=function(N){return N!=="annotation-xml"&&sp(N,je)},Va=function(N){Ze(oe.beforeSanitizeAttributes,N,null);const{attributes:Q}=N;if(!Q||Tn(N))return;const re={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Z,forceKeepAttr:void 0};let Ue=Q.length;for(;Ue--;){const tt=Q[Ue],{name:Ae,namespaceURI:Dt,value:Mn}=tt,Zt=ct(Ae),er=Mn;let Et=Ae==="value"?er:Kw(er);if(re.attrName=Zt,re.attrValue=Et,re.keepAttr=!0,re.forceKeepAttr=void 0,Ze(oe.uponSanitizeAttribute,N,re),Et=re.attrValue,ja&&(Zt==="id"||Zt==="name")&&($n(Ae,N),Et=If+Et),En&&Ft(/((--!?|])>)|<\/(style|title|textarea)/i,Et)){$n(Ae,N);continue}if(Zt==="attributename"&&sp(Et,"href")){$n(Ae,N);continue}if(re.forceKeepAttr)continue;if(!re.keepAttr){$n(Ae,N);continue}if(!Bl&&Ft(/\/>/i,Et)){$n(Ae,N);continue}mr&&lc([Te,te,de],eo=>{Et=Yo(Et,eo," ")});const Zs=ct(N.nodeName);if(!Il(Zs,Zt,Et)){$n(Ae,N);continue}if($&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!Dt)switch(v.getAttributeType(Zs,Zt)){case"TrustedHTML":{Et=$.createHTML(Et);break}case"TrustedScriptURL":{Et=$.createScriptURL(Et);break}}if(Et!==er)try{Dt?N.setAttributeNS(Dt,Ae,Et):N.setAttribute(Ae,Et),Tn(N)?Wt(N):kv(e.removed)}catch{$n(Ae,N)}}Ze(oe.afterSanitizeAttributes,N,null)},qa=function ae(N){let Q=null;const re=Ws(N);for(Ze(oe.beforeSanitizeShadowDOM,N,null);Q=re.nextNode();)Ze(oe.uponSanitizeShadowNode,Q,null),Sr(Q),Va(Q),Q.content instanceof o&&ae(Q.content);Ze(oe.afterSanitizeShadowDOM,N,null)};return e.sanitize=function(ae){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=null,re=null,Ue=null,tt=null;if($s=!ae,$s&&(ae="<!-->"),typeof ae!="string"&&!mt(ae))if(typeof ae.toString=="function"){if(ae=ae.toString(),typeof ae!="string")throw Ko("dirty is not a string, aborting")}else throw Ko("toString is not a function");if(!e.isSupported)return ae;if(Ki||Ks(N),e.removed=[],typeof ae=="string"&&(Xi=!1),Xi){if(ae.nodeName){const Mn=ct(ae.nodeName);if(!k[Mn]||ve[Mn])throw Ko("root node is forbidden and cannot be sanitized in-place")}}else if(ae instanceof c)Q=Qs("<!---->"),re=Q.ownerDocument.importNode(ae,!0),re.nodeType===Jo.element&&re.nodeName==="BODY"||re.nodeName==="HTML"?Q=re:Q.appendChild(re);else{if(!gr&&!mr&&!Gn&&ae.indexOf("<")===-1)return $&&Wr?$.createHTML(ae):ae;if(Q=Qs(ae),!Q)return gr?null:Wr?H:""}Q&&Vs&&Wt(Q.firstChild);const Ae=Ws(Xi?ae:Q);for(;Ue=Ae.nextNode();)Sr(Ue),Va(Ue),Ue.content instanceof o&&qa(Ue.content);if(Xi)return ae;if(gr){if(Qr)for(tt=K.call(Q.ownerDocument);Q.firstChild;)tt.appendChild(Q.firstChild);else tt=Q;return(Z.shadowroot||Z.shadowrootmode)&&(tt=fe.call(i,tt,!0)),tt}let Dt=Gn?Q.outerHTML:Q.innerHTML;return Gn&&k["!doctype"]&&Q.ownerDocument&&Q.ownerDocument.doctype&&Q.ownerDocument.doctype.name&&Ft($1,Q.ownerDocument.doctype.name)&&(Dt="<!DOCTYPE "+Q.ownerDocument.doctype.name+`>
`+Dt),mr&&lc([Te,te,de],Mn=>{Dt=Yo(Dt,Mn," ")}),$&&Wr?$.createHTML(Dt):Dt},e.setConfig=function(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ks(ae),Ki=!0},e.clearConfig=function(){xr=null,Ki=!1},e.isValidAttribute=function(ae,N,Q){xr||Ks({});const re=ct(ae),Ue=ct(N);return Il(re,Ue,Q)},e.addHook=function(ae,N){typeof N=="function"&&Fo(oe[ae],N)},e.removeHook=function(ae,N){if(N!==void 0){const Q=$w(oe[ae],N);return Q===-1?void 0:Fw(oe[ae],Q,1)[0]}return kv(oe[ae])},e.removeHooks=function(ae){oe[ae]=[]},e.removeAllHooks=function(){oe=Lv()},e}var uk=F1();const ck=["p","h1","h2","h3","blockquote","strong","em","u","a","br","span"],fk=["href","target","rel","style"];function dk(t){return t!=null&&t.trim()?uk.sanitize(t,{ALLOWED_TAGS:ck,ALLOWED_ATTR:fk,ADD_ATTR:["target","rel"]}):""}function Jp(t){return t!=null&&t.trim()?/<[a-z][\s\S]*>/i.test(t)?t:t.split(/\n\n+/).map(n=>n.trim()).filter(Boolean).map(n=>`<p>${hk(n)}</p>`).join("")||"<p></p>":"<p></p>"}function hk(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function pk(t){return t!=null&&t.trim()?/<[a-z][\s\S]*>/i.test(t)?t:Jp(t):""}const zm=({html:t,className:e,style:n})=>{const i=pk(t),s=dk(i);return s?C.jsx("div",{className:`${e??""} [&_p]:min-h-[1.5em]`,style:n,dangerouslySetInnerHTML:{__html:s}}):null},mk=24,gk=({text:t})=>{const e=R.useRef(null),[n,i]=R.useState(1);R.useEffect(()=>{const u=e.current;if(!u)return;const c=new ResizeObserver(d=>{for(const h of d){const{height:m}=h.contentRect,y=Math.max(1,Math.floor(m/mk));i(y)}});return c.observe(u),()=>c.disconnect()},[]);const o=!((t==null?void 0:t.trim())||"");return C.jsx("div",{ref:e,className:"h-full w-full overflow-hidden pl-6 pr-4 mt-4",children:o?C.jsx("p",{className:"text-sm text-textSecondary leading-relaxed",children:"Introduction"}):C.jsx(zm,{html:t,className:"text-base leading-relaxed text-textPrimary",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:n,overflow:"hidden"}})})},Mf={accent:"#66FFCC"},yk=768,Qp={aboutMe:`Silvia (b 1999) is a London-based fine art photographer whose work interrogates the fluid boundaries between the tangible and the perceived. A graduate of Central Saint Martins, she has pivoted from the structural rigour of fashion towards a more ephemeral exploration of the 'shifted concept'  capturing the weight of a glance within a fleeting moment.

Her practice is deeply rooted in travel and the quiet observation of nature and still life. By isolating objects from their traditional contexts, Silvia creates unreal spaces where philosophical enquiry and visual subtlety converge. For her, the camera is not a tool for documentation, but a medium for leaping between states of being.`,projects:[{id:"twice",title:"TWICE",description:`Twice is a series of diptych film photographs exploring the fragility of memory and the quiet dissonances embedded in everyday life.

Heraclitus observed that no one steps into the same river twice  not because the river changes, but because both the river and the person are always becoming something else. Memory operates similarly. We return to it expecting repetition and find instead a thing subtly altered, a detail misplaced, a feeling that no longer quite fits the image it belongs to.

Each photograph in this series pairs two frames that appear, at first glance, identical. They are not. The differences between them  sometimes stark, sometimes barely perceptible  enact the unreliability of recollection itself. Within individual images, too, there are misfits: objects and moments that resist the coherence of the scenes they inhabit, held in place by some invisible thread rather than any clear logic.

Shot on film, the series embraces the medium's own relationship with time and imperfection  its grain, its slight unpredictability  as formal extensions of the theme. Memory, like film, is a chemical process. It changes with exposure.`,imageUrl:"",gallery:[],year:"2025"}]},bk="silvia_admin",Os="sphnsx_admin_authenticated",vk=1440*60*1e3;function xk(){if(typeof localStorage>"u")return null;const t=localStorage.getItem(Os);return t||sessionStorage.getItem(Os)}function Sk(t){try{localStorage.setItem(Os,t)}catch{}try{sessionStorage.setItem(Os,t)}catch{}}function fp(){try{localStorage.removeItem(Os),sessionStorage.removeItem(Os)}catch{}}const Y1=R.createContext(null);function Ek({children:t}){const[e,n]=R.useState(!1);R.useEffect(()=>{const o=xk();if(o)try{const{timestamp:u}=JSON.parse(o);Date.now()-u<vk?n(!0):fp()}catch{fp()}},[]);const i=R.useCallback(o=>{const u=o===bk;return u&&(n(!0),Sk(JSON.stringify({timestamp:Date.now()}))),u},[]),s=R.useCallback(()=>{fp(),n(!1)},[]);return C.jsx(Y1.Provider,{value:{isAdmin:e,login:i,logout:s},children:t})}function _l(){const t=R.useContext(Y1);if(!t)throw new Error("useAdminAuth must be used within AdminAuthProvider");return t}const Bm="silvia_jiang_portfolio_v1",Tk="sphnsx_portfolio",Rs="portfolio",K1="data";let Ri=null;function X1(){return new Promise((t,e)=>{const n=indexedDB.open(Tk,1);n.onerror=()=>e(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=()=>{const i=n.result;i.objectStoreNames.contains(Rs)||i.createObjectStore(Rs,{keyPath:"key"})}})}const Mk=()=>{if(Ri!==null)return Ri;try{const t=typeof localStorage<"u"?localStorage.getItem(Bm):null;if(t){const e=JSON.parse(t);if(e&&Array.isArray(e.projects))return Ri=e,Ri}}catch{}return Qp};async function Cl(){const t=typeof localStorage<"u"?localStorage.getItem(Bm):null;if(t)try{const n=JSON.parse(t);if(n&&Array.isArray(n.projects))return Ri=n,Is(n).catch(()=>{}),n}catch{}const e=await X1();return new Promise((n,i)=>{const u=e.transaction(Rs,"readonly").objectStore(Rs).get(K1);u.onerror=()=>{e.close(),i(u.error)},u.onsuccess=()=>{e.close();const c=u.result;if(c!=null&&c.value)try{const d=JSON.parse(c.value);Ri=d,n(d);return}catch{}Ri=Qp,n(Qp)}})}function Is(t){return Ri=t,X1().then(e=>new Promise((n,i)=>{const u=e.transaction(Rs,"readwrite").objectStore(Rs).put({key:K1,value:JSON.stringify(t)});u.onerror=()=>{e.close(),i(u.error)},u.onsuccess=()=>{e.close();try{typeof localStorage<"u"&&localStorage.setItem(Bm,JSON.stringify(t))}catch(c){typeof console<"u"&&console.warn&&console.warn("Portfolio localStorage write failed (storage may be full or restricted):",c)}n()}}))}async function Ck(t){const e=await Cl();e.aboutMe=t,await Is(e)}async function Ak(t){const e=await Cl();e.projects.unshift(t),await Is(e)}async function wk(t,e){const n=await Cl(),i=n.projects.findIndex(s=>s.id===t);i!==-1&&(n.projects[i]={...e,id:t},await Is(n))}async function kk(t){const e=await Cl();e.projects=e.projects.filter(n=>n.id!==t),await Is(e)}async function Nk(t){const e=await Cl(),n=new Map(e.projects.map(o=>[o.id,o])),i=t.map(o=>n.get(o)).filter(o=>o!=null),s=e.projects.filter(o=>!t.includes(o.id));e.projects=[...i,...s],await Is(e)}const zv=`(max-width: ${yk-1}px)`;function Vi(){const[t,e]=R.useState(()=>typeof window<"u"?window.matchMedia(zv).matches:!1);return R.useEffect(()=>{const n=window.matchMedia(zv),i=s=>e(s.matches);return n.addEventListener("change",i),()=>n.removeEventListener("change",i)},[]),t}const Mc={left:"sphnsx_left_heights",middle:"sphnsx_middle_heights",right:"sphnsx_right_heights"},dp=Mf.accent;function Bv(t){const e=parseInt(t.year.trim(),10);return Number.isNaN(e)?-1:e}function jv(t){const e=100/t;return Array(t).fill(0).map((n,i)=>i===t-1?100-e*(t-1):e)}function oc(t,e){const n=t.map(s=>1/(s||1));if(e){const s=n.length?n.reduce((o,u)=>o+u,0)/n.length:1;n.push(s)}const i=n.reduce((s,o)=>s+o,0);return n.map(s=>s/i*100)}function hl(t,e,n){try{const i=JSON.parse(localStorage.getItem(Mc.left)??"null"),s=JSON.parse(localStorage.getItem(Mc.middle)??"null"),o=JSON.parse(localStorage.getItem(Mc.right)??"null");if(Array.isArray(i)&&i.length===t&&Array.isArray(s)&&s.length===e&&Array.isArray(o)&&o.length===n)return{left:i,middle:s,right:o}}catch{}return null}function hp(t,e){try{localStorage.setItem(Mc[t],JSON.stringify(e))}catch{}}const ac=({project:t,hoverColor:e,dragDisabled:n})=>C.jsx(Rc,{to:`/project/${t.id}`,title:t.title,hoverColor:e,draggable:!n,preview:t.imageUrl?C.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-contain",onContextMenu:i=>i.preventDefault(),onDragStart:i=>i.preventDefault(),style:{pointerEvents:"none"}}):C.jsx("div",{className:"w-full h-full bg-bgMain","aria-hidden":!0})}),Hv=({projectId:t,children:e,onReorder:n})=>{const i=u=>{u.dataTransfer.setData("text/plain",t),u.dataTransfer.effectAllowed="move"},s=u=>{u.preventDefault(),u.dataTransfer.dropEffect="move"},o=u=>{u.preventDefault();const c=u.dataTransfer.getData("text/plain");c&&c!==t&&n(c,t)};return C.jsx("div",{className:"h-full w-full",draggable:!0,onDragStart:i,onDragOver:s,onDrop:o,children:e})},Uv=({hoverColor:t})=>C.jsx(Rc,{to:"/project/new",title:"Add project",hoverColor:t,preview:C.jsx("div",{className:"pl-6 pr-4 mt-4",children:C.jsx("span",{className:"font-mono text-xs text-textSecondary uppercase tracking-wider",children:"New project"})})},"add-project"),Ok=({project:t})=>{const e=`/project/${t.id}`,n=()=>{const s=e?`#${e}`:"#/";window.location.hash=s,window.location.reload()},i=s=>{s.preventDefault(),s.stopPropagation(),n()};return C.jsxs("div",{role:"link",tabIndex:0,className:"block py-4 px-4 border-b border-paletteBorder bg-bgMain hover:opacity-90 transition-opacity cursor-pointer",onClick:i,onTouchEnd:s=>{s.preventDefault(),n()},onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),n())},children:[C.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textSecondary",children:t.year}),C.jsx("h3",{className:"font-mono text-lg uppercase tracking-wider text-textPrimary mt-1",children:t.title}),t.imageUrl?C.jsx("img",{src:t.imageUrl,alt:"",className:"mt-3 w-full max-h-48 object-contain bg-bgMain",onContextMenu:s=>s.preventDefault()}):null]})},Rk=({projectsByYear:t})=>C.jsx("div",{className:"min-h-screen h-screen w-full flex flex-col overflow-hidden bg-bgMain text-textPrimary",children:C.jsx("div",{className:"overflow-y-auto pt-12 pb-8 bg-bgMain",style:{position:"fixed",top:"3rem",left:0,right:0,bottom:0,zIndex:1},children:C.jsx("div",{className:"flex flex-col",children:t.map(e=>C.jsx("div",{children:C.jsx(Ok,{project:e})},e.id))})})}),Dk=({data:t,onRefresh:e})=>{const n=Vi(),{isAdmin:i}=_l(),s=Math.ceil(t.projects.length/2),o=t.projects.slice(0,s),u=t.projects.slice(s),c=i&&o.length<=u.length,d=2,h=o.length+(c?1:0),m=u.length+(c?0:1),{leftColors:y,middleColors:b,rightColors:v}=R.useMemo(()=>({leftColors:Array.from({length:d},()=>dp),middleColors:Array.from({length:h},()=>dp),rightColors:Array.from({length:m},()=>dp)}),[d,h,m]);R.useMemo(()=>hl(d,h,m),[d,h,m]);const[S,E]=R.useState(()=>{const te=hl(d,h,m);return(te==null?void 0:te.left)??jv(d)}),[T,A]=R.useState(()=>{const te=hl(d,h,m);return te!=null&&te.middle?te.middle:oc(o.map(de=>de.coverAspectRatio??1),c)}),[_,B]=R.useState(()=>{const te=hl(d,h,m);return te!=null&&te.right?te.right:oc(u.map(de=>de.coverAspectRatio??1),!c&&i)});R.useEffect(()=>{if(S.length!==d){const te=hl(d,h,m);E((te==null?void 0:te.left)??jv(d))}if(T.length!==h){const te=hl(d,h,m);A((te==null?void 0:te.middle)??oc(o.map(de=>de.coverAspectRatio??1),c))}if(_.length!==m){const te=hl(d,h,m);B((te==null?void 0:te.right)??oc(u.map(de=>de.coverAspectRatio??1),!c&&i))}},[d,h,m,o,u,c,i]);const $=R.useCallback(te=>{E(te),hp("left",te)},[]),H=R.useCallback(te=>{A(te),hp("middle",te)},[]),q=R.useCallback(te=>{B(te),hp("right",te)},[]),P=R.useMemo(()=>o.map(te=>te.id).concat(u.map(te=>te.id)),[o,u]),K=R.useCallback(async(te,de)=>{const Se=P.filter(ee=>ee!==te),I=Se.indexOf(de);I!==-1&&(Se.splice(I,0,te),await Nk(Se),e==null||e())},[P,e]),J=R.useMemo(()=>[C.jsx(Rc,{to:"/about",title:"About me",hoverColor:y[0],preview:C.jsx(gk,{text:t.aboutMe})},"about"),C.jsx(Rc,{to:"/contact",title:"Contact",hoverColor:y[1],preview:C.jsx("div",{className:"pl-6 pr-4 mt-4",children:C.jsx("span",{className:"font-mono text-xs text-textSecondary uppercase tracking-wider",children:"Get in touch"})})},"contact")],[t,y]),fe=R.useMemo(()=>[...o.map((te,de)=>i?C.jsx(Hv,{projectId:te.id,onReorder:K,children:C.jsx(ac,{project:te,hoverColor:b[de],dragDisabled:!0})},te.id):C.jsx(ac,{project:te,hoverColor:b[de]},te.id)),...c?[C.jsx(Uv,{hoverColor:b[o.length]},"add-project")]:[]],[t,o,b,c,i,K]),oe=R.useMemo(()=>[...u.map((te,de)=>i?C.jsx(Hv,{projectId:te.id,onReorder:K,children:C.jsx(ac,{project:te,hoverColor:v[de],dragDisabled:!0})},te.id):C.jsx(ac,{project:te,hoverColor:v[de]},te.id)),...!c&&i?[C.jsx(Uv,{hoverColor:v[u.length]},"add-project")]:[]],[t,u,v,c,i,K]),Te=R.useMemo(()=>[...t.projects].sort((te,de)=>Bv(de)-Bv(te)),[t.projects]);return n?C.jsx(Rk,{data:t,projectsByYear:Te}):C.jsx(Pw,{leftRows:J,middleRows:fe,rightRows:oe,leftHeights:S,middleHeights:T,rightHeights:_,leftColors:y,middleColors:b,rightColors:v,onLeftHeightsChange:$,onMiddleHeightsChange:H,onRightHeightsChange:q})},_k=({className:t=""})=>C.jsxs("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"square","aria-hidden":!0,children:[C.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),C.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),C.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),Lk=()=>{const[t,e]=R.useState(!1),n=hr();return R.useEffect(()=>{e(!1)},[n.pathname]),C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"fixed top-0 left-0 z-[100] h-12 w-auto max-w-[33.333vw] flex items-center pl-4 rounded-sm transition-opacity duration-150",style:{backgroundColor:Mf.accent},children:[C.jsx("button",{type:"button","aria-label":"Open menu",onClick:()=>e(!0),className:"h-12 w-6 flex items-center justify-center text-textPrimary hover:opacity-80 transition-opacity shrink-0",children:C.jsx(_k,{})}),C.jsx(Ui,{to:"/",className:"font-mono text-base uppercase tracking-wider text-textPrimary flex-1 flex items-center justify-center min-w-0 px-4 hover:opacity-90 transition-opacity duration-150",children:"Home"})]}),t&&C.jsxs(C.Fragment,{children:[C.jsx("div",{role:"presentation",className:"fixed inset-0 z-[101] bg-black/40",onClick:()=>e(!1),"aria-hidden":!0}),C.jsxs("nav",{className:"fixed top-0 left-0 z-[102] w-64 h-full bg-bgMain border-r border-paletteBorder flex flex-col pt-14 pl-4 pr-4 pb-4","aria-label":"Main navigation",children:[C.jsx("a",{href:"#/about",className:"font-mono text-sm uppercase tracking-wider py-3 border-b border-paletteBorder text-textPrimary hover:underline block",onClick:()=>e(!1),children:"About me"}),C.jsx("a",{href:"#/contact",className:"font-mono text-sm uppercase tracking-wider py-3 border-b border-paletteBorder text-textPrimary hover:underline block",onClick:()=>e(!1),children:"Contact"})]})]})]})},Iv=()=>{const{login:t}=_l(),e=Dl(),[n,i]=R.useState(""),s=o=>{o.preventDefault(),t(n)?e("/"):alert("Incorrect password.")};return C.jsx("div",{className:"min-h-screen bg-bgMain flex items-center justify-center px-6",children:C.jsxs("form",{onSubmit:s,className:"w-full max-w-sm",children:[C.jsx("h2",{className:"font-mono text-sm uppercase tracking-wider text-textPrimary mb-8",children:"Admin login"}),C.jsx("input",{type:"password",placeholder:"Password",className:"w-full py-3 border-b border-paletteBorder bg-transparent font-mono text-sm uppercase tracking-wider placeholder:text-textSecondary text-textPrimary focus:outline-none mb-8",value:n,onChange:o=>i(o.target.value)}),C.jsx("button",{type:"submit",className:"font-mono text-base uppercase tracking-wider text-textPrimary py-4 px-5 transition-opacity duration-150 hover:opacity-90 rounded-sm w-full",style:{backgroundColor:Mf.accent},children:"Log in"})]})})},zk=()=>C.jsxs("div",{className:"min-h-screen bg-bgMain pt-pageTop px-6 pb-12 max-w-2xl text-textPrimary",children:[C.jsx("h1",{className:"font-mono text-sm uppercase tracking-wider mb-6",children:"Domain setup"}),C.jsxs("div",{className:"border border-paletteBorder p-6 space-y-4 rounded-sm",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"font-mono text-xs uppercase tracking-wider mb-2",children:"1. Naked domain (A record)"}),C.jsx("p",{className:"font-mono text-sm",children:"Add an A record for your root domain (@) pointing to your host IP."})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"font-mono text-xs uppercase tracking-wider mb-2",children:"2. Redirect"}),C.jsx("p",{className:"font-mono text-sm",children:"Set domain forwarding from your root domain to https://www.yourdomain.com (301 redirect)."})]})]}),C.jsx("p",{className:"mt-6",children:C.jsx(Ui,{to:"/",className:"font-mono text-xs uppercase tracking-wider border border-paletteBorder px-4 py-2 inline-block bg-bgMain hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Back to home"})})]});function Wp(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i.naturalWidth/i.naturalHeight||1),i.onerror=()=>n(new Error("Image load failed")),i.src=t})}function As(t,e=1600,n=.78){return new Promise((i,s)=>{const o=new Image;o.crossOrigin="anonymous",o.onload=()=>{try{const u=document.createElement("canvas");let{width:c,height:d}=o;c>e&&(d=d*e/c,c=e),u.width=c,u.height=d;const h=u.getContext("2d");if(!h){i(t);return}h.drawImage(o,0,0,c,d),i(u.toDataURL("image/jpeg",n))}catch(u){s(u)}},o.onerror=()=>s(new Error("Image load failed")),o.src=t})}var pp={exports:{}},mp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function Bk(){if(Pv)return mp;Pv=1;var t=Na();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,s=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function c(y,b){var v=b(),S=i({inst:{value:v,getSnapshot:b}}),E=S[0].inst,T=S[1];return o(function(){E.value=v,E.getSnapshot=b,d(E)&&T({inst:E})},[y,v,b]),s(function(){return d(E)&&T({inst:E}),y(function(){d(E)&&T({inst:E})})},[y]),u(v),v}function d(y){var b=y.getSnapshot;y=y.value;try{var v=b();return!n(y,v)}catch{return!0}}function h(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return mp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,mp}var Vv;function J1(){return Vv||(Vv=1,pp.exports=Bk()),pp.exports}var Q1=J1();function jt(t){this.content=t}jt.prototype={constructor:jt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,s=i.find(t),o=i.content.slice();return s==-1?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new jt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new jt(n)},addToStart:function(t,e){return new jt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new jt(n)},addBefore:function(t,e,n){var i=this.remove(e),s=i.content.slice(),o=i.find(t);return s.splice(o==-1?s.length:o,0,e,n),new jt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=jt.from(t),t.size?new jt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=jt.from(t),t.size?new jt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=jt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};jt.from=function(t){if(t instanceof jt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new jt(e)};function W1(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(i),o=e.child(i);if(s==o){n+=s.nodeSize;continue}if(!s.sameMarkup(o))return n;if(s.isText&&s.text!=o.text){for(let u=0;s.text[u]==o.text[u];u++)n++;return n}if(s.content.size||o.content.size){let u=W1(s.content,o.content,n+1);if(u!=null)return u}n+=s.nodeSize}}function Z1(t,e,n,i){for(let s=t.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:n,b:i};let u=t.child(--s),c=e.child(--o),d=u.nodeSize;if(u==c){n-=d,i-=d;continue}if(!u.sameMarkup(c))return{a:n,b:i};if(u.isText&&u.text!=c.text){let h=0,m=Math.min(u.text.length,c.text.length);for(;h<m&&u.text[u.text.length-h-1]==c.text[c.text.length-h-1];)h++,n--,i--;return{a:n,b:i}}if(u.content.size||c.content.size){let h=Z1(u.content,c.content,n-1,i-1);if(h)return h}n-=d,i-=d}}class X{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,s=0,o){for(let u=0,c=0;c<n;u++){let d=this.content[u],h=c+d.nodeSize;if(h>e&&i(d,s+c,o||null,u)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,n-m),i,s+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,s){let o="",u=!0;return this.nodesBetween(e,n,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,n-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&i&&(u?u=!1:o+=i),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,s=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new X(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],s=0;if(n>e)for(let o=0,u=0;u<n;o++){let c=this.content[o],d=u+c.nodeSize;d>e&&((u<e||d>n)&&(c.isText?c=c.cut(Math.max(0,e-u),Math.min(c.text.length,n-u)):c=c.cut(Math.max(0,e-u-1),Math.min(c.content.size,n-u-1))),i.push(c),s+=c.nodeSize),u=d}return new X(i,s)}cutByIndex(e,n){return e==n?X.empty:e==0&&n==this.content.length?this:new X(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let s=this.content.slice(),o=this.size+n.nodeSize-i.nodeSize;return s[e]=n,new X(s,o)}addToStart(e){return new X([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new X(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let s=this.content[n];e(s,i,n),i+=s.nodeSize}}findDiffStart(e,n=0){return W1(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return Z1(this,e,n,i)}findIndex(e){if(e==0)return uc(0,e);if(e==this.size)return uc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let s=this.child(n),o=i+s.nodeSize;if(o>=e)return o==e?uc(n+1,o):uc(n,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return X.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new X(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return X.empty;let n,i=0;for(let s=0;s<e.length;s++){let o=e[s];i+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(n||(n=e.slice(0,s)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new X(n||e,i)}static from(e){if(!e)return X.empty;if(e instanceof X)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new X([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}X.empty=new X([],0);const gp={index:0,offset:0};function uc(t,e){return gp.index=t,gp.offset=e,gp}function Dc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!Dc(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!Dc(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let Ke=class Zp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!i&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),i=!0),n&&n.push(o)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Dc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Zp.none;if(e instanceof Zp)return[e];let n=e.slice();return n.sort((i,s)=>i.type.rank-s.type.rank),n}};Ke.none=[];class _c extends Error{}class ne{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=tS(this.content,e+this.openStart,n);return i&&new ne(i,this.openStart,this.openEnd)}removeBetween(e,n){return new ne(eS(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ne.empty;let i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ne(X.fromJSON(e,n.content),i,s)}static maxOpen(e,n=!0){let i=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new ne(e,i,s)}}ne.empty=new ne(X.empty,0,0);function eS(t,e,n){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i),{index:u,offset:c}=t.findIndex(n);if(s==e||o.isText){if(c!=n&&!t.child(u).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=u)throw new RangeError("Removing non-flat range");return t.replaceChild(i,o.copy(eS(o.content,e-s-1,n-s-1)))}function tS(t,e,n,i){let{index:s,offset:o}=t.findIndex(e),u=t.maybeChild(s);if(o==e||u.isText)return i&&!i.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=tS(u.content,e-o-1,n,u);return c&&t.replaceChild(s,u.copy(c))}function jk(t,e,n){if(n.openStart>t.depth)throw new _c("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new _c("Inconsistent open depths");return nS(t,e,n,0)}function nS(t,e,n,i){let s=t.index(i),o=t.node(i);if(s==e.index(i)&&i<t.depth-n.openStart){let u=nS(t,e,n,i+1);return o.copy(o.content.replaceChild(s,u))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let u=t.parent,c=u.content;return Sl(u,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:u,end:c}=Hk(n,t);return Sl(o,iS(t,u,c,e,i))}else return Sl(o,Lc(t,e,i))}function rS(t,e){if(!e.type.compatibleContent(t.type))throw new _c("Cannot join "+e.type.name+" onto "+t.type.name)}function em(t,e,n){let i=t.node(n);return rS(i,e.node(n)),i}function xl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function sa(t,e,n,i){let s=(e||t).node(n),o=0,u=e?e.index(n):s.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(xl(t.nodeAfter,i),o++));for(let c=o;c<u;c++)xl(s.child(c),i);e&&e.depth==n&&e.textOffset&&xl(e.nodeBefore,i)}function Sl(t,e){return t.type.checkContent(e),t.copy(e)}function iS(t,e,n,i,s){let o=t.depth>s&&em(t,e,s+1),u=i.depth>s&&em(n,i,s+1),c=[];return sa(null,t,s,c),o&&u&&e.index(s)==n.index(s)?(rS(o,u),xl(Sl(o,iS(t,e,n,i,s+1)),c)):(o&&xl(Sl(o,Lc(t,e,s+1)),c),sa(e,n,s,c),u&&xl(Sl(u,Lc(n,i,s+1)),c)),sa(i,null,s,c),new X(c)}function Lc(t,e,n){let i=[];if(sa(null,t,n,i),t.depth>n){let s=em(t,e,n+1);xl(Sl(s,Lc(t,e,n+1)),i)}return sa(e,null,n,i),new X(i)}function Hk(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)s=e.node(o).copy(X.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class ba{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=e.child(n);return i?e.child(n).cut(i):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)s+=i.child(o).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ke.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),s=e.maybeChild(n);if(!i){let c=i;i=s,s=c}let o=i.marks;for(var u=0;u<o.length;u++)o[u].type.spec.inclusive===!1&&(!s||!o[u].isInSet(s.marks))&&(o=o[u--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new zc(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],s=0,o=n;for(let u=e;;){let{index:c,offset:d}=u.content.findIndex(o),h=o-d;if(i.push(u,c,s+d),!h||(u=u.child(c),u.isText))break;o=h-1,s+=d+1}return new ba(n,i,o)}static resolveCached(e,n){let i=qv.get(e);if(i)for(let o=0;o<i.elts.length;o++){let u=i.elts[o];if(u.pos==n)return u}else qv.set(e,i=new Uk);let s=i.elts[i.i]=ba.resolve(e,n);return i.i=(i.i+1)%Ik,s}}class Uk{constructor(){this.elts=[],this.i=0}}const Ik=12,qv=new WeakMap;class zc{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Pk=Object.create(null);class Wn{constructor(e,n,i,s=Ke.none){this.type=e,this.attrs=n,this.marks=s,this.content=i||X.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,s=0){this.content.nodesBetween(e,n,i,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,s){return this.content.textBetween(e,n,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&Dc(this.attrs,n||e.defaultAttrs||Pk)&&Ke.sameSet(this.marks,i||Ke.none)}copy(e=null){return e==this.content?this:new Wn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Wn(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return ne.empty;let s=this.resolve(e),o=this.resolve(n),u=i?0:s.sharedDepth(n),c=s.start(u),h=s.node(u).content.cut(s.pos-c,o.pos-c);return new ne(h,s.depth-u,o.depth-u)}replace(e,n,i){return jk(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let s=this.content.child(n-1);return{node:s,index:n-1,offset:i-s.nodeSize}}resolve(e){return ba.resolveCached(this,e)}resolveNoCache(e){return ba.resolve(this,e)}rangeHasMark(e,n,i){let s=!1;return n>e&&this.nodesBetween(e,n,o=>(i.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),lS(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=X.empty,s=0,o=i.childCount){let u=this.contentMatchAt(e).matchFragment(i,s,o),c=u&&u.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=s;d<o;d++)if(!this.type.allowsMarks(i.child(d).marks))return!1;return!0}canReplaceWith(e,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(i),u=o&&o.matchFragment(this.content,n);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ke.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!Ke.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let s=X.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,s,i);return o.type.checkAttrs(o.attrs),o}}Wn.prototype.text=void 0;class Bc extends Wn{constructor(e,n,i,s){if(super(e,n,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):lS(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Bc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Bc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function lS(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Al{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new Vk(e,n);if(i.next==null)return Al.empty;let s=sS(i);i.next&&i.err("Unexpected trailing text");let o=Xk(Kk(s));return Jk(o,i),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let s=this;for(let o=n;s&&o<i;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let s=[this];function o(u,c){let d=u.matchFragment(e,i);if(d&&(!n||d.validEnd))return X.from(c.map(h=>h.createAndFill()));for(let h=0;h<u.next.length;h++){let{type:m,next:y}=u.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(y)==-1){s.push(y);let b=o(y,c.concat(m));if(b)return b}}return null}return o(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),o=s.match;if(o.matchType(e)){let u=[];for(let c=s;c.type;c=c.via)u.push(c.type);return u.reverse()}for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!s.type||d.validEnd)&&(i.push({match:c.contentMatch,type:c,via:s}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let s=0;s<i.next.length;s++)e.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),e.map((i,s)=>{let o=s+(i.validEnd?"*":" ")+" ";for(let u=0;u<i.next.length;u++)o+=(u?", ":"")+i.next[u].type.name+"->"+e.indexOf(i.next[u].next);return o}).join(`
`)}}Al.empty=new Al(!0);class Vk{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function sS(t){let e=[];do e.push(qk(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function qk(t){let e=[];do e.push(Gk(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Gk(t){let e=Yk(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=$k(t,e);else break;return e}function Gv(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function $k(t,e){let n=Gv(t),i=n;return t.eat(",")&&(t.next!="}"?i=Gv(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function Fk(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let s=[];for(let o in n){let u=n[o];u.isInGroup(e)&&s.push(u)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function Yk(t){if(t.eat("(")){let e=sS(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Fk(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Kk(t){let e=[[]];return s(o(t,0),n()),e;function n(){return e.push([])-1}function i(u,c,d){let h={term:d,to:c};return e[u].push(h),h}function s(u,c){u.forEach(d=>d.to=c)}function o(u,c){if(u.type=="choice")return u.exprs.reduce((d,h)=>d.concat(o(h,c)),[]);if(u.type=="seq")for(let d=0;;d++){let h=o(u.exprs[d],c);if(d==u.exprs.length-1)return h;s(h,c=n())}else if(u.type=="star"){let d=n();return i(c,d),s(o(u.expr,d),d),[i(d)]}else if(u.type=="plus"){let d=n();return s(o(u.expr,c),d),s(o(u.expr,d),d),[i(d)]}else{if(u.type=="opt")return[i(c)].concat(o(u.expr,c));if(u.type=="range"){let d=c;for(let h=0;h<u.min;h++){let m=n();s(o(u.expr,d),m),d=m}if(u.max==-1)s(o(u.expr,d),d);else for(let h=u.min;h<u.max;h++){let m=n();i(d,m),s(o(u.expr,d),m),d=m}return[i(d)]}else{if(u.type=="name")return[i(c,void 0,u.value)];throw new Error("Unknown expr type")}}}}function oS(t,e){return e-t}function $v(t,e){let n=[];return i(e),n.sort(oS);function i(s){let o=t[s];if(o.length==1&&!o[0].term)return i(o[0].to);n.push(s);for(let u=0;u<o.length;u++){let{term:c,to:d}=o[u];!c&&n.indexOf(d)==-1&&i(d)}}}function Xk(t){let e=Object.create(null);return n($v(t,0));function n(i){let s=[];i.forEach(u=>{t[u].forEach(({term:c,to:d})=>{if(!c)return;let h;for(let m=0;m<s.length;m++)s[m][0]==c&&(h=s[m][1]);$v(t,d).forEach(m=>{h||s.push([c,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let o=e[i.join(",")]=new Al(i.indexOf(t.length-1)>-1);for(let u=0;u<s.length;u++){let c=s[u][1].sort(oS);o.next.push({type:s[u][0],next:e[c.join(",")]||n(c)})}return o}}function Jk(t,e){for(let n=0,i=[t];n<i.length;n++){let s=i[n],o=!s.validEnd,u=[];for(let c=0;c<s.next.length;c++){let{type:d,next:h}=s.next[c];u.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),i.indexOf(h)==-1&&i.push(h)}o&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function aS(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function uS(t,e){let n=Object.create(null);for(let i in t){let s=e&&e[i];if(s===void 0){let o=t[i];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=s}return n}function cS(t,e,n,i){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let o=t[s];o.validate&&o.validate(e[s])}}function fS(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new Wk(t,i,e[i]);return n}let Fv=class dS{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=fS(e,i.attrs),this.defaultAttrs=aS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Al.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:uS(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wn(this,this.computeAttrs(e),X.from(n),Ke.setFrom(i))}createChecked(e=null,n,i){return n=X.from(n),this.checkContent(n),new Wn(this,this.computeAttrs(e),n,Ke.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=X.from(n),n.size){let u=this.contentMatch.fillBefore(n);if(!u)return null;n=u.append(n)}let s=this.contentMatch.matchFragment(n),o=s&&s.fillBefore(X.empty,!0);return o?new Wn(this,e,n.append(o),Ke.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){cS(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:Ke.none:e}static compile(e,n){let i=Object.create(null);e.forEach((o,u)=>i[o]=new dS(o,n,u));let s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function Qk(t,e,n){let i=n.split("|");return s=>{let o=s===null?"null":typeof s;if(i.indexOf(o)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${o}`)}}class Wk{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?Qk(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class Cf{constructor(e,n,i,s){this.name=e,this.rank=n,this.schema=i,this.spec=s,this.attrs=fS(e,s.attrs),this.excluded=null;let o=aS(this.attrs);this.instance=o?new Ke(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ke(this,uS(this.attrs,e))}static compile(e,n){let i=Object.create(null),s=0;return e.forEach((o,u)=>i[o]=new Cf(o,s++,n,u)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){cS(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class hS{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=jt.from(e.nodes),n.marks=jt.from(e.marks||{}),this.nodes=Fv.compile(this.spec.nodes,this),this.marks=Cf.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],u=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=i[u]||(i[u]=Al.parse(u,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?Yv(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],u=o.spec.excludes;o.excluded=u==null?[o]:u==""?[]:Yv(this,u.split(" "))}this.nodeFromJSON=s=>Wn.fromJSON(this,s),this.markFromJSON=s=>Ke.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Fv){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,s)}text(e,n){let i=this.nodes.text;return new Bc(i,i.defaultAttrs,e,Ke.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Yv(t,e){let n=[];for(let i=0;i<e.length;i++){let s=e[i],o=t.marks[s],u=o;if(o)n.push(o);else for(let c in t.marks){let d=t.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(u=d)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function Zk(t){return t.tag!=null}function eN(t){return t.style!=null}class zi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(s=>{if(Zk(s))this.tags.push(s);else if(eN(s)){let o=/[^=]*/.exec(s.style)[0];i.indexOf(o)<0&&i.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let i=new Xv(this,n,!1);return i.addAll(e,Ke.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new Xv(this,n,!0);return i.addAll(e,Ke.none,n.from,n.to),ne.maxOpen(i.finish())}matchTag(e,n,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(rN(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let u=o.getAttrs(e);if(u===!1)continue;o.attrs=u||void 0}return o}}}matchStyle(e,n,i,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let u=this.styles[o],c=u.style;if(!(c.indexOf(e)!=0||u.context&&!i.matchesContext(u.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(u.getAttrs){let d=u.getAttrs(n);if(d===!1)continue;u.attrs=d||void 0}return u}}}static schemaRules(e){let n=[];function i(s){let o=s.priority==null?50:s.priority,u=0;for(;u<n.length;u++){let c=n[u];if((c.priority==null?50:c.priority)<o)break}n.splice(u,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(u=>{i(u=Jv(u)),u.mark||u.ignore||u.clearMark||(u.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(u=>{i(u=Jv(u)),u.node||u.ignore||u.mark||(u.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new zi(e,zi.schemaRules(e)))}}const pS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},tN={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},mS={ol:!0,ul:!0},va=1,tm=2,oa=4;function Kv(t,e,n){return e!=null?(e?va:0)|(e==="full"?tm:0):t&&t.whitespace=="pre"?va|tm:n&~oa}class cc{constructor(e,n,i,s,o,u){this.type=e,this.attrs=n,this.marks=i,this.solid=s,this.options=u,this.content=[],this.activeMarks=Ke.none,this.match=o||(u&oa?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(X.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(e.type))?(this.match=i,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&va)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let n=X.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(X.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!pS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Xv{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let s=n.topNode,o,u=Kv(null,n.preserveWhitespace,0)|(i?oa:0);s?o=new cc(s.type,s.attrs,Ke.none,!0,n.topMatch||s.type.contentMatch,u):i?o=new cc(null,null,Ke.none,!0,null,u):o=new cc(e.schema.topNodeType,null,Ke.none,!0,null,u),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,s=this.top,o=s.options&tm?"full":this.localPreserveWS||(s.options&va)>0,{schema:u}=this.parser;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(o)if(o==="full")i=i.replace(/\r\n?/g,`
`);else if(u.linebreakReplacement&&/[\r\n]/.test(i)&&this.top.findWrapping(u.linebreakReplacement.create())){let c=i.split(/\r?\n|\r/);for(let d=0;d<c.length;d++)d&&this.insertNode(u.linebreakReplacement.create(),n,!0),c[d]&&this.insertNode(u.text(c[d]),n,!/\S/.test(c[d]));i=""}else i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let c=s.content[s.content.length-1],d=e.previousSibling;(!c||d&&d.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(i=i.slice(1))}i&&this.insertNode(u.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),c;mS.hasOwnProperty(u)&&this.parser.normalizeLists&&nN(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,i));e:if(d?d.ignore:tN.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(pS.hasOwnProperty(u))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let y=d&&d.skip?n:this.readStyles(e,n);y&&this.addAll(e,y),h&&this.sync(o),this.needsBlock=m}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,d,h,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],u=i.getPropertyValue(o);if(u)for(let c=void 0;;){let d=this.parser.matchStyle(o,u,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(h=>!d.clearMark(h)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(e,n,i,s){let o,u;if(n.node)if(u=this.parser.schema.nodes[n.node],u.isLeaf)this.insertNode(u.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let d=this.enter(u,n.attrs||null,i,n.preserveWhitespace);d&&(o=!0,i=d)}else{let d=this.parser.schema.marks[n.mark];i=i.concat(d.create(n.attrs))}let c=this.top;if(u&&u.isLeaf)this.findInside(e);else if(s)this.addElement(e,i,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,i,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,i),this.findAround(e,d,!1)}o&&this.sync(c)&&this.open--}addAll(e,n,i,s){let o=i||0;for(let u=i?e.childNodes[i]:e.firstChild,c=s==null?null:e.childNodes[s];u!=c;u=u.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(u,n);this.findAtPoint(e,o)}findPlace(e,n,i){let s,o;for(let u=this.open,c=0;u>=0;u--){let d=this.nodes[u],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+c)&&(s=h,o=d,!h.length))break;if(d.solid){if(i)break;c+=2}}if(!s)return null;this.sync(o);for(let u=0;u<s.length;u++)n=this.enterInner(s[u],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let s=this.findPlace(e,n,i);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let u=Ke.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):Qv(c.type,e.type))&&(u=c.addToSet(u));return o.content.push(e.mark(u)),!0}return!1}enter(e,n,i,s){let o=this.findPlace(e.create(n),i,!1);return o&&(o=this.enterInner(e,n,i,!0,s)),o}enterInner(e,n,i,s=!1,o){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let c=Kv(e,o,u.options);u.options&oa&&u.content.length==0&&(c|=oa);let d=Ke.none;return i=i.filter(h=>(u.type?u.type.allowsMarkType(h.type):Qv(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new cc(e,n,d,s,null,c)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=va)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let s=i.length-1;s>=0;s--)e+=i[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(s?0:1),u=(c,d)=>{for(;c>=0;c--){let h=n[c];if(h==""){if(c==n.length-1||c==0)continue;for(;d>=o;d--)if(u(c-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:i&&d>=o?i.node(d-o).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return u(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function nN(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&mS.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function rN(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Jv(t){let e={};for(let n in t)e[n]=t[n];return e}function Qv(t,e){let n=e.schema.nodes;for(let i in n){let s=n[i];if(!s.allowsMarkType(t))continue;let o=[],u=c=>{o.push(c);for(let d=0;d<c.edgeCount;d++){let{type:h,next:m}=c.edge(d);if(h==e||o.indexOf(m)<0&&u(m))return!0}};if(u(s.contentMatch))return!0}}class Ll{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=yp(n).createDocumentFragment());let s=i,o=[];return e.forEach(u=>{if(o.length||u.marks.length){let c=0,d=0;for(;c<o.length&&d<u.marks.length;){let h=u.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(o[c][0])||h.type.spec.spanning===!1)break;c++,d++}for(;c<o.length;)s=o.pop()[1];for(;d<u.marks.length;){let h=u.marks[d++],m=this.serializeMark(h,u.isInline,n);m&&(o.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(u,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:s}=Cc(yp(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(e,n,i={}){let s=this.marks[e.type.name];return s&&Cc(yp(i),s(e,n),null,e.attrs)}static renderSpec(e,n,i=null,s){return Cc(e,n,i,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ll(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Wv(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return Wv(e.marks)}}function Wv(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function yp(t){return t.document||window.document}const Zv=new WeakMap;function iN(t){let e=Zv.get(t);return e===void 0&&Zv.set(t,e=lN(t)),e}function lN(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let s=0;s<i.length;s++)n(i[s]);else for(let s in i)n(i[s])}return n(t),e}function Cc(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=iN(i))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=s.indexOf(" ");u>0&&(n=s.slice(0,u),s=s.slice(u+1));let c,d=n?t.createElementNS(n,s):t.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let b=y.indexOf(" ");b>0?d.setAttributeNS(y.slice(0,b),y.slice(b+1),h[y]):y=="style"&&d.style?d.style.cssText=h[y]:d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:S}=Cc(t,b,n,i);if(d.appendChild(v),S){if(c)throw new RangeError("Multiple content holes");c=S}}}return{dom:d,contentDOM:c}}const gS=65535,yS=Math.pow(2,16);function sN(t,e){return t+e*yS}function ex(t){return t&gS}function oN(t){return(t-(t&gS))/yS}const bS=1,vS=2,Ac=4,xS=8;class nm{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&xS)>0}get deletedBefore(){return(this.delInfo&(bS|Ac))>0}get deletedAfter(){return(this.delInfo&(vS|Ac))>0}get deletedAcross(){return(this.delInfo&Ac)>0}}class vn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&vn.empty)return vn.empty}recover(e){let n=0,i=ex(e);if(!this.inverted)for(let s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+oN(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let s=0,o=this.inverted?2:1,u=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[c+o],m=this.ranges[c+u],y=d+h;if(e<=y){let b=h?e==d?-1:e==y?1:n:n,v=d+s+(b<0?0:m);if(i)return v;let S=e==(n<0?d:y)?null:sN(c/3,e-d),E=e==d?vS:e==y?bS:Ac;return(n<0?e!=d:e!=y)&&(E|=xS),new nm(v,E,S)}s+=m-h}return i?e+s:new nm(e+s,0,null)}touches(e,n){let i=0,s=ex(n),o=this.inverted?2:1,u=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?i:0);if(d>e)break;let h=this.ranges[c+o],m=d+h;if(e<=m&&c==s*3)return!0;i+=this.ranges[c+u]-h}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let u=this.ranges[s],c=u-(this.inverted?o:0),d=u+(this.inverted?0:o),h=this.ranges[s+n],m=this.ranges[s+i];e(c,c+h,d,d+m),o+=m-h}}invert(){return new vn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?vn.empty:new vn(e<0?[0,-e,0]:[0,0,e])}}vn.empty=new vn([]);class xa{constructor(e,n,i=0,s=e?e.length:0){this.mirror=n,this.from=i,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new xa(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?i+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}invert(){let e=new xa;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let s=0;for(let o=this.from;o<this.to;o++){let u=this._maps[o],c=u.mapResult(e,n);if(c.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return i?e:new nm(e,s,null)}}const bp=Object.create(null);class Gt{getMap(){return vn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=bp[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in bp)throw new RangeError("Duplicate use of step JSON ID "+e);return bp[e]=n,n.prototype.jsonID=e,n}}class xt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new xt(e,null)}static fail(e){return new xt(null,e)}static fromReplace(e,n,i,s){try{return xt.ok(e.replace(n,i,s))}catch(o){if(o instanceof _c)return xt.fail(o.message);throw o}}}function jm(t,e,n){let i=[];for(let s=0;s<t.childCount;s++){let o=t.child(s);o.content.size&&(o=o.copy(jm(o.content,e,o))),o.isInline&&(o=e(o,n,s)),i.push(o)}return X.fromArray(i)}class Di extends Gt{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),s=i.node(i.sharedDepth(this.to)),o=new ne(jm(n.content,(u,c)=>!u.isAtom||!c.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),s),n.openStart,n.openEnd);return xt.fromReplace(e,this.from,this.to,o)}invert(){return new Qn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Di(n.pos,i.pos,this.mark)}merge(e){return e instanceof Di&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Di(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Di(n.from,n.to,e.markFromJSON(n.mark))}}Gt.jsonID("addMark",Di);class Qn extends Gt{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new ne(jm(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return xt.fromReplace(e,this.from,this.to,i)}invert(){return new Di(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Qn(n.pos,i.pos,this.mark)}merge(e){return e instanceof Qn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Qn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Qn(n.from,n.to,e.markFromJSON(n.mark))}}Gt.jsonID("removeMark",Qn);class _i extends Gt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return xt.fromReplace(e,this.pos,this.pos+1,new ne(X.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(i))return new _i(this.pos,n.marks[s]);return new _i(this.pos,this.mark)}}return new wl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _i(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _i(n.pos,e.markFromJSON(n.mark))}}Gt.jsonID("addNodeMark",_i);class wl extends Gt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return xt.fromReplace(e,this.pos,this.pos+1,new ne(X.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new _i(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new wl(n.pos,e.markFromJSON(n.mark))}}Gt.jsonID("removeNodeMark",wl);class kt extends Gt{constructor(e,n,i,s=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=s}apply(e){return this.structure&&rm(e,this.from,this.to)?xt.fail("Structure replace would overwrite content"):xt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new vn([this.from,this.to-this.from,this.slice.size])}invert(e){return new kt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new kt(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof kt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ne.empty:new ne(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new kt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ne.empty:new ne(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new kt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new kt(n.from,n.to,ne.fromJSON(e,n.slice),!!n.structure)}}Gt.jsonID("replace",kt);class Nt extends Gt{constructor(e,n,i,s,o,u,c=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=s,this.slice=o,this.insert=u,this.structure=c}apply(e){if(this.structure&&(rm(e,this.from,this.gapFrom)||rm(e,this.gapTo,this.to)))return xt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return xt.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?xt.fromReplace(e,this.from,this.to,i):xt.fail("Content does not fit in gap")}getMap(){return new vn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Nt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||s<n.pos||o>i.pos?null:new Nt(n.pos,i.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Nt(n.from,n.to,n.gapFrom,n.gapTo,ne.fromJSON(e,n.slice),n.insert,!!n.structure)}}Gt.jsonID("replaceAround",Nt);function rm(t,e,n){let i=t.resolve(e),s=n-e,o=i.depth;for(;s>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,s--;if(s>0){let u=i.node(o).maybeChild(i.indexAfter(o));for(;s>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,s--}}return!1}function aN(t,e,n,i){let s=[],o=[],u,c;t.doc.nodesBetween(e,n,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!i.isInSet(y)&&m.type.allowsMarkType(i.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,n),S=i.addToSet(y);for(let E=0;E<y.length;E++)y[E].isInSet(S)||(u&&u.to==b&&u.mark.eq(y[E])?u.to=v:s.push(u=new Qn(b,v,y[E])));c&&c.to==b?c.to=v:o.push(c=new Di(b,v,i))}}),s.forEach(d=>t.step(d)),o.forEach(d=>t.step(d))}function uN(t,e,n,i){let s=[],o=0;t.doc.nodesBetween(e,n,(u,c)=>{if(!u.isInline)return;o++;let d=null;if(i instanceof Cf){let h=u.marks,m;for(;m=i.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else i?i.isInSet(u.marks)&&(d=[i]):d=u.marks;if(d&&d.length){let h=Math.min(c+u.nodeSize,n);for(let m=0;m<d.length;m++){let y=d[m],b;for(let v=0;v<s.length;v++){let S=s[v];S.step==o-1&&y.eq(s[v].style)&&(b=S)}b?(b.to=h,b.step=o):s.push({style:y,from:Math.max(c,e),to:h,step:o})}}}),s.forEach(u=>t.step(new Qn(u.from,u.to,u.style)))}function Hm(t,e,n,i=n.contentMatch,s=!0){let o=t.doc.nodeAt(e),u=[],c=e+1;for(let d=0;d<o.childCount;d++){let h=o.child(d),m=c+h.nodeSize,y=i.matchType(h.type);if(!y)u.push(new kt(c,m,ne.empty));else{i=y;for(let b=0;b<h.marks.length;b++)n.allowsMarkType(h.marks[b].type)||t.step(new Qn(c,m,h.marks[b]));if(s&&h.isText&&n.whitespace!="pre"){let b,v=/\r?\n|\r/g,S;for(;b=v.exec(h.text);)S||(S=new ne(X.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),u.push(new kt(c+b.index,c+b.index+b[0].length,S))}}c=m}if(!i.validEnd){let d=i.fillBefore(X.empty,!0);t.replace(c,c,new ne(d,0,0))}for(let d=u.length-1;d>=0;d--)t.step(u[d])}function cN(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ps(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth,s=0,o=0;;--i){let u=t.$from.node(i),c=t.$from.index(i)+s,d=t.$to.indexAfter(i)-o;if(i<t.depth&&u.canReplace(c,d,n))return i;if(i==0||u.type.spec.isolating||!cN(u,c,d))break;c&&(s=1),d<u.childCount&&(o=1)}return null}function fN(t,e,n){let{$from:i,$to:s,depth:o}=e,u=i.before(o+1),c=s.after(o+1),d=u,h=c,m=X.empty,y=0;for(let S=o,E=!1;S>n;S--)E||i.index(S)>0?(E=!0,m=X.from(i.node(S).copy(m)),y++):d--;let b=X.empty,v=0;for(let S=o,E=!1;S>n;S--)E||s.after(S+1)<s.end(S)?(E=!0,b=X.from(s.node(S).copy(b)),v++):h++;t.step(new Nt(d,h,u,c,new ne(m.append(b),y,v),m.size-y,!0))}function Um(t,e,n=null,i=t){let s=dN(t,e),o=s&&hN(i,e);return o?s.map(tx).concat({type:e,attrs:n}).concat(o.map(tx)):null}function tx(t){return{type:t,attrs:null}}function dN(t,e){let{parent:n,startIndex:i,endIndex:s}=t,o=n.contentMatchAt(i).findWrapping(e);if(!o)return null;let u=o.length?o[0]:e;return n.canReplaceWith(i,s,u)?o:null}function hN(t,e){let{parent:n,startIndex:i,endIndex:s}=t,o=n.child(i),u=e.contentMatch.findWrapping(o.type);if(!u)return null;let d=(u.length?u[u.length-1]:e).contentMatch;for(let h=i;d&&h<s;h++)d=d.matchType(n.child(h).type);return!d||!d.validEnd?null:u}function pN(t,e,n){let i=X.empty;for(let u=n.length-1;u>=0;u--){if(i.size){let c=n[u].type.contentMatch.matchFragment(i);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=X.from(n[u].type.create(n[u].attrs,i))}let s=e.start,o=e.end;t.step(new Nt(s,o,s,o,new ne(i,0,0),n.length,!0))}function mN(t,e,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(u,c)=>{let d=typeof s=="function"?s(u):s;if(u.isTextblock&&!u.hasMarkup(i,d)&&gN(t.doc,t.mapping.slice(o).map(c),i)){let h=null;if(i.schema.linebreakReplacement){let v=i.whitespace=="pre",S=!!i.contentMatch.matchType(i.schema.linebreakReplacement);v&&!S?h=!1:!v&&S&&(h=!0)}h===!1&&ES(t,u,c,o),Hm(t,t.mapping.slice(o).map(c,1),i,void 0,h===null);let m=t.mapping.slice(o),y=m.map(c,1),b=m.map(c+u.nodeSize,1);return t.step(new Nt(y,b,y+1,b-1,new ne(X.from(i.create(d,null,u.marks)),0,0),1,!0)),h===!0&&SS(t,u,c,o),!1}})}function SS(t,e,n,i){e.forEach((s,o)=>{if(s.isText){let u,c=/\r?\n|\r/g;for(;u=c.exec(s.text);){let d=t.mapping.slice(i).map(n+1+o+u.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function ES(t,e,n,i){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let u=t.mapping.slice(i).map(n+1+o);t.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function gN(t,e,n){let i=t.resolve(e),s=i.index();return i.parent.canReplaceWith(s,s+1,n)}function yN(t,e,n,i,s){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let u=n.create(i,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,u);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Nt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ne(X.from(u),0,0),1,!0))}function Yr(t,e,n=1,i){let s=t.resolve(e),o=s.depth-n,u=i&&i[i.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!u.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=n-2;h>o;h--,m--){let y=s.node(h),b=s.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(b,y.childCount),S=i&&i[m+1];S&&(v=v.replaceChild(0,S.type.create(S.attrs)));let E=i&&i[m]||y;if(!y.canReplace(b+1,y.childCount)||!E.type.validContent(v))return!1}let c=s.indexAfter(o),d=i&&i[0];return s.node(o).canReplaceWith(c,c,d?d.type:s.node(o+1).type)}function bN(t,e,n=1,i){let s=t.doc.resolve(e),o=X.empty,u=X.empty;for(let c=s.depth,d=s.depth-n,h=n-1;c>d;c--,h--){o=X.from(s.node(c).copy(o));let m=i&&i[h];u=X.from(m?m.type.create(m.attrs,u):s.node(c).copy(u))}t.step(new kt(e,e,new ne(o.append(u),n,n),!0))}function qi(t,e){let n=t.resolve(e),i=n.index();return TS(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function vN(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),u=o.type==i?t.type.schema.nodes.text:o.type;if(n=n.matchType(u),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function TS(t,e){return!!(t&&e&&!t.isLeaf&&vN(t,e))}function Af(t,e,n=-1){let i=t.resolve(e);for(let s=i.depth;;s--){let o,u,c=i.index(s);if(s==i.depth?(o=i.nodeBefore,u=i.nodeAfter):n>0?(o=i.node(s+1),c++,u=i.node(s).maybeChild(c)):(o=i.node(s).maybeChild(c-1),u=i.node(s+1)),o&&!o.isTextblock&&TS(o,u)&&i.node(s).canReplace(c,c+1))return e;if(s==0)break;e=n<0?i.before(s):i.after(s)}}function xN(t,e,n){let i=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-n),u=o.node().type;if(s&&u.inlineContent){let m=u.whitespace=="pre",y=!!u.contentMatch.matchType(s);m&&!y?i=!1:!m&&y&&(i=!0)}let c=t.steps.length;if(i===!1){let m=t.doc.resolve(e+n);ES(t,m.node(),m.before(),c)}u.inlineContent&&Hm(t,e+n-1,u,o.node().contentMatchAt(o.index()),i==null);let d=t.mapping.slice(c),h=d.map(e-n);if(t.step(new kt(h,d.map(e+n,-1),ne.empty,!0)),i===!0){let m=t.doc.resolve(h);SS(t,m.node(),m.before(),t.steps.length)}return t}function SN(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let o=i.index(s);if(i.node(s).canReplaceWith(o,o,n))return i.before(s+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let o=i.indexAfter(s);if(i.node(s).canReplaceWith(o,o,n))return i.after(s+1);if(o<i.node(s).childCount)return null}return null}function MS(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let o=0;o<n.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let u=i.depth;u>=0;u--){let c=u==i.depth?0:i.pos<=(i.start(u+1)+i.end(u+1))/2?-1:1,d=i.index(u)+(c>0?1:0),h=i.node(u),m=!1;if(o==1)m=h.canReplace(d,d,s);else{let y=h.contentMatchAt(d).findWrapping(s.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return c==0?i.pos:c<0?i.before(u+1):i.after(u+1)}return null}function wf(t,e,n=e,i=ne.empty){if(e==n&&!i.size)return null;let s=t.resolve(e),o=t.resolve(n);return CS(s,o,i)?new kt(e,n,i):new EN(s,o,i).fit()}function CS(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class EN{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=X.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=X.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(e<0?this.$to:i.doc.resolve(e));if(!s)return null;let o=this.placed,u=i.depth,c=s.depth;for(;u&&c&&o.childCount==1;)o=o.firstChild.content,u--,c--;let d=new ne(o,u,c);return e>-1?new Nt(i.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||i.pos!=this.$to.pos?new kt(i.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<e;i++){let o=n.firstChild;if(n.childCount>1&&(s=0),o.type.spec.isolating&&s<=i){e=i;break}n=o.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let s,o=null;i?(o=vp(this.unplaced.content,i-1).firstChild,s=o.content):s=this.unplaced.content;let u=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:h}=this.frontier[c],m,y=null;if(n==1&&(u?h.matchType(u.type)||(y=h.fillBefore(X.from(u),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:c,parent:o,inject:y};if(n==2&&u&&(m=h.findWrapping(u.type)))return{sliceDepth:i,frontierDepth:c,parent:o,wrap:m};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=vp(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ne(e,n+1,Math.max(i,s.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=vp(e,n);if(s.childCount<=1&&n>0){let o=e.size-n<=n+s.size;this.unplaced=new ne(ta(e,n-1,1),n-1,o?n-1:i)}else this.unplaced=new ne(ta(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:s,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let E=0;E<o.length;E++)this.openFrontierNode(o[E]);let u=this.unplaced,c=i?i.content:u.content,d=u.openStart-e,h=0,m=[],{match:y,type:b}=this.frontier[n];if(s){for(let E=0;E<s.childCount;E++)m.push(s.child(E));y=y.matchFragment(s)}let v=c.size+e-(u.content.size-u.openEnd);for(;h<c.childCount;){let E=c.child(h),T=y.matchType(E.type);if(!T)break;h++,(h>1||d==0||E.content.size)&&(y=T,m.push(AS(E.mark(b.allowedMarks(E.marks)),h==1?d:0,h==c.childCount?v:-1)))}let S=h==c.childCount;S||(v=-1),this.placed=na(this.placed,n,X.from(m)),this.frontier[n].match=y,S&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,T=c;E<v;E++){let A=T.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),T=A.content}this.unplaced=S?e==0?ne.empty:new ne(ta(u.content,e-1,1),e-1,v<0?u.openEnd:e-1):new ne(ta(u.content,e,h),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!xp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:s}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),u=xp(e,n,s,i,o);if(u){for(let c=n-1;c>=0;c--){let{match:d,type:h}=this.frontier[c],m=xp(e,c,h,d,!0);if(!m||m.childCount)continue e}return{depth:n,fit:u,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=na(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let s=e.node(i),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(i));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,n=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=na(this.placed,this.depth,X.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(X.empty,!0);n.childCount&&(this.placed=na(this.placed,this.frontier.length,n))}}function ta(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ta(t.firstChild.content,e-1,n)))}function na(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(na(t.lastChild.content,e-1,n)))}function vp(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function AS(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,AS(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(X.empty,!0)))),t.copy(i)}function xp(t,e,n,i,s){let o=t.node(e),u=s?t.indexAfter(e):t.index(e);if(u==o.childCount&&!n.compatibleContent(o.type))return null;let c=i.fillBefore(o.content,!0,u);return c&&!TN(n,o.content,u)?c:null}function TN(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function MN(t){return t.spec.defining||t.spec.definingForContent}function CN(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),o=t.doc.resolve(n);if(CS(s,o,i))return t.step(new kt(e,n,i));let u=kS(s,o);u[u.length-1]==0&&u.pop();let c=-(s.depth+1);u.unshift(c);for(let b=s.depth,v=s.pos-1;b>0;b--,v--){let S=s.node(b).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;u.indexOf(b)>-1?c=b:s.before(b)==v&&u.splice(1,0,-b)}let d=u.indexOf(c),h=[],m=i.openStart;for(let b=i.content,v=0;;v++){let S=b.firstChild;if(h.push(S),v==i.openStart)break;b=S.content}for(let b=m-1;b>=0;b--){let v=h[b],S=MN(v.type);if(S&&!v.sameMarkup(s.node(Math.abs(c)-1)))m=b;else if(S||!v.type.isTextblock)break}for(let b=i.openStart;b>=0;b--){let v=(b+m+1)%(i.openStart+1),S=h[v];if(S)for(let E=0;E<u.length;E++){let T=u[(E+d)%u.length],A=!0;T<0&&(A=!1,T=-T);let _=s.node(T-1),B=s.index(T-1);if(_.canReplaceWith(B,B,S.type,S.marks))return t.replace(s.before(T),A?o.after(T):n,new ne(wS(i.content,0,i.openStart,v),v,i.openEnd))}}let y=t.steps.length;for(let b=u.length-1;b>=0&&(t.replace(e,n,i),!(t.steps.length>y));b--){let v=u[b];v<0||(e=s.before(v),n=o.after(v))}}function wS(t,e,n,i,s){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(wS(o.content,e+1,n,i,o)))}if(e>i){let o=s.contentMatchAt(0),u=o.fillBefore(t).append(t);t=u.append(o.matchFragment(u).fillBefore(X.empty,!0))}return t}function AN(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=SN(t.doc,e,i.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ne(X.from(i),0,0))}function wN(t,e,n){let i=t.doc.resolve(e),s=t.doc.resolve(n),o=kS(i,s);for(let u=0;u<o.length;u++){let c=o[u],d=u==o.length-1;if(d&&c==0||i.node(c).type.contentMatch.validEnd)return t.delete(i.start(c),s.end(c));if(c>0&&(d||i.node(c-1).canReplace(i.index(c-1),s.indexAfter(c-1))))return t.delete(i.before(c),s.after(c))}for(let u=1;u<=i.depth&&u<=s.depth;u++)if(e-i.start(u)==i.depth-u&&n>i.end(u)&&s.end(u)-n!=s.depth-u&&i.start(u-1)==s.start(u-1)&&i.node(u-1).canReplace(i.index(u-1),s.index(u-1)))return t.delete(i.before(u),n);t.delete(e,n)}function kS(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let s=i;s>=0;s--){let o=t.start(s);if(o<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&n.push(s)}return n}class ks extends Gt{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at attribute step's position");let i=Object.create(null);for(let o in n.attrs)i[o]=n.attrs[o];i[this.attr]=this.value;let s=n.type.create(i,null,n.marks);return xt.fromReplace(e,this.pos,this.pos+1,new ne(X.from(s),0,n.isLeaf?0:1))}getMap(){return vn.empty}invert(e){return new ks(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ks(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ks(n.pos,n.attr,n.value)}}Gt.jsonID("attr",ks);class Sa extends Gt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return xt.ok(i)}getMap(){return vn.empty}invert(e){return new Sa(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Sa(n.attr,n.value)}}Gt.jsonID("docAttr",Sa);let Ds=class extends Error{};Ds=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ds.prototype=Object.create(Error.prototype);Ds.prototype.constructor=Ds;Ds.prototype.name="TransformError";class NS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new xa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ds(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let i=0;i<this.mapping.maps.length;i++){let s=this.mapping.maps[i];i&&(e=s.map(e,1),n=s.map(n,-1)),s.forEach((o,u,c,d)=>{e=Math.min(e,c),n=Math.max(n,d)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=ne.empty){let s=wf(this.doc,e,n,i);return s&&this.step(s),this}replaceWith(e,n,i){return this.replace(e,n,new ne(X.from(i),0,0))}delete(e,n){return this.replace(e,n,ne.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return CN(this,e,n,i),this}replaceRangeWith(e,n,i){return AN(this,e,n,i),this}deleteRange(e,n){return wN(this,e,n),this}lift(e,n){return fN(this,e,n),this}join(e,n=1){return xN(this,e,n),this}wrap(e,n){return pN(this,e,n),this}setBlockType(e,n=e,i,s=null){return mN(this,e,n,i,s),this}setNodeMarkup(e,n,i=null,s){return yN(this,e,n,i,s),this}setNodeAttribute(e,n,i){return this.step(new ks(e,n,i)),this}setDocAttribute(e,n){return this.step(new Sa(e,n)),this}addNodeMark(e,n){return this.step(new _i(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof Ke)n.isInSet(i.marks)&&this.step(new wl(e,n));else{let s=i.marks,o,u=[];for(;o=n.isInSet(s);)u.push(new wl(e,o)),s=o.removeFromSet(s);for(let c=u.length-1;c>=0;c--)this.step(u[c])}return this}split(e,n=1,i){return bN(this,e,n,i),this}addMark(e,n,i){return aN(this,e,n,i),this}removeMark(e,n,i){return uN(this,e,n,i),this}clearIncompatible(e,n,i){return Hm(this,e,n,i),this}}const Sp=Object.create(null);class Ce{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new kN(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ne.empty){let i=n.content.lastChild,s=null;for(let c=0;c<n.openEnd;c++)s=i,i=i.lastChild;let o=e.steps.length,u=this.ranges;for(let c=0;c<u.length;c++){let{$from:d,$to:h}=u[c],m=e.mapping.slice(o);e.replaceRange(m.map(d.pos),m.map(h.pos),c?ne.empty:n),c==0&&ix(e,o,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:u,$to:c}=s[o],d=e.mapping.slice(i),h=d.map(u.pos),m=d.map(c.pos);o?e.deleteRange(h,m):(e.replaceRangeWith(h,m,n),ix(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let s=e.parent.inlineContent?new ye(e):Ts(e.node(0),e.parent,e.pos,e.index(),n,i);if(s)return s;for(let o=e.depth-1;o>=0;o--){let u=n<0?Ts(e.node(0),e.node(o),e.before(o+1),e.index(o),n,i):Ts(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,i);if(u)return u}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new xn(e.node(0))}static atStart(e){return Ts(e,e,0,0,1)||new xn(e)}static atEnd(e){return Ts(e,e,e.content.size,e.childCount,-1)||new xn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Sp[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Sp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Sp[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ye.between(this.$anchor,this.$head).getBookmark()}}Ce.prototype.visible=!0;class kN{constructor(e,n){this.$from=e,this.$to=n}}let nx=!1;function rx(t){!nx&&!t.parent.inlineContent&&(nx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ye extends Ce{constructor(e,n=e){rx(e),rx(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return Ce.near(i);let s=e.resolve(n.map(this.anchor));return new ye(s.parent.inlineContent?s:i,i)}replace(e,n=ne.empty){if(super.replace(e,n),n==ne.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new kf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ye(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let s=e.resolve(n);return new this(s,i==n?s:e.resolve(i))}static between(e,n,i){let s=e.pos-n.pos;if((!i||s)&&(i=s>=0?1:-1),!n.parent.inlineContent){let o=Ce.findFrom(n,i,!0)||Ce.findFrom(n,-i,!0);if(o)n=o.$head;else return Ce.near(n,i)}return e.parent.inlineContent||(s==0?e=n:(e=(Ce.findFrom(e,-i,!0)||Ce.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new ye(e,n)}}Ce.jsonID("text",ye);class kf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new kf(e.map(this.anchor),e.map(this.head))}resolve(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends Ce{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:s}=n.mapResult(this.anchor),o=e.resolve(s);return i?Ce.near(o):new pe(o)}content(){return new ne(X.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Im(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(n.anchor))}static create(e,n){return new pe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1;Ce.jsonID("node",pe);class Im{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new kf(i,i):new Im(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&pe.isSelectable(i)?new pe(n):Ce.near(n)}}class xn extends Ce{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ne.empty){if(n==ne.empty){e.delete(0,e.doc.content.size);let i=Ce.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new xn(e)}map(e){return new xn(e)}eq(e){return e instanceof xn}getBookmark(){return NN}}Ce.jsonID("all",xn);const NN={map(){return this},resolve(t){return new xn(t)}};function Ts(t,e,n,i,s,o=!1){if(e.inlineContent)return ye.create(t,n);for(let u=i-(s>0?0:1);s>0?u<e.childCount:u>=0;u+=s){let c=e.child(u);if(c.isAtom){if(!o&&pe.isSelectable(c))return pe.create(t,n-(s<0?c.nodeSize:0))}else{let d=Ts(t,c,n+s,s<0?c.childCount:0,s,o);if(d)return d}n+=c.nodeSize*s}return null}function ix(t,e,n){let i=t.steps.length-1;if(i<e)return;let s=t.steps[i];if(!(s instanceof kt||s instanceof Nt))return;let o=t.mapping.maps[i],u;o.forEach((c,d,h,m)=>{u==null&&(u=m)}),t.setSelection(Ce.near(t.doc.resolve(u),n))}const lx=1,fc=2,sx=4;class ON extends NS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|lx)&~fc,this.storedMarks=null,this}get selectionSet(){return(this.updated&lx)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=fc,this}ensureMarks(e){return Ke.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&fc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~fc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Ke.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),!e)return this.deleteRange(n,i);let o=this.storedMarks;if(!o){let u=this.doc.resolve(n);o=i==n?u.marks():u.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,s.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Ce.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=sx,this}get scrolledIntoView(){return(this.updated&sx)>0}}function ox(t,e){return!e||!t?t:t.bind(e)}class ra{constructor(e,n,i){this.name=e,this.init=ox(n.init,i),this.apply=ox(n.apply,i)}}const RN=[new ra("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ra("selection",{init(t,e){return t.selection||Ce.atStart(e.doc)},apply(t){return t.selection}}),new ra("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new ra("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ep{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=RN.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new ra(i.key,i.spec.state,i))})}}class ws{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),s=null;for(;;){let o=!1;for(let u=0;u<this.config.plugins.length;u++){let c=this.config.plugins[u];if(c.spec.appendTransaction){let d=s?s[u].n:0,h=s?s[u].state:this,m=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,h,i);if(m&&i.filterTransaction(m,u)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let y=0;y<this.config.plugins.length;y++)s.push(y<u?{state:i,n:n.length}:{state:this,n:0})}n.push(m),i=i.applyInner(m),o=!0}s&&(s[u]={state:i,n:n.length})}}if(!o)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ws(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let o=i[s];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new ON(this)}static create(e){let n=new Ep(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new ws(n);for(let s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(e,i);return i}reconfigure(e){let n=new Ep(this.schema,e.plugins),i=n.fields,s=new ws(n);for(let o=0;o<i.length;o++){let u=i[o].name;s[u]=this.hasOwnProperty(u)?this[u]:i[o].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[i],o=s.spec.state;o&&o.toJSON&&(n[i]=o.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Ep(e.schema,e.plugins),o=new ws(s);return s.fields.forEach(u=>{if(u.name=="doc")o.doc=Wn.fromJSON(e.schema,n.doc);else if(u.name=="selection")o.selection=Ce.fromJSON(o.doc,n.selection);else if(u.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let c in i){let d=i[c],h=d.spec.state;if(d.key==u.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){o[u.name]=h.fromJSON.call(d,e,n[c],o);return}}o[u.name]=u.init(e,o)}}),o}}function OS(t,e,n){for(let i in t){let s=t[i];s instanceof Function?s=s.bind(e):i=="handleDOMEvents"&&(s=OS(s,e,{})),n[i]=s}return n}class it{constructor(e){this.spec=e,this.props={},e.props&&OS(e.props,this,this.props),this.key=e.key?e.key.key:RS("plugin")}getState(e){return e[this.key]}}const Tp=Object.create(null);function RS(t){return t in Tp?t+"$"+ ++Tp[t]:(Tp[t]=0,t+"$")}class Mt{constructor(e="key"){this.key=RS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Pm=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function DS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const _S=(t,e,n)=>{let i=DS(t,n);if(!i)return!1;let s=Vm(i);if(!s){let u=i.blockRange(),c=u&&Ps(u);return c==null?!1:(e&&e(t.tr.lift(u,c).scrollIntoView()),!0)}let o=s.nodeBefore;if(VS(t,s,e,-1))return!0;if(i.parent.content.size==0&&(_s(o,"end")||pe.isSelectable(o)))for(let u=i.depth;;u--){let c=wf(t.doc,i.before(u),i.after(u),ne.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(_s(o,"end")?Ce.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):pe.create(d.doc,s.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(u==1||i.node(u-1).childCount>1)break}return o.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},DN=(t,e,n)=>{let i=DS(t,n);if(!i)return!1;let s=Vm(i);return s?LS(t,s,e):!1},_N=(t,e,n)=>{let i=BS(t,n);if(!i)return!1;let s=qm(i);return s?LS(t,s,e):!1};function LS(t,e,n){let i=e.nodeBefore,s=i,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let u=e.nodeAfter,c=u,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let h=wf(t.doc,o,d,ne.empty);if(!h||h.from!=o||h instanceof kt&&h.slice.size>=d-o)return!1;if(n){let m=t.tr.step(h);m.setSelection(ye.create(m.doc,o)),n(m.scrollIntoView())}return!0}function _s(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const zS=(t,e,n)=>{let{$head:i,empty:s}=t.selection,o=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;o=Vm(i)}let u=o&&o.nodeBefore;return!u||!pe.isSelectable(u)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos-u.nodeSize)).scrollIntoView()),!0)};function Vm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function BS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const jS=(t,e,n)=>{let i=BS(t,n);if(!i)return!1;let s=qm(i);if(!s)return!1;let o=s.nodeAfter;if(VS(t,s,e,1))return!0;if(i.parent.content.size==0&&(_s(o,"start")||pe.isSelectable(o))){let u=wf(t.doc,i.before(),i.after(),ne.empty);if(u&&u.slice.size<u.to-u.from){if(e){let c=t.tr.step(u);c.setSelection(_s(o,"start")?Ce.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):pe.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},HS=(t,e,n)=>{let{$head:i,empty:s}=t.selection,o=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;o=qm(i)}let u=o&&o.nodeAfter;return!u||!pe.isSelectable(u)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos)).scrollIntoView()),!0)};function qm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const LN=(t,e)=>{let n=t.selection,i=n instanceof pe,s;if(i){if(n.node.isTextblock||!qi(t.doc,n.from))return!1;s=n.from}else if(s=Af(t.doc,n.from,-1),s==null)return!1;if(e){let o=t.tr.join(s);i&&o.setSelection(pe.create(o.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},zN=(t,e)=>{let n=t.selection,i;if(n instanceof pe){if(n.node.isTextblock||!qi(t.doc,n.to))return!1;i=n.to}else if(i=Af(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},BN=(t,e)=>{let{$from:n,$to:i}=t.selection,s=n.blockRange(i),o=s&&Ps(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},US=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Gm(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const jN=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let s=n.node(-1),o=n.indexAfter(-1),u=Gm(s.contentMatchAt(o));if(!u||!s.canReplaceWith(o,o,u))return!1;if(e){let c=n.after(),d=t.tr.replaceWith(c,c,u.createAndFill());d.setSelection(Ce.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},IS=(t,e)=>{let n=t.selection,{$from:i,$to:s}=n;if(n instanceof xn||i.parent.inlineContent||s.parent.inlineContent)return!1;let o=Gm(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let u=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,c=t.tr.insert(u,o.createAndFill());c.setSelection(ye.create(c.doc,u+1)),e(c.scrollIntoView())}return!0},PS=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Yr(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let i=n.blockRange(),s=i&&Ps(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)};function HN(t){return(e,n)=>{let{$from:i,$to:s}=e.selection;if(e.selection instanceof pe&&e.selection.node.isBlock)return!i.parentOffset||!Yr(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let o=[],u,c,d=!1,h=!1;for(let v=i.depth;;v--)if(i.node(v).isBlock){d=i.end(v)==i.pos+(i.depth-v),h=i.start(v)==i.pos-(i.depth-v),c=Gm(i.node(v-1).contentMatchAt(i.indexAfter(v-1))),o.unshift(d&&c?{type:c}:null),u=v;break}else{if(v==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof ye||e.selection instanceof xn)&&m.deleteSelection();let y=m.mapping.map(i.pos),b=Yr(m.doc,y,o.length,o);if(b||(o[0]=c?{type:c}:null,b=Yr(m.doc,y,o.length,o)),!b)return!1;if(m.split(y,o.length,o),!d&&h&&i.node(u).type!=c){let v=m.mapping.map(i.before(u)),S=m.doc.resolve(v);c&&i.node(u-1).canReplaceWith(S.index(),S.index()+1,c)&&m.setNodeMarkup(m.mapping.map(i.before(u)),c)}return n&&n(m.scrollIntoView()),!0}}const UN=HN(),IN=(t,e)=>{let{$from:n,to:i}=t.selection,s,o=n.sharedDepth(i);return o==0?!1:(s=n.before(o),e&&e(t.tr.setSelection(pe.create(t.doc,s))),!0)};function PN(t,e,n){let i=e.nodeBefore,s=e.nodeAfter,o=e.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||qi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function VS(t,e,n,i){let s=e.nodeBefore,o=e.nodeAfter,u,c,d=s.type.spec.isolating||o.type.spec.isolating;if(!d&&PN(t,e,n))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(u=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(u[0]||o.type).validEnd){if(n){let v=e.pos+o.nodeSize,S=X.empty;for(let A=u.length-1;A>=0;A--)S=X.from(u[A].create(null,S));S=X.from(s.copy(S));let E=t.tr.step(new Nt(e.pos-1,v,e.pos,v,new ne(S,1,0),u.length,!0)),T=E.doc.resolve(v+2*u.length);T.nodeAfter&&T.nodeAfter.type==s.type&&qi(E.doc,T.pos)&&E.join(T.pos),n(E.scrollIntoView())}return!0}let m=o.type.spec.isolating||i>0&&d?null:Ce.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),b=y&&Ps(y);if(b!=null&&b>=e.depth)return n&&n(t.tr.lift(y,b).scrollIntoView()),!0;if(h&&_s(o,"start",!0)&&_s(s,"end")){let v=s,S=[];for(;S.push(v),!v.isTextblock;)v=v.lastChild;let E=o,T=1;for(;!E.isTextblock;E=E.firstChild)T++;if(v.canReplace(v.childCount,v.childCount,E.content)){if(n){let A=X.empty;for(let B=S.length-1;B>=0;B--)A=X.from(S[B].copy(A));let _=t.tr.step(new Nt(e.pos-S.length,e.pos+o.nodeSize,e.pos+T,e.pos+o.nodeSize-T,new ne(A,S.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function qS(t){return function(e,n){let i=e.selection,s=t<0?i.$from:i.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(n&&n(e.tr.setSelection(ye.create(e.doc,t<0?s.start(o):s.end(o)))),!0):!1}}const VN=qS(-1),qN=qS(1);function GN(t,e=null){return function(n,i){let{$from:s,$to:o}=n.selection,u=s.blockRange(o),c=u&&Um(u,t,e);return c?(i&&i(n.tr.wrap(u,c).scrollIntoView()),!0):!1}}function ax(t,e=null){return function(n,i){let s=!1;for(let o=0;o<n.selection.ranges.length&&!s;o++){let{$from:{pos:u},$to:{pos:c}}=n.selection.ranges[o];n.doc.nodesBetween(u,c,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let m=n.doc.resolve(h),y=m.index();s=m.parent.canReplaceWith(y,y+1,t)}})}if(!s)return!1;if(i){let o=n.tr;for(let u=0;u<n.selection.ranges.length;u++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[u];o.setBlockType(c,d,t,e)}i(o.scrollIntoView())}return!0}}function $m(...t){return function(e,n,i){for(let s=0;s<t.length;s++)if(t[s](e,n,i))return!0;return!1}}$m(Pm,_S,zS);$m(Pm,jS,HS);$m(US,IS,PS,UN);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function $N(t,e=null){return function(n,i){let{$from:s,$to:o}=n.selection,u=s.blockRange(o);if(!u)return!1;let c=i?n.tr:null;return FN(c,u,t,e)?(i&&i(c.scrollIntoView()),!0):!1}}function FN(t,e,n,i=null){let s=!1,o=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=u.resolve(e.start-2);o=new zc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new zc(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=Um(o,n,i,e);return c?(t&&YN(t,e,c,s,n),!0):!1}function YN(t,e,n,i,s){let o=X.empty;for(let m=n.length-1;m>=0;m--)o=X.from(n[m].type.create(n[m].attrs,o));t.step(new Nt(e.start-(i?2:0),e.end,e.start,e.end,new ne(o,0,0),n.length,!0));let u=0;for(let m=0;m<n.length;m++)n[m].type==s&&(u=m+1);let c=n.length-u,d=e.start+n.length-(i?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,b=!0;m<y;m++,b=!1)!b&&Yr(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=h.child(m).nodeSize;return t}function KN(t){return function(e,n){let{$from:i,$to:s}=e.selection,o=i.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);return o?n?i.node(o.depth-1).type==t?XN(e,n,t,o):JN(e,n,o):!0:!1}}function XN(t,e,n,i){let s=t.tr,o=i.end,u=i.$to.end(i.depth);o<u&&(s.step(new Nt(o-1,u,o,u,new ne(X.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new zc(s.doc.resolve(i.$from.pos),s.doc.resolve(u),i.depth));const c=Ps(i);if(c==null)return!1;s.lift(i,c);let d=s.doc.resolve(s.mapping.map(o,-1)-1);return qi(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function JN(t,e,n){let i=t.tr,s=n.parent;for(let v=n.end,S=n.endIndex-1,E=n.startIndex;S>E;S--)v-=s.child(S).nodeSize,i.delete(v-1,v+1);let o=i.doc.resolve(n.start),u=o.nodeAfter;if(i.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==s.childCount,h=o.node(-1),m=o.index(-1);if(!h.canReplace(m+(c?0:1),m+1,u.content.append(d?X.empty:X.from(s))))return!1;let y=o.pos,b=y+u.nodeSize;return i.step(new Nt(y-(c?1:0),b+(d?1:0),y+1,b-1,new ne((c?X.empty:X.from(s.copy(X.empty))).append(d?X.empty:X.from(s.copy(X.empty))),c?0:1,d?0:1),c?0:1)),e(i.scrollIntoView()),!0}function QN(t){return function(e,n){let{$from:i,$to:s}=e.selection,o=i.blockRange(s,h=>h.childCount>0&&h.firstChild.type==t);if(!o)return!1;let u=o.startIndex;if(u==0)return!1;let c=o.parent,d=c.child(u-1);if(d.type!=t)return!1;if(n){let h=d.lastChild&&d.lastChild.type==c.type,m=X.from(h?t.create():null),y=new ne(X.from(t.create(null,X.from(c.type.create(null,m)))),h?3:1,0),b=o.start,v=o.end;n(e.tr.step(new Nt(b-(h?3:1),v,b,v,y,1,!0)).scrollIntoView())}return!0}}const Ht=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ls=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let im=null;const Gr=function(t,e,n){let i=im||(im=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},WN=function(){im=null},kl=function(t,e,n,i){return n&&(ux(t,e,n,i,-1)||ux(t,e,n,i,1))},ZN=/^(img|br|input|textarea|hr)$/i;function ux(t,e,n,i,s){for(var o;;){if(t==n&&e==i)return!0;if(e==(s<0?0:Hn(t))){let u=t.parentNode;if(!u||u.nodeType!=1||_a(t)||ZN.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ht(t)+(s<0?0:1),t=u}else if(t.nodeType==1){let u=t.childNodes[e+(s<0?-1:0)];if(u.nodeType==1&&u.contentEditable=="false")if(!((o=u.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else t=u,e=s<0?Hn(t):0}else return!1}}function Hn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function eO(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Hn(t)}else if(t.parentNode&&!_a(t))e=Ht(t),t=t.parentNode;else return null}}function tO(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!_a(t))e=Ht(t)+1,t=t.parentNode;else return null}}function nO(t,e,n){for(let i=e==0,s=e==Hn(t);i||s;){if(t==n)return!0;let o=Ht(t);if(t=t.parentNode,!t)return!1;i=i&&o==0,s=s&&o==Hn(t)}}function _a(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Nf=function(t){return t.focusNode&&kl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ml(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function rO(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function iO(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Hn(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Hn(i.startContainer),i.startOffset)}}}const cr=typeof navigator<"u"?navigator:null,cx=typeof document<"u"?document:null,Gi=cr&&cr.userAgent||"",lm=/Edge\/(\d+)/.exec(Gi),GS=/MSIE \d/.exec(Gi),sm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Gi),un=!!(GS||sm||lm),Bi=GS?document.documentMode:sm?+sm[1]:lm?+lm[1]:0,Un=!un&&/gecko\/(\d+)/i.test(Gi);Un&&+(/Firefox\/(\d+)/.exec(Gi)||[0,0])[1];const om=!un&&/Chrome\/(\d+)/.exec(Gi),It=!!om,$S=om?+om[1]:0,qt=!un&&!!cr&&/Apple Computer/.test(cr.vendor),zs=qt&&(/Mobile\/\w+/.test(Gi)||!!cr&&cr.maxTouchPoints>2),jn=zs||(cr?/Mac/.test(cr.platform):!1),FS=cr?/Win/.test(cr.platform):!1,$r=/Android \d/.test(Gi),La=!!cx&&"webkitFontSmoothing"in cx.documentElement.style,lO=La?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function sO(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ir(t,e){return typeof t=="number"?t:t[e]}function oO(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function fx(t,e,n){let i=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let u=n||t.dom;u;){if(u.nodeType!=1){u=Ls(u);continue}let c=u,d=c==o.body,h=d?sO(o):oO(c),m=0,y=0;if(e.top<h.top+Ir(i,"top")?y=-(h.top-e.top+Ir(s,"top")):e.bottom>h.bottom-Ir(i,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+Ir(s,"top")-h.top:e.bottom-h.bottom+Ir(s,"bottom")),e.left<h.left+Ir(i,"left")?m=-(h.left-e.left+Ir(s,"left")):e.right>h.right-Ir(i,"right")&&(m=e.right-h.right+Ir(s,"right")),m||y)if(d)o.defaultView.scrollBy(m,y);else{let v=c.scrollLeft,S=c.scrollTop;y&&(c.scrollTop+=y),m&&(c.scrollLeft+=m);let E=c.scrollLeft-v,T=c.scrollTop-S;e={left:e.left-E,top:e.top-T,right:e.right-E,bottom:e.bottom-T}}let b=d?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(b))break;u=b=="absolute"?u.offsetParent:Ls(u)}}function aO(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,s;for(let o=(e.left+e.right)/2,u=n+1;u<Math.min(innerHeight,e.bottom);u+=5){let c=t.root.elementFromPoint(o,u);if(!c||c==t.dom||!t.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){i=c,s=d.top;break}}return{refDOM:i,refTop:s,stack:YS(t.dom)}}function YS(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=Ls(i));return e}function uO({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;KS(n,i==0?0:i-e)}function KS(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:s,left:o}=t[n];i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=o&&(i.scrollLeft=o)}}let Ss=null;function cO(t){if(t.setActive)return t.setActive();if(Ss)return t.focus(Ss);let e=YS(t);t.focus(Ss==null?{get preventScroll(){return Ss={preventScroll:!0},!0}}:void 0),Ss||(Ss=!1,KS(e,0))}function XS(t,e){let n,i=2e8,s,o=0,u=e.top,c=e.top,d,h;for(let m=t.firstChild,y=0;m;m=m.nextSibling,y++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=Gr(m).getClientRects();else continue;for(let v=0;v<b.length;v++){let S=b[v];if(S.top<=u&&S.bottom>=c){u=Math.max(S.bottom,u),c=Math.min(S.top,c);let E=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(E<i){n=m,i=E,s=E&&n.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,m.nodeType==1&&E&&(o=y+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=m,h={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!n&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(o=y+1)}}return!n&&d&&(n=d,s=h,i=0),n&&n.nodeType==3?fO(n,s):!n||i&&n.nodeType==1?{node:t,offset:o}:XS(n,s)}function fO(t,e){let n=t.nodeValue.length,i=document.createRange(),s;for(let o=0;o<n;o++){i.setEnd(t,o+1),i.setStart(t,o);let u=Ci(i,1);if(u.top!=u.bottom&&Fm(e,u)){s={node:t,offset:o+(e.left>=(u.left+u.right)/2?1:0)};break}}return i.detach(),s||{node:t,offset:0}}function Fm(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function dO(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function hO(t,e,n){let{node:i,offset:s}=XS(e,n),o=-1;if(i.nodeType==1&&!i.firstChild){let u=i.getBoundingClientRect();o=u.left!=u.right&&n.left>(u.left+u.right)/2?1:-1}return t.docView.posFromDOM(i,s,o)}function pO(t,e,n,i){let s=-1;for(let o=e,u=!1;o!=t.dom;){let c=t.docView.nearestDesc(o,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!u&&d.left>i.left||d.top>i.top?s=c.posBefore:(!u&&d.right<i.left||d.bottom<i.top)&&(s=c.posAfter),u=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?i.top<(d.top+d.bottom)/2:i.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function JS(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let u=t.childNodes[o];if(u.nodeType==1){let c=u.getClientRects();for(let d=0;d<c.length;d++){let h=c[d];if(Fm(e,h))return JS(u,e,h)}}if((o=(o+1)%i)==s)break}return t}function mO(t,e){let n=t.dom.ownerDocument,i,s=0,o=iO(n,e.left,e.top);o&&({node:i,offset:s}=o);let u=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!u||!t.dom.contains(u.nodeType!=1?u.parentNode:u)){let h=t.dom.getBoundingClientRect();if(!Fm(e,h)||(u=JS(t.dom,e,h),!u))return null}if(qt)for(let h=u;i&&h;h=Ls(h))h.draggable&&(i=void 0);if(u=dO(u,e),i){if(Un&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let m=i.childNodes[s],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&s++}let h;La&&s&&i.nodeType==1&&(h=i.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,i==t.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(c=pO(t,i,s,e))}c==null&&(c=hO(t,u,e));let d=t.docView.nearestDesc(u,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function dx(t){return t.top<t.bottom||t.left<t.right}function Ci(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(dx(i))return i}return Array.prototype.find.call(n,dx)||t.getBoundingClientRect()}const gO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function QS(t,e,n){let{node:i,offset:s,atom:o}=t.docView.domFromPos(e,n<0?-1:1),u=La||Un;if(i.nodeType==3)if(u&&(gO.test(i.nodeValue)||(n<0?!s:s==i.nodeValue.length))){let d=Ci(Gr(i,s,s),n);if(Un&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let h=Ci(Gr(i,s-1,s-1),-1);if(h.top==d.top){let m=Ci(Gr(i,s,s+1),-1);if(m.top!=d.top)return Qo(m,m.left<h.left)}}return d}else{let d=s,h=s,m=n<0?1:-1;return n<0&&!s?(h++,m=-1):n>=0&&s==i.nodeValue.length?(d--,m=1):n<0?d--:h++,Qo(Ci(Gr(i,d,h),m),m<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(n<0||s==Hn(i))){let d=i.childNodes[s-1];if(d.nodeType==1)return Mp(d.getBoundingClientRect(),!1)}if(o==null&&s<Hn(i)){let d=i.childNodes[s];if(d.nodeType==1)return Mp(d.getBoundingClientRect(),!0)}return Mp(i.getBoundingClientRect(),n>=0)}if(o==null&&s&&(n<0||s==Hn(i))){let d=i.childNodes[s-1],h=d.nodeType==3?Gr(d,Hn(d)-(u?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Qo(Ci(h,1),!1)}if(o==null&&s<Hn(i)){let d=i.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Gr(d,0,u?0:1):d.nodeType==1?d:null:null;if(h)return Qo(Ci(h,-1),!0)}return Qo(Ci(i.nodeType==3?Gr(i):i,-n),n>=0)}function Qo(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Mp(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function WS(t,e,n){let i=t.state,s=t.root.activeElement;i!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),s!=t.dom&&s&&s.focus()}}function yO(t,e,n){let i=e.selection,s=n=="up"?i.$from:i.$to;return WS(t,e,()=>{let{node:o}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let u=QS(t,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Gr(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(n=="up"?u.top-m.top>(m.bottom-u.top)*2:m.bottom-u.bottom>(u.bottom-m.top)*2))return!1}}return!0})}const bO=/[\u0590-\u08ac]/;function vO(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,o=!s,u=s==i.parent.content.size,c=t.domSelection();return c?!bO.test(i.parent.textContent)||!c.modify?n=="left"||n=="backward"?o:u:WS(t,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=t.domSelectionRange(),b=c.caretBidiLevel;c.modify("move",n,"character");let v=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:S,focusOffset:E}=t.domSelectionRange(),T=S&&!v.contains(S.nodeType==1?S:S.parentNode)||d==S&&h==E;try{c.collapse(m,y),d&&(d!=m||h!=y)&&c.extend&&c.extend(d,h)}catch{}return b!=null&&(c.caretBidiLevel=b),T}):i.pos==i.start()||i.pos==i.end()}let hx=null,px=null,mx=!1;function xO(t,e,n){return hx==e&&px==n?mx:(hx=e,px=n,mx=n=="up"||n=="down"?yO(t,e,n):vO(t,e,n))}const In=0,gx=1,gl=2,fr=3;class za{constructor(e,n,i,s){this.parent=e,this.children=n,this.dom=i,this.contentDOM=s,this.dirty=In,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let s=this.children[n];if(s==e)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let o,u;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((u=o.pmViewDesc)&&u.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(u)+u.size:this.posAtStart}else{let o,u;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((u=o.pmViewDesc)&&u.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(u):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Ht(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),u;if(o&&(!n||o.node))if(i&&(u=o.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))i=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],o=i+s.size;if(i==e&&o!=i){for(;!s.border&&s.children.length;)for(let u=0;u<s.children.length;u++){let c=s.children[u];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-i-s.border);i=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,s=0;for(let o=0;i<this.children.length;i++){let u=this.children[i],c=o+u.size;if(c>e||u instanceof eE){s=e-o;break}o=c}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof ZS&&o.side>=0;i--);if(n<=0){let o,u=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,u=!1);return o&&n&&u&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Ht(o.dom)+1:0}}else{let o,u=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,u=!1);return o&&u&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Ht(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let u=i,c=0;;c++){let d=this.children[c],h=u+d.size;if(s==-1&&e<=h){let m=u+d.border;if(e>=m&&n<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,m);e=u;for(let y=c;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=Ht(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>n||c==this.children.length-1)){n=h;for(let m=c+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){o=Ht(y.dom);break}n+=y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}u=h}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,s=!1){let o=Math.min(e,n),u=Math.max(e,n);for(let v=0,S=0;v<this.children.length;v++){let E=this.children[v],T=S+E.size;if(o>S&&u<T)return E.setSelection(e-S-E.border,n-S-E.border,i,s);S=T}let c=this.domFromPos(e,e?-1:1),d=n==e?c:this.domFromPos(n,n?-1:1),h=i.root.getSelection(),m=i.domSelectionRange(),y=!1;if((Un||qt)&&e==n){let{node:v,offset:S}=c;if(v.nodeType==3){if(y=!!(S&&v.nodeValue[S-1]==`
`),y&&S==v.nodeValue.length)for(let E=v,T;E;E=E.parentNode){if(T=E.nextSibling){T.nodeName=="BR"&&(c=d={node:T.parentNode,offset:Ht(T)+1});break}let A=E.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let E=v.childNodes[S-1];y=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(Un&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||y&&qt)&&kl(c.node,c.offset,m.anchorNode,m.anchorOffset)&&kl(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==n)&&!(y&&Un)){h.collapse(c.node,c.offset);try{e!=n&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>n){let S=c;c=d,d=S}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,s=0;s<this.children.length;s++){let o=this.children[s],u=i+o.size;if(i==u?e<=u&&n>=i:e<u&&n>i){let c=i+o.border,d=u-o.border;if(e>=c&&n<=d){this.dirty=e==i||n==u?gl:gx,e==c&&n==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=fr:o.markDirty(e-c,n-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?gl:fr}i=u}this.dirty=gl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?gl:gx;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class ZS extends za{constructor(e,n,i,s){let o,u=n.type.toDOM;if(typeof u=="function"&&(u=u(i,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(u.nodeType!=1){let c=document.createElement("span");c.appendChild(u),u=c}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==In&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class SO extends za{constructor(e,n,i,s){super(e,[],n,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Nl extends za{constructor(e,n,i,s,o){super(e,[],i,s),this.mark=n,this.spec=o}static create(e,n,i,s){let o=s.nodeViews[n.type.name],u=o&&o(n,s,i);return(!u||!u.dom)&&(u=Ll.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new Nl(e,n,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&fr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=fr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=In){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=In}}slice(e,n,i){let s=Nl.create(this.parent,this.mark,!0,i),o=this.children,u=this.size;n<u&&(o=um(o,n,u,i)),e>0&&(o=um(o,0,e,i));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ji extends za{constructor(e,n,i,s,o,u,c,d,h){super(e,[],o,u),this.node=n,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=c}static create(e,n,i,s,o,u){let c=o.nodeViews[n.type.name],d,h=c&&c(n,o,()=>{if(!d)return u;if(d.parent)return d.parent.posBeforeChild(d)},i,s),m=h&&h.dom,y=h&&h.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=Ll.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!y&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let b=m;return m=rE(m,i,n),h?d=new EO(e,n,i,s,m,y||null,b,h,o,u+1):n.isText?new Of(e,n,i,s,m,b,o):new ji(e,n,i,s,m,y||null,b,o,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>X.empty)}return e}matchesNode(e,n,i){return this.dirty==In&&e.eq(this.node)&&jc(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,s=n,o=e.composing?this.localCompositionInfo(e,n):null,u=o&&o.pos>-1?o:null,c=o&&o.pos<0,d=new MO(this,u&&u.node,e);wO(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,i,e,m):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?Ke.none:this.node.child(m).marks,i,e,m),d.placeWidget(h,e,s)},(h,m,y,b)=>{d.syncToMarks(h.marks,i,e,b);let v;d.findNodeMatch(h,m,y,b)||c&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(h,m,y,v,e)||d.updateNextNode(h,m,y,e,b,s)||d.addNode(h,m,y,e,s),s+=h.nodeSize}),d.syncToMarks([],i,e,0),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==gl)&&(u&&this.protectLocalComposition(e,u),tE(this.contentDOM,this.children,e),zs&&kO(this.dom))}localCompositionInfo(e,n){let{from:i,to:s}=e.state.selection;if(!(e.state.selection instanceof ye)||i<n||s>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let u=o.nodeValue,c=NO(this.node.content,u,i-n,s-n);return c<0?null:{node:o,pos:c,text:u}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:s}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let u=new SO(this,o,n,s);e.input.compositionNodes.push(u),this.children=um(this.children,i,i+s.length,e,u)}update(e,n,i,s){return this.dirty==fr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,s),!0)}updateInner(e,n,i,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=In}updateOuterDeco(e){if(jc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=nE(this.dom,this.nodeDOM,am(this.outerDeco,this.node,n),am(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function yx(t,e,n,i,s){rE(i,e,t);let o=new ji(void 0,t,e,n,i,i,i,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class Of extends ji{constructor(e,n,i,s,o,u,c){super(e,n,i,s,o,null,u,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,s){return this.dirty==fr||this.dirty!=In&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=In||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=In,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let s=this.node.cut(e,n),o=document.createTextNode(s.text);return new Of(this.parent,s,this.outerDeco,this.innerDeco,o,o,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=fr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class eE extends za{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==In&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class EO extends ji{constructor(e,n,i,s,o,u,c,d,h,m){super(e,n,i,s,o,u,c,h,m),this.spec=d}update(e,n,i,s){if(this.dirty==fr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,i);return o&&this.updateInner(e,n,i,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,s){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function tE(t,e,n){let i=t.firstChild,s=!1;for(let o=0;o<e.length;o++){let u=e[o],c=u.dom;if(c.parentNode==t){for(;c!=i;)i=bx(i),s=!0;i=i.nextSibling}else s=!0,t.insertBefore(c,i);if(u instanceof Nl){let d=i?i.previousSibling:t.lastChild;tE(u.contentDOM,u.children,n),i=d?d.nextSibling:t.firstChild}}for(;i;)i=bx(i),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const aa=function(t){t&&(this.nodeName=t)};aa.prototype=Object.create(null);const yl=[new aa];function am(t,e,n){if(t.length==0)return yl;let i=n?yl[0]:new aa,s=[i];for(let o=0;o<t.length;o++){let u=t[o].type.attrs;if(u){u.nodeName&&s.push(i=new aa(u.nodeName));for(let c in u){let d=u[c];d!=null&&(n&&s.length==1&&s.push(i=new aa(e.isInline?"span":"div")),c=="class"?i.class=(i.class?i.class+" ":"")+d:c=="style"?i.style=(i.style?i.style+";":"")+d:c!="nodeName"&&(i[c]=d))}}}return s}function nE(t,e,n,i){if(n==yl&&i==yl)return e;let s=e;for(let o=0;o<i.length;o++){let u=i[o],c=n[o];if(o){let d;c&&c.nodeName==u.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==u.nodeName||(d=document.createElement(u.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=yl[0]),s=d}TO(s,c||yl[0],u)}return s}function TO(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)s.indexOf(i[o])==-1&&t.classList.remove(i[o]);for(let o=0;o<s.length;o++)i.indexOf(s[o])==-1&&t.classList.add(s[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function rE(t,e,n){return nE(t,t,yl,am(e,n,t.nodeType!=1))}function jc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function bx(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class MO{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=CO(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i,s){let o=0,u=this.stack.length>>1,c=Math.min(u,e.length);for(;o<c&&(o==u-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<u;)this.destroyRest(),this.top.dirty=In,this.index=this.stack.pop(),this.top=this.stack.pop(),u--;for(;u<e.length;){this.stack.push(this.top,this.index+1);let d=-1,h=this.top.children.length;s<this.preMatch.index&&(h=Math.min(this.index+3,h));for(let m=this.index;m<h;m++){let y=this.top.children[m];if(y.matchesMark(e[u])&&!this.isLocked(y.dom)){d=m;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let m=Nl.create(this.top,e[u],n,i);this.top.children.splice(this.index,0,m),this.top=m,this.changed=!0}this.index=0,u++}}findNodeMatch(e,n,i,s){let o=-1,u;if(s>=this.preMatch.index&&(u=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&u.matchesNode(e,n,i))o=this.top.children.indexOf(u,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let h=this.top.children[c];if(h.matchesNode(e,n,i)&&!this.preMatch.matched.has(h)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,i,s,o){let u=this.top.children[s];return u.dirty==fr&&u.dom==u.contentDOM&&(u.dirty=gl),u.update(e,n,i,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}e=n}}updateNextNode(e,n,i,s,o,u){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof ji){let h=this.preMatch.matched.get(d);if(h!=null&&h!=o)return!1;let m=d.dom,y,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=fr&&jc(n,d.outerDeco));if(!b&&d.update(e,n,i,s))return this.destroyBetween(this.index,c),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(d,e,n,i,s,u)))return this.destroyBetween(this.index,c),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=gl,y.updateChildren(s,u+1),y.dirty=In),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,s,o,u){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!jc(i,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=ji.create(this.top,n,i,s,o,u);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,n,i,s,o){let u=ji.create(this.top,e,n,i,s,o);u.contentDOM&&u.updateChildren(s,o+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,n,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new ZS(this.top,e,n,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Nl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Of)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((qt||It)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new eE(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function CO(t,e){let n=e,i=n.children.length,s=t.childCount,o=new Map,u=[];e:for(;s>0;){let c;for(;;)if(i){let h=n.children[i-1];if(h instanceof Nl)n=h,i=h.children.length;else{c=h,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=t.child(s-1))break;--s,o.set(c,s),u.push(c)}}return{index:s,matched:o,matches:u.reverse()}}function AO(t,e){return t.type.side-e.type.side}function wO(t,e,n,i){let s=e.locals(t),o=0;if(s.length==0){for(let h=0;h<t.childCount;h++){let m=t.child(h);i(m,s,e.forChild(o,m),h),o+=m.nodeSize}return}let u=0,c=[],d=null;for(let h=0;;){let m,y;for(;u<s.length&&s[u].to==o;){let T=s[u++];T.widget&&(m?(y||(y=[m])).push(T):m=T)}if(m)if(y){y.sort(AO);for(let T=0;T<y.length;T++)n(y[T],h,!!d)}else n(m,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<t.childCount)v=h,b=t.child(h++);else break;for(let T=0;T<c.length;T++)c[T].to<=o&&c.splice(T--,1);for(;u<s.length&&s[u].from<=o&&s[u].to>o;)c.push(s[u++]);let S=o+b.nodeSize;if(b.isText){let T=S;u<s.length&&s[u].from<T&&(T=s[u].from);for(let A=0;A<c.length;A++)c[A].to<T&&(T=c[A].to);T<S&&(d=b.cut(T-o),b=b.cut(0,T-o),S=T,v=-1)}else for(;u<s.length&&s[u].to<S;)u++;let E=b.isInline&&!b.isLeaf?c.filter(T=>!T.inline):c.slice();i(b,E,e.forChild(o,b),v),o=S}}function kO(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function NO(t,e,n,i){for(let s=0,o=0;s<t.childCount&&o<=i;){let u=t.child(s++),c=o;if(o+=u.nodeSize,!u.isText)continue;let d=u.text;for(;s<t.childCount;){let h=t.child(s++);if(o+=h.nodeSize,!h.isText)break;d+=h.text}if(o>=n){if(o>=i&&d.slice(i-e.length-c,i-c)==e)return i-e.length;let h=c<i?d.lastIndexOf(e,i-c-1):-1;if(h>=0&&h+e.length+c>=n)return c+h;if(n==i&&d.length>=i+e.length-c&&d.slice(i-c,i-c+e.length)==e)return i}}return-1}function um(t,e,n,i,s){let o=[];for(let u=0,c=0;u<t.length;u++){let d=t[u],h=c,m=c+=d.size;h>=n||m<=e?o.push(d):(h<e&&o.push(d.slice(0,e-h,i)),s&&(o.push(s),s=void 0),m>n&&o.push(d.slice(n-h,d.size,i)))}return o}function Ym(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),o=s&&s.size==0,u=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(u<0)return null;let c=i.resolve(u),d,h;if(Nf(n)){for(d=u;s&&!s.node;)s=s.parent;let y=s.node;if(s&&y.isAtom&&pe.isSelectable(y)&&s.parent&&!(y.isInline&&nO(n.focusNode,n.focusOffset,s.dom))){let b=s.posBefore;h=new pe(u==b?c:i.resolve(b))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let y=u,b=u;for(let v=0;v<n.rangeCount;v++){let S=n.getRangeAt(v);y=Math.min(y,t.docView.posFromDOM(S.startContainer,S.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(y<0)return null;[d,u]=b==t.state.selection.anchor?[b,y]:[y,b],c=i.resolve(u)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let m=i.resolve(d);if(!h){let y=e=="pointer"||t.state.selection.head<c.pos&&!o?1:-1;h=Km(t,m,c,y)}return h}function iE(t){return t.editable?t.hasFocus():sE(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Kr(t,e=!1){let n=t.state.selection;if(lE(t,n),!!iE(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&It){let i=t.domSelectionRange(),s=t.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&kl(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)RO(t);else{let{anchor:i,head:s}=n,o,u;vx&&!(n instanceof ye)&&(n.$from.parent.inlineContent||(o=xx(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(u=xx(t,n.to))),t.docView.setSelection(i,s,t,e),vx&&(o&&Sx(o),u&&Sx(u)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&OO(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const vx=qt||It&&$S<63;function xx(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),s=i<n.childNodes.length?n.childNodes[i]:null,o=i?n.childNodes[i-1]:null;if(qt&&s&&s.contentEditable=="false")return Cp(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return Cp(s);if(o)return Cp(o)}}function Cp(t){return t.contentEditable="true",qt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Sx(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function OO(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!iE(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function RO(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?e.collapse(n.parentNode,Ht(n)+1):e.collapse(n,0),!i&&!t.state.selection.visible&&un&&Bi<=11&&(n.disabled=!0,n.disabled=!1)}function lE(t,e){if(e instanceof pe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Ex(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Ex(t)}function Ex(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Km(t,e,n,i){return t.someProp("createSelectionBetween",s=>s(t,e,n))||ye.between(e,n,i)}function Tx(t){return t.editable&&!t.hasFocus()?!1:sE(t)}function sE(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function DO(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return kl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function cm(t,e){let{$anchor:n,$head:i}=t.selection,s=e>0?n.max(i):n.min(i),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&Ce.findFrom(o,e)}function Ai(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Mx(t,e,n){let i=t.state.selection;if(i instanceof ye)if(n.indexOf("s")>-1){let{$head:s}=i,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let u=t.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return Ai(t,new ye(i.$anchor,u))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=cm(t.state,e);return s&&s instanceof pe?Ai(t,s):!1}else if(!(jn&&n.indexOf("m")>-1)){let s=i.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,u;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(u=t.docView.descAt(c))&&!u.contentDOM?pe.isSelectable(o)?Ai(t,new pe(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):La?Ai(t,new ye(t.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(i instanceof pe&&i.node.isInline)return Ai(t,new ye(e>0?i.$to:i.$from));{let s=cm(t.state,e);return s?Ai(t,s):!1}}}function Hc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ua(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Es(t,e){return e<0?_O(t):LO(t)}function _O(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s,o,u=!1;for(Un&&n.nodeType==1&&i<Hc(n)&&ua(n.childNodes[i],-1)&&(u=!0);;)if(i>0){if(n.nodeType!=1)break;{let c=n.childNodes[i-1];if(ua(c,-1))s=n,o=--i;else if(c.nodeType==3)n=c,i=n.nodeValue.length;else break}}else{if(oE(n))break;{let c=n.previousSibling;for(;c&&ua(c,-1);)s=n.parentNode,o=Ht(c),c=c.previousSibling;if(c)n=c,i=Hc(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}u?fm(t,n,i):s&&fm(t,s,o)}function LO(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s=Hc(n),o,u;for(;;)if(i<s){if(n.nodeType!=1)break;let c=n.childNodes[i];if(ua(c,1))o=n,u=++i;else break}else{if(oE(n))break;{let c=n.nextSibling;for(;c&&ua(c,1);)o=c.parentNode,u=Ht(c)+1,c=c.nextSibling;if(c)n=c,i=0,s=Hc(n);else{if(n=n.parentNode,n==t.dom)break;i=s=0}}}o&&fm(t,o,u)}function oE(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function zO(t,e){for(;t&&e==t.childNodes.length&&!_a(t);)e=Ht(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function BO(t,e){for(;t&&!e&&!_a(t);)e=Ht(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function fm(t,e,n){if(e.nodeType!=3){let o,u;(u=zO(e,n))?(e=u,n=0):(o=BO(e,n))&&(e=o,n=o.nodeValue.length)}let i=t.domSelection();if(!i)return;if(Nf(i)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Kr(t)},50)}function Cx(t,e){let n=t.state.doc.resolve(e);if(!(It||FS)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),u=(o.top+o.bottom)/2;if(u>s.top&&u<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),u=(o.top+o.bottom)/2;if(u>s.top&&u<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Ax(t,e,n){let i=t.state.selection;if(i instanceof ye&&!i.empty||n.indexOf("s")>-1||jn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=i;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let u=cm(t.state,e);if(u&&u instanceof pe)return Ai(t,u)}if(!s.parent.inlineContent){let u=e<0?s:o,c=i instanceof xn?Ce.near(u,e):Ce.findFrom(u,e);return c?Ai(t,c):!1}return!1}function wx(t,e){if(!(t.state.selection instanceof ye))return!0;let{$head:n,$anchor:i,empty:s}=t.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let u=t.state.tr;return e<0?u.delete(n.pos-o.nodeSize,n.pos):u.delete(n.pos,n.pos+o.nodeSize),t.dispatch(u),!0}return!1}function kx(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function jO(t){if(!qt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;kx(t,i,"true"),setTimeout(()=>kx(t,i,"false"),20)}return!1}function HO(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function UO(t,e){let n=e.keyCode,i=HO(e);if(n==8||jn&&n==72&&i=="c")return wx(t,-1)||Es(t,-1);if(n==46&&!e.shiftKey||jn&&n==68&&i=="c")return wx(t,1)||Es(t,1);if(n==13||n==27)return!0;if(n==37||jn&&n==66&&i=="c"){let s=n==37?Cx(t,t.state.selection.from)=="ltr"?-1:1:-1;return Mx(t,s,i)||Es(t,s)}else if(n==39||jn&&n==70&&i=="c"){let s=n==39?Cx(t,t.state.selection.from)=="ltr"?1:-1:1;return Mx(t,s,i)||Es(t,s)}else{if(n==38||jn&&n==80&&i=="c")return Ax(t,-1,i)||Es(t,-1);if(n==40||jn&&n==78&&i=="c")return jO(t)||Ax(t,1,i)||Es(t,1);if(i==(jn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Xm(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:i,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,o--;let v=i.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),i=v.content}let u=t.someProp("clipboardSerializer")||Ll.fromSchema(t.state.schema),c=hE(),d=c.createElement("div");d.appendChild(u.serializeFragment(i,{document:c}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=dE[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let S=c.createElement(m[v]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${o}${y?` -${y}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function aE(t,e,n,i,s){let o=s.parent.type.spec.code,u,c;if(!n&&!e)return null;let d=!!e&&(i||o||!n);if(d){if(t.someProp("transformPastedText",b=>{e=b(e,o||i,t)}),o)return c=new ne(X.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",b=>{c=b(c,t,!0)}),c;let y=t.someProp("clipboardTextParser",b=>b(e,s,i,t));if(y)c=y;else{let b=s.marks(),{schema:v}=t.state,S=Ll.fromSchema(v);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let T=u.appendChild(document.createElement("p"));E&&T.appendChild(S.serializeNode(v.text(E,b)))})}}else t.someProp("transformPastedHTML",y=>{n=y(n,t)}),u=qO(n),La&&GO(u);let h=u&&u.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let b=u.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;u=b}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||zi.fromSchema(t.state.schema)).parseSlice(u,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!IO.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)c=$O(Nx(c,+m[1],+m[2]),m[4]);else if(c=ne.maxOpen(PO(c.content,s),!0),c.openStart||c.openEnd){let y=0,b=0;for(let v=c.content.firstChild;y<c.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=c.content.lastChild;b<c.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);c=Nx(c,y,b)}return t.someProp("transformPasted",y=>{c=y(c,t,d)}),c}const IO=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function PO(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),o,u=[];if(t.forEach(c=>{if(!u)return;let d=s.findWrapping(c.type),h;if(!d)return u=null;if(h=u.length&&o.length&&cE(d,o,c,u[u.length-1],0))u[u.length-1]=h;else{u.length&&(u[u.length-1]=fE(u[u.length-1],o.length));let m=uE(c,d);u.push(m),s=s.matchType(m.type),o=d}}),u)return X.from(u)}return t}function uE(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,X.from(t));return t}function cE(t,e,n,i,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=cE(t,e,n,i.lastChild,s+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(s==t.length-1?n.type:t[s+1]))return i.copy(i.content.append(X.from(uE(n,t,s+1))))}}function fE(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,fE(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(X.empty,!0);return t.copy(n.append(i))}function dm(t,e,n,i,s,o){let u=e<0?t.firstChild:t.lastChild,c=u.content;return t.childCount>1&&(o=0),s<i-1&&(c=dm(c,e,n,i,s+1,o)),s>=n&&(c=e<0?u.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(u.contentMatchAt(u.childCount).fillBefore(X.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,u.copy(c))}function Nx(t,e,n){return e<t.openStart&&(t=new ne(dm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ne(dm(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const dE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ox=null;function hE(){return Ox||(Ox=document.implementation.createHTMLDocument("title"))}let Ap=null;function VO(t){let e=window.trustedTypes;return e?(Ap||(Ap=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Ap.createHTML(t)):t}function qO(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=hE().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),s;if((s=i&&dE[i[1].toLowerCase()])&&(t=s.map(o=>"<"+o+">").join("")+t+s.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=VO(t),s)for(let o=0;o<s.length;o++)n=n.querySelector(s[o])||n;return n}function GO(t){let e=t.querySelectorAll(It?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function $O(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:s,openStart:o,openEnd:u}=t;for(let c=i.length-2;c>=0;c-=2){let d=n.nodes[i[c]];if(!d||d.hasRequiredAttrs())break;s=X.from(d.create(i[c+1],s)),o++,u++}return new ne(s,o,u)}const Jt={},Qt={},FO={touchstart:!0,touchmove:!0};class YO{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function KO(t){for(let e in Jt){let n=Jt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{JO(t,i)&&!Jm(t,i)&&(t.editable||!(i.type in Qt))&&n(t,i)},FO[e]?{passive:!0}:void 0)}qt&&t.dom.addEventListener("input",()=>null),hm(t)}function Li(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function XO(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function hm(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>Jm(t,i))})}function Jm(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function JO(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function QO(t,e){!Jm(t,e)&&Jt[e.type]&&(t.editable||!(e.type in Qt))&&Jt[e.type](t,e)}Qt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!mE(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!($r&&It&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),zs&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",s=>s(t,ml(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||UO(t,n)?n.preventDefault():Li(t,"key")};Qt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Qt.keypress=(t,e)=>{let n=e;if(mE(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||jn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof ye)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",u=>u(t,i.$from.pos,i.$to.pos,s,o))&&t.dispatch(o()),n.preventDefault()}};function Rf(t){return{left:t.clientX,top:t.clientY}}function WO(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function Qm(t,e,n,i,s){if(i==-1)return!1;let o=t.state.doc.resolve(i);for(let u=o.depth+1;u>0;u--)if(t.someProp(e,c=>u>o.depth?c(t,n,o.nodeAfter,o.before(u),s,!0):c(t,n,o.node(u),o.before(u),s,!1)))return!0;return!1}function Ns(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function ZO(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&pe.isSelectable(i)?(Ns(t,new pe(n)),!0):!1}function eR(t,e){if(e==-1)return!1;let n=t.state.selection,i,s;n instanceof pe&&(i=n.node);let o=t.state.doc.resolve(e);for(let u=o.depth+1;u>0;u--){let c=u>o.depth?o.nodeAfter:o.node(u);if(pe.isSelectable(c)){i&&n.$from.depth>0&&u>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?s=o.before(n.$from.depth):s=o.before(u);break}}return s!=null?(Ns(t,pe.create(t.state.doc,s)),!0):!1}function tR(t,e,n,i,s){return Qm(t,"handleClickOn",e,n,i)||t.someProp("handleClick",o=>o(t,e,i))||(s?eR(t,n):ZO(t,n))}function nR(t,e,n,i){return Qm(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",s=>s(t,e,i))}function rR(t,e,n,i){return Qm(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",s=>s(t,e,i))||iR(t,n,i)}function iR(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(Ns(t,ye.create(i,0,i.content.size)),!0):!1;let s=i.resolve(e);for(let o=s.depth+1;o>0;o--){let u=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(u.inlineContent)Ns(t,ye.create(i,c+1,c+1+u.content.size));else if(pe.isSelectable(u))Ns(t,pe.create(i,c));else continue;return!0}}function Wm(t){return Uc(t)}const pE=jn?"metaKey":"ctrlKey";Jt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=Wm(t),s=Date.now(),o="singleClick";s-t.input.lastClick.time<500&&WO(n,t.input.lastClick)&&!n[pE]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o,button:n.button};let u=t.posAtCoords(Rf(n));u&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new lR(t,u,n,!!i)):(o=="doubleClick"?nR:rR)(t,u.pos,u.inside,n)?n.preventDefault():Li(t,"pointer"))};class lR{constructor(e,n,i,s){this.view=e,this.pos=n,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[pE],this.allowDefault=i.shiftKey;let o,u;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),u=n.inside;else{let m=e.state.doc.resolve(n.pos);o=m.parent,u=m.depth?m.before():0}const c=s?null:i.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:h}=e.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof pe&&h.from<=u&&h.to>u)&&(this.mightDrag={node:o,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Un&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Li(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Kr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Rf(e))),this.updateAllowDefault(e),this.allowDefault||!n?Li(this.view,"pointer"):tR(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||qt&&this.mightDrag&&!this.mightDrag.node.isAtom||It&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ns(this.view,Ce.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Li(this.view,"pointer")}move(e){this.updateAllowDefault(e),Li(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Jt.touchstart=t=>{t.input.lastTouch=Date.now(),Wm(t),Li(t,"pointer")};Jt.touchmove=t=>{t.input.lastTouch=Date.now(),Li(t,"pointer")};Jt.contextmenu=t=>Wm(t);function mE(t,e){return t.composing?!0:qt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const sR=$r?5e3:-1;Qt.compositionstart=Qt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ye&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)||It&&FS&&oR(t)))t.markCursor=t.state.storedMarks||n.marks(),Uc(t,!0),t.markCursor=null;else if(Uc(t,!e.selection.empty),Un&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let s=i.focusNode,o=i.focusOffset;s&&s.nodeType==1&&o!=0;){let u=o<0?s.lastChild:s.childNodes[o-1];if(!u)break;if(u.nodeType==3){let c=t.domSelection();c&&c.collapse(u,u.nodeValue.length);break}else s=u,o=-1}}t.input.composing=!0}gE(t,sR)};function oR(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let i=e.childNodes[n];return i.nodeType==1&&i.contentEditable=="false"}Qt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,gE(t,20))};function gE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Uc(t),e))}function yE(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=uR());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function aR(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=eO(e.focusNode,e.focusOffset),i=tO(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let s=i.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||i==o)return o;if(!s||!s.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let u=n.pmViewDesc;if(!(!u||!u.isText(n.nodeValue)))return i}}return n||i}function uR(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Uc(t,e=!1){if(!($r&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),yE(t),e||t.docView&&t.docView.dirty){let n=Ym(t),i=t.state.selection;return n&&!n.eq(i)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function cR(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ea=un&&Bi<15||zs&&lO<604;Jt.copy=Qt.cut=(t,e)=>{let n=e,i=t.state.selection,s=n.type=="cut";if(i.empty)return;let o=Ea?null:n.clipboardData,u=i.content(),{dom:c,text:d}=Xm(t,u);o?(n.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",d)):cR(t,c),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function fR(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function dR(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Ta(t,i.value,null,s,e):Ta(t,i.textContent,i.innerHTML,s,e)},50)}function Ta(t,e,n,i,s){let o=aE(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,s,o||ne.empty)))return!0;if(!o)return!1;let u=fR(o),c=u?t.state.tr.replaceSelectionWith(u,i):t.state.tr.replaceSelection(o);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function bE(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Qt.paste=(t,e)=>{let n=e;if(t.composing&&!$r)return;let i=Ea?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&Ta(t,bE(i),i.getData("text/html"),s,n)?n.preventDefault():dR(t,n)};class vE{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const hR=jn?"altKey":"ctrlKey";function xE(t,e){let n=t.someProp("dragCopies",i=>!i(e));return n??!e[hR]}Jt.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=t.state.selection,o=s.empty?null:t.posAtCoords(Rf(n)),u;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof pe?s.to-1:s.to))){if(i&&i.mightDrag)u=pe.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let y=t.docView.nearestDesc(n.target,!0);y&&y.node.type.spec.draggable&&y!=t.docView&&(u=pe.create(t.state.doc,y.posBefore))}}let c=(u||t.state.selection).content(),{dom:d,text:h,slice:m}=Xm(t,c);(!n.dataTransfer.files.length||!It||$S>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ea?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ea||n.dataTransfer.setData("text/plain",h),t.dragging=new vE(m,xE(t,n),u)};Jt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Qt.dragover=Qt.dragenter=(t,e)=>e.preventDefault();Qt.drop=(t,e)=>{try{pR(t,e,t.dragging)}finally{t.dragging=null}};function pR(t,e,n){if(!e.dataTransfer)return;let i=t.posAtCoords(Rf(e));if(!i)return;let s=t.state.doc.resolve(i.pos),o=n&&n.slice;o?t.someProp("transformPasted",v=>{o=v(o,t,!1)}):o=aE(t,bE(e.dataTransfer),Ea?null:e.dataTransfer.getData("text/html"),!1,s);let u=!!(n&&xE(t,e));if(t.someProp("handleDrop",v=>v(t,e,o||ne.empty,u))){e.preventDefault();return}if(!o)return;e.preventDefault();let c=o?MS(t.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let d=t.state.tr;if(u){let{node:v}=n;v?v.replace(d):d.deleteSelection()}let h=d.mapping.map(c),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,y=d.doc;if(m?d.replaceRangeWith(h,h,o.content.firstChild):d.replaceRange(h,h,o),d.doc.eq(y))return;let b=d.doc.resolve(h);if(m&&pe.isSelectable(o.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new pe(b));else{let v=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((S,E,T,A)=>v=A),d.setSelection(Km(t,b,d.doc.resolve(v)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))}Jt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Kr(t)},20))};Jt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Jt.beforeinput=(t,e)=>{if(It&&$r&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,ml(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in Qt)Jt[t]=Qt[t];function Ma(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Ic{constructor(e,n){this.toDOM=e,this.spec=n||El,this.side=this.spec.side||0}map(e,n,i,s){let{pos:o,deleted:u}=e.mapResult(n.from+s,this.side<0?-1:1);return u?null:new Yt(o-i,o-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Ic&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ma(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Hi{constructor(e,n){this.attrs=e,this.spec=n||El}map(e,n,i,s){let o=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,u=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return o>=u?null:new Yt(o,u,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Hi&&Ma(this.attrs,e.attrs)&&Ma(this.spec,e.spec)}static is(e){return e.type instanceof Hi}destroy(){}}class Zm{constructor(e,n){this.attrs=e,this.spec=n||El}map(e,n,i,s){let o=e.mapResult(n.from+s,1);if(o.deleted)return null;let u=e.mapResult(n.to+s,-1);return u.deleted||u.pos<=o.pos?null:new Yt(o.pos-i,u.pos-i,this)}valid(e,n){let{index:i,offset:s}=e.content.findIndex(n.from),o;return s==n.from&&!(o=e.child(i)).isText&&s+o.nodeSize==n.to}eq(e){return this==e||e instanceof Zm&&Ma(this.attrs,e.attrs)&&Ma(this.spec,e.spec)}destroy(){}}class Yt{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new Yt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new Yt(e,e,new Ic(n,i))}static inline(e,n,i,s){return new Yt(e,n,new Hi(i,s))}static node(e,n,i,s){return new Yt(e,n,new Zm(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Hi}get widget(){return this.type instanceof Ic}}const Ms=[],El={};class nt{constructor(e,n){this.local=e.length?e:Ms,this.children=n.length?n:Ms}static create(e,n){return n.length?Pc(n,e,0,El):Vt}find(e,n,i){let s=[];return this.findInner(e??0,n??1e9,s,0,i),s}findInner(e,n,i,s,o){for(let u=0;u<this.local.length;u++){let c=this.local[u];c.from<=n&&c.to>=e&&(!o||o(c.spec))&&i.push(c.copy(c.from+s,c.to+s))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<n&&this.children[u+1]>e){let c=this.children[u]+1;this.children[u+2].findInner(e-c,n-c,i,s+c,o)}}map(e,n,i){return this==Vt||e.maps.length==0?this:this.mapInner(e,n,0,0,i||El)}mapInner(e,n,i,s,o){let u;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,i,s);d&&d.type.valid(n,d)?(u||(u=[])).push(d):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?mR(this.children,u||[],e,n,i,s,o):u?new nt(u.sort(Tl),Ms):Vt}add(e,n){return n.length?this==Vt?nt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let s,o=0;e.forEach((c,d)=>{let h=d+i,m;if(m=EE(n,c,h)){for(s||(s=this.children.slice());o<s.length&&s[o]<d;)o+=3;s[o]==d?s[o+2]=s[o+2].addInner(c,m,h+1):s.splice(o,0,d,d+c.nodeSize,Pc(m,c,h+1,El)),o+=3}});let u=SE(o?TE(n):n,-i);for(let c=0;c<u.length;c++)u[c].type.valid(e,u[c])||u.splice(c--,1);return new nt(u.length?this.local.concat(u).sort(Tl):this.local,s||this.children)}remove(e){return e.length==0||this==Vt?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,s=this.local;for(let o=0;o<i.length;o+=3){let u,c=i[o]+n,d=i[o+1]+n;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>c&&y.to<d&&(e[m]=null,(u||(u=[])).push(y));if(!u)continue;i==this.children&&(i=this.children.slice());let h=i[o+2].removeInner(u,c+1);h!=Vt?i[o+2]=h:(i.splice(o,3),o-=3)}if(s.length){for(let o=0,u;o<e.length;o++)if(u=e[o])for(let c=0;c<s.length;c++)s[c].eq(u,n)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new nt(s,i):Vt}forChild(e,n){if(this==Vt)return this;if(n.isLeaf)return nt.empty;let i,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(i=this.children[c+2]);break}let o=e+1,u=o+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<u&&d.to>o&&d.type instanceof Hi){let h=Math.max(o,d.from)-o,m=Math.min(u,d.to)-o;h<m&&(s||(s=[])).push(d.copy(h,m))}}if(s){let c=new nt(s.sort(Tl),Ms);return i?new Ni([c,i]):c}return i||Vt}eq(e){if(this==e)return!0;if(!(e instanceof nt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return eg(this.localsInner(e))}localsInner(e){if(this==Vt)return Ms;if(e.inlineContent||!this.local.some(Hi.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Hi||n.push(this.local[i]);return n}forEachSet(e){e(this)}}nt.empty=new nt([],[]);nt.removeOverlap=eg;const Vt=nt.empty;class Ni{constructor(e){this.members=e}map(e,n){const i=this.members.map(s=>s.map(e,n,El));return Ni.from(i)}forChild(e,n){if(n.isLeaf)return nt.empty;let i=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,n);o!=Vt&&(o instanceof Ni?i=i.concat(o.members):i.push(o))}return Ni.from(i)}eq(e){if(!(e instanceof Ni)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!n)n=o;else{i&&(n=n.slice(),i=!1);for(let u=0;u<o.length;u++)n.push(o[u])}}return n?eg(i?n:n.sort(Tl)):Ms}static from(e){switch(e.length){case 0:return Vt;case 1:return e[0];default:return new Ni(e.every(n=>n instanceof nt)?e:e.reduce((n,i)=>n.concat(i instanceof nt?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function mR(t,e,n,i,s,o,u){let c=t.slice();for(let h=0,m=o;h<n.maps.length;h++){let y=0;n.maps[h].forEach((b,v,S,E)=>{let T=E-S-(v-b);for(let A=0;A<c.length;A+=3){let _=c[A+1];if(_<0||b>_+m-y)continue;let B=c[A]+m-y;v>=B?c[A+1]=b<=B?-2:-1:b>=m&&T&&(c[A]+=T,c[A+1]+=T)}y+=T}),m=n.maps[h].map(m,-1)}let d=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){d=!0,c[h+1]=-1;continue}let m=n.map(t[h]+o),y=m-s;if(y<0||y>=i.content.size){d=!0;continue}let b=n.map(t[h+1]+o,-1),v=b-s,{index:S,offset:E}=i.content.findIndex(y),T=i.maybeChild(S);if(T&&E==y&&E+T.nodeSize==v){let A=c[h+2].mapInner(n,T,m+1,t[h]+o+1,u);A!=Vt?(c[h]=y,c[h+1]=v,c[h+2]=A):(c[h+1]=-2,d=!0)}else d=!0}if(d){let h=gR(c,t,e,n,s,o,u),m=Pc(h,i,0,u);e=m.local;for(let y=0;y<c.length;y+=3)c[y+1]<0&&(c.splice(y,3),y-=3);for(let y=0,b=0;y<m.children.length;y+=3){let v=m.children[y];for(;b<c.length&&c[b]<v;)b+=3;c.splice(b,0,m.children[y],m.children[y+1],m.children[y+2])}}return new nt(e.sort(Tl),c)}function SE(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let s=t[i];n.push(new Yt(s.from+e,s.to+e,s.type))}return n}function gR(t,e,n,i,s,o,u){function c(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(i,s,h);y?n.push(y):u.onRemove&&u.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)c(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&c(t[d+2],e[d]+o+1);return n}function EE(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,s=null;for(let o=0,u;o<t.length;o++)(u=t[o])&&u.from>n&&u.to<i&&((s||(s=[])).push(u),t[o]=null);return s}function TE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Pc(t,e,n,i){let s=[],o=!1;e.forEach((c,d)=>{let h=EE(t,c,d+n);if(h){o=!0;let m=Pc(h,c,n+d+1,i);m!=Vt&&s.push(d,d+c.nodeSize,m)}});let u=SE(o?TE(t):t,-n).sort(Tl);for(let c=0;c<u.length;c++)u[c].type.valid(e,u[c])||(i.onRemove&&i.onRemove(u[c].spec),u.splice(c--,1));return u.length||s.length?new nt(u,s):Vt}function Tl(t,e){return t.from-e.from||t.to-e.to}function eg(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let s=n+1;s<e.length;s++){let o=e[s];if(o.from==i.from){o.to!=i.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,i.to),Rx(e,s+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,o.from),Rx(e,s,i.copy(o.from,i.to)));break}}}return e}function Rx(t,e,n){for(;e<t.length&&Tl(n,t[e])>0;)e++;t.splice(e,0,n)}function wp(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=Vt&&e.push(i)}),t.cursorWrapper&&e.push(nt.create(t.state.doc,[t.cursorWrapper.deco])),Ni.from(e)}const yR={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},bR=un&&Bi<=11;class vR{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class xR{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new vR,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);un&&Bi<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():qt&&e.composing&&i.some(s=>s.type=="childList"&&s.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),bR&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,yR)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Tx(this.view)){if(this.suppressingSelectionUpdates)return Kr(this.view);if(un&&Bi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&kl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let o=e.focusNode;o;o=Ls(o))n.add(o);for(let o=e.anchorNode;o;o=Ls(o))if(n.has(o)){i=o;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&Tx(e)&&!this.ignoreSelectionChange(i),o=-1,u=-1,c=!1,d=[];if(e.editable)for(let m=0;m<n.length;m++){let y=this.registerMutation(n[m],d);y&&(o=o<0?y.from:Math.min(y.from,o),u=u<0?y.to:Math.max(y.to,u),y.typeOver&&(c=!0))}if(d.some(m=>m.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let m of d)if(m.nodeName=="BR"&&m.parentNode){let y=m.nextSibling;y&&y.nodeType==1&&y.contentEditable=="false"&&m.parentNode.removeChild(m)}}else if(Un&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,b]=m;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of m){let v=b.parentNode;v&&v.nodeName=="LI"&&(!y||TR(e,y)!=v)&&b.remove()}}}let h=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Nf(i)&&(h=Ym(e))&&h.eq(Ce.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Kr(e),this.currentSelection.set(i),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,u),SR(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,MR(e,d)),this.handleDOMChange(o,u,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||Kr(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];n.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let s=e.previousSibling,o=e.nextSibling;if(un&&Bi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:b}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b)}let u=s&&s.parentNode==e.target?Ht(s)+1:0,c=i.localPosFromDOM(e.target,u,-1),d=o&&o.parentNode==e.target?Ht(o):e.target.childNodes.length,h=i.localPosFromDOM(e.target,d,1);return{from:c,to:h}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Dx=new WeakMap,_x=!1;function SR(t){if(!Dx.has(t)&&(Dx.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Un,_x)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_x=!0}}function Lx(t,e){let n=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,u=t.domAtPos(t.state.selection.anchor);return kl(u.node,u.offset,s,o)&&([n,i,s,o]=[s,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:o}}function ER(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return Lx(t,s)}let n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?Lx(t,n):null}function TR(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function MR(t,e){var n;let{focusNode:i,focusOffset:s}=t.domSelectionRange();for(let o of e)if(((n=o.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let u=o.nextSibling;for(;u&&u.nodeName!="TD"&&u.nodeName!="TH";)u=u.nextSibling;if(u){let c=u;for(;;){let d=c.firstChild;if(!d||d.nodeType!=1||d.contentEditable=="false"||/^(BR|IMG)$/.test(d.nodeName))break;c=d}c.insertBefore(o,c.firstChild),i==o&&t.domSelection().collapse(o,s)}else o.parentNode.removeChild(o)}}function CR(t,e,n){let{node:i,fromOffset:s,toOffset:o,from:u,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),h,m=d.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],Nf(d)||h.push({node:d.focusNode,offset:d.focusOffset})),It&&t.input.lastKeyCode===8)for(let T=o;T>s;T--){let A=i.childNodes[T-1],_=A.pmViewDesc;if(A.nodeName=="BR"&&!_){o=T;break}if(!_||_.size)break}let y=t.state.doc,b=t.someProp("domParser")||zi.fromSchema(t.state.schema),v=y.resolve(u),S=null,E=b.parse(i,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:AR,context:v});if(h&&h[0].pos!=null){let T=h[0].pos,A=h[1]&&h[1].pos;A==null&&(A=T),S={anchor:T+u,head:A+u}}return{doc:E,sel:S,from:u,to:c}}function AR(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(qt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||qt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const wR=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function kR(t,e,n,i,s){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,K=Ym(t,P);if(K&&!t.state.selection.eq(K)){if(It&&$r&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",fe=>fe(t,ml(13,"Enter"))))return;let J=t.state.tr.setSelection(K);P=="pointer"?J.setMeta("pointer",!0):P=="key"&&J.scrollIntoView(),o&&J.setMeta("composition",o),t.dispatch(J)}return}let u=t.state.doc.resolve(e),c=u.sharedDepth(n);e=u.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d=t.state.selection,h=CR(t,e,n),m=t.state.doc,y=m.slice(h.from,h.to),b,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,v="end"):(b=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let S=RR(y.content,h.doc.content,h.from,b,v);if(S&&t.input.domChangeCount++,(zs&&t.input.lastIOSEnter>Date.now()-225||$r)&&s.some(P=>P.nodeType==1&&!wR.test(P.nodeName))&&(!S||S.endA>=S.endB)&&t.someProp("handleKeyDown",P=>P(t,ml(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!S)if(i&&d instanceof ye&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let P=zx(t,t.state.doc,h.sel);if(P&&!P.eq(t.state.selection)){let K=t.state.tr.setSelection(P);o&&K.setMeta("composition",o),t.dispatch(K)}}return}t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof ye&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),un&&Bi<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>h.from&&h.doc.textBetween(S.start-h.from-1,S.start-h.from+1)==" "&&(S.start--,S.endA--,S.endB--);let E=h.doc.resolveNoCache(S.start-h.from),T=h.doc.resolveNoCache(S.endB-h.from),A=m.resolve(S.start),_=E.sameParent(T)&&E.parent.inlineContent&&A.end()>=S.endA;if((zs&&t.input.lastIOSEnter>Date.now()-225&&(!_||s.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!_&&E.pos<h.doc.content.size&&(!E.sameParent(T)||!E.parent.inlineContent)&&E.pos<T.pos&&!/\S/.test(h.doc.textBetween(E.pos,T.pos,"","")))&&t.someProp("handleKeyDown",P=>P(t,ml(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>S.start&&OR(m,S.start,S.endA,E,T)&&t.someProp("handleKeyDown",P=>P(t,ml(8,"Backspace")))){$r&&It&&t.domObserver.suppressSelectionUpdates();return}It&&S.endB==S.start&&(t.input.lastChromeDelete=Date.now()),$r&&!_&&E.start()!=T.start()&&T.parentOffset==0&&E.depth==T.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==S.endA&&(S.endB-=2,T=h.doc.resolveNoCache(S.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,ml(13,"Enter"))})},20));let B=S.start,$=S.endA,H=P=>{let K=P||t.state.tr.replace(B,$,h.doc.slice(S.start-h.from,S.endB-h.from));if(h.sel){let J=zx(t,K.doc,h.sel);J&&!(It&&t.composing&&J.empty&&(S.start!=S.endB||t.input.lastChromeDelete<Date.now()-100)&&(J.head==B||J.head==K.mapping.map($)-1)||un&&J.empty&&J.head==B)&&K.setSelection(J)}return o&&K.setMeta("composition",o),K.scrollIntoView()},q;if(_)if(E.pos==T.pos){un&&Bi<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Kr(t),20));let P=H(t.state.tr.delete(B,$)),K=m.resolve(S.start).marksAcross(m.resolve(S.endA));K&&P.ensureMarks(K),t.dispatch(P)}else if(S.endA==S.endB&&(q=NR(E.parent.content.cut(E.parentOffset,T.parentOffset),A.parent.content.cut(A.parentOffset,S.endA-A.start())))){let P=H(t.state.tr);q.type=="add"?P.addMark(B,$,q.mark):P.removeMark(B,$,q.mark),t.dispatch(P)}else if(E.parent.child(E.index()).isText&&E.index()==T.index()-(T.textOffset?0:1)){let P=E.parent.textBetween(E.parentOffset,T.parentOffset),K=()=>H(t.state.tr.insertText(P,B,$));t.someProp("handleTextInput",J=>J(t,B,$,P,K))||t.dispatch(K())}else t.dispatch(H());else t.dispatch(H())}function zx(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Km(t,e.resolve(n.anchor),e.resolve(n.head))}function NR(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,s=n,o=i,u,c,d;for(let m=0;m<i.length;m++)s=i[m].removeFromSet(s);for(let m=0;m<n.length;m++)o=n[m].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],u="add",d=m=>m.mark(c.addToSet(m.marks));else if(s.length==0&&o.length==1)c=o[0],u="remove",d=m=>m.mark(c.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(X.from(h).eq(t))return{mark:c,type:u}}function OR(t,e,n,i,s){if(n-e<=s.pos-i.pos||kp(i,!0,!1)<s.pos)return!1;let o=t.resolve(e);if(!i.parent.isTextblock){let c=o.nodeAfter;return c!=null&&n==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let u=t.resolve(kp(o,!0,!0));return!u.parent.isTextblock||u.pos>n||kp(u,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(u.parent.content)}function kp(t,e,n){let i=t.depth,s=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,s++,e=!1;if(n){let o=t.node(i).maybeChild(t.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function RR(t,e,n,i,s){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:u,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,o-Math.min(u,c));i-=u+d-o}if(u<o&&t.size<e.size){let d=i<=o&&i>=u?o-i:0;o-=d,o&&o<e.size&&Bx(e.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-u),u=o}else if(c<o){let d=i<=o&&i>=c?o-i:0;o-=d,o&&o<t.size&&Bx(t.textBetween(o-1,o+1))&&(o+=d?1:-1),u=o+(u-c),c=o}return{start:o,endA:u,endB:c}}function Bx(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class ME{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new YO,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Px),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ux(this),Hx(this),this.nodeViews=Ix(this),this.docView=yx(this.state.doc,jx(this),wp(this),this.dom,this),this.domObserver=new xR(this,(i,s,o,u)=>kR(this,i,s,o,u)),this.domObserver.start(),KO(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&hm(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Px),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let s=this.state,o=!1,u=!1;e.storedMarks&&this.composing&&(yE(this),u=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=Ix(this);_R(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&hm(this),this.editable=Ux(this),Hx(this);let d=wp(this),h=jx(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",y=o||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(s.selection))&&(u=!0);let b=m=="preserve"&&u&&this.dom.style.overflowAnchor==null&&aO(this);if(u){this.domObserver.stop();let v=y&&(un||It)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&DR(s.selection,e.selection);if(y){let S=It?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=aR(this)),(o||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=yx(e.doc,h,d,this.dom,this)),S&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&DO(this))?Kr(this,v):(lE(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&uO(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&fx(this,n.getBoundingClientRect(),e)}else fx(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let o=i.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==i.node&&(s=o)}this.dragging=new vE(e.slice,e.move,s<0?void 0:pe.create(this.state.doc,s))}someProp(e,n){let i=this._props&&this._props[e],s;if(i!=null&&(s=n?n(i):i))return s;for(let u=0;u<this.directPlugins.length;u++){let c=this.directPlugins[u].props[e];if(c!=null&&(s=n?n(c):c))return s}let o=this.state.plugins;if(o)for(let u=0;u<o.length;u++){let c=o[u].props[e];if(c!=null&&(s=n?n(c):c))return s}}hasFocus(){if(un){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&cO(this.dom),Kr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return mO(this,e)}coordsAtPos(e,n=1){return QS(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let s=this.docView.posFromDOM(e,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return xO(this,n||this.state,e)}pasteHTML(e,n){return Ta(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ta(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Xm(this,e)}destroy(){this.docView&&(XO(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],wp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,WN())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return QO(this,e)}domSelectionRange(){let e=this.domSelection();return e?qt&&this.root.nodeType===11&&rO(this.dom.ownerDocument)==this.dom&&ER(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}ME.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function jx(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[Yt.node(0,t.state.doc.content.size,e)]}function Hx(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Yt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Ux(t){return!t.someProp("editable",e=>e(t.state)===!1)}function DR(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Ix(t){let e=Object.create(null);function n(i){for(let s in i)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=i[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function _R(t,e){let n=0,i=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)i++;return n!=i}function Px(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ii={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Vc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},LR=typeof navigator<"u"&&/Mac/.test(navigator.platform),zR=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ut=0;Ut<10;Ut++)Ii[48+Ut]=Ii[96+Ut]=String(Ut);for(var Ut=1;Ut<=24;Ut++)Ii[Ut+111]="F"+Ut;for(var Ut=65;Ut<=90;Ut++)Ii[Ut]=String.fromCharCode(Ut+32),Vc[Ut]=String.fromCharCode(Ut);for(var Np in Ii)Vc.hasOwnProperty(Np)||(Vc[Np]=Ii[Np]);function BR(t){var e=LR&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||zR&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Vc:Ii)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const jR=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),HR=typeof navigator<"u"&&/Win/.test(navigator.platform);function UR(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,s,o,u;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))jR?u=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),u&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function IR(t){let e=Object.create(null);for(let n in t)e[UR(n)]=t[n];return e}function Op(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function PR(t){return new it({props:{handleKeyDown:CE(t)}})}function CE(t){let e=IR(t);return function(n,i){let s=BR(i),o,u=e[Op(s,i)];if(u&&u(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let c=e[Op(s,i,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(HR&&i.ctrlKey&&i.altKey)&&(o=Ii[i.keyCode])&&o!=s){let c=e[Op(o,i)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var VR=Object.defineProperty,tg=(t,e)=>{for(var n in e)VR(t,n,{get:e[n],enumerable:!0})};function Df(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:s}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,o=n.storedMarks,n}}}var _f=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:i}=e,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([u,c])=>[u,(...h)=>{const m=c(...h)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,u=[],c=!!t,d=t||s.tr,h=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),u.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(n).map(([y,b])=>[y,(...S)=>{const E=this.buildProps(d,e),T=b(...S)(E);return u.push(T),m}])),run:h};return m}createCan(t){const{rawCommands:e,state:n}=this,i=!1,s=t||n.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...h)=>d(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,u={tr:t,editor:i,view:o,state:Df({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...h)=>d(...h)(u)]))}};return u}},AE={};tg(AE,{blur:()=>qR,clearContent:()=>GR,clearNodes:()=>$R,command:()=>FR,createParagraphNear:()=>YR,cut:()=>KR,deleteCurrentNode:()=>XR,deleteNode:()=>JR,deleteRange:()=>QR,deleteSelection:()=>WR,enter:()=>ZR,exitCode:()=>eD,extendMarkRange:()=>tD,first:()=>nD,focus:()=>iD,forEach:()=>lD,insertContent:()=>sD,insertContentAt:()=>uD,joinBackward:()=>dD,joinDown:()=>fD,joinForward:()=>hD,joinItemBackward:()=>pD,joinItemForward:()=>mD,joinTextblockBackward:()=>gD,joinTextblockForward:()=>yD,joinUp:()=>cD,keyboardShortcut:()=>vD,lift:()=>xD,liftEmptyBlock:()=>SD,liftListItem:()=>ED,newlineInCode:()=>TD,resetAttributes:()=>MD,scrollIntoView:()=>CD,selectAll:()=>AD,selectNodeBackward:()=>wD,selectNodeForward:()=>kD,selectParentNode:()=>ND,selectTextblockEnd:()=>OD,selectTextblockStart:()=>RD,setContent:()=>DD,setMark:()=>WD,setMeta:()=>ZD,setNode:()=>e2,setNodeSelection:()=>t2,setTextDirection:()=>n2,setTextSelection:()=>r2,sinkListItem:()=>i2,splitBlock:()=>l2,splitListItem:()=>s2,toggleList:()=>o2,toggleMark:()=>a2,toggleNode:()=>u2,toggleWrap:()=>c2,undoInputRule:()=>f2,unsetAllMarks:()=>d2,unsetMark:()=>h2,unsetTextDirection:()=>p2,updateAttributes:()=>m2,wrapIn:()=>g2,wrapInList:()=>y2});var qR=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),GR=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),$R=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:s}=i;return n&&s.forEach(({$from:o,$to:u})=>{t.doc.nodesBetween(o.pos,u.pos,(c,d)=>{if(c.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),b=h.resolve(m.map(d+c.nodeSize)),v=y.blockRange(b);if(!v)return;const S=Ps(v);if(c.type.isTextblock){const{defaultType:E}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,E)}(S||S===0)&&e.lift(v,S)})}),!0},FR=t=>e=>t(e),YR=()=>({state:t,dispatch:e})=>IS(t,e),KR=(t,e)=>({editor:n,tr:i})=>{const{state:s}=n,o=s.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const u=i.mapping.map(e);return i.insert(u,o.content),i.setSelection(new ye(i.doc.resolve(Math.max(u-1,0)))),!0},XR=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i.type){if(e){const c=s.before(o),d=s.after(o);t.delete(c,d).scrollIntoView()}return!0}return!1};function St(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var JR=t=>({tr:e,state:n,dispatch:i})=>{const s=St(t,n.schema),o=e.selection.$anchor;for(let u=o.depth;u>0;u-=1)if(o.node(u).type===s){if(i){const d=o.before(u),h=o.after(u);e.delete(d,h).scrollIntoView()}return!0}return!1},QR=t=>({tr:e,dispatch:n})=>{const{from:i,to:s}=t;return n&&e.delete(i,s),!0},WR=()=>({state:t,dispatch:e})=>Pm(t,e),ZR=()=>({commands:t})=>t.keyboardShortcut("Enter"),eD=()=>({state:t,dispatch:e})=>jN(t,e);function ng(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function qc(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(s=>n.strict?e[s]===t[s]:ng(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function wE(t,e,n={}){return t.find(i=>i.type===e&&qc(Object.fromEntries(Object.keys(n).map(s=>[s,i.attrs[s]])),n))}function Vx(t,e,n={}){return!!wE(t,e,n)}function rg(t,e,n){var i;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(n=n||((i=s.node.marks[0])==null?void 0:i.attrs),!wE([...s.node.marks],e,n)))return;let u=s.index,c=t.start()+s.offset,d=u+1,h=c+s.node.nodeSize;for(;u>0&&Vx([...t.parent.child(u-1).marks],e,n);)u-=1,c-=t.parent.child(u).nodeSize;for(;d<t.parent.childCount&&Vx([...t.parent.child(d).marks],e,n);)h+=t.parent.child(d).nodeSize,d+=1;return{from:c,to:h}}function Jr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var tD=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const o=Jr(t,i.schema),{doc:u,selection:c}=n,{$from:d,from:h,to:m}=c;if(s){const y=rg(d,o,e);if(y&&y.from<=h&&y.to>=m){const b=ye.create(u,y.from,y.to);n.setSelection(b)}}return!0},nD=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function kE(t){return t instanceof ye}function bl(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function NE(t,e=null){if(!e)return null;const n=Ce.atStart(t),i=Ce.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const s=n.from,o=i.to;return e==="all"?ye.create(t,bl(0,s,o),bl(t.content.size,s,o)):ye.create(t,bl(e,s,o),bl(e,s,o))}function qx(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Gc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function rD(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var iD=(t=null,e={})=>({editor:n,view:i,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const u=()=>{(Gc()||qx())&&i.dom.focus(),rD()&&!Gc()&&!qx()&&i.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};try{if(i.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(o&&t===null&&!kE(n.state.selection))return u(),!0;const c=NE(s.doc,t)||n.state.selection,d=n.state.selection.eq(c);return o&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),u()),!0},lD=(t,e)=>n=>t.every((i,s)=>e(i,{...n,index:s})),sD=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),OE=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&OE(i)}return t};function dc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return OE(n)}function Ca(t,e,n){if(t instanceof Wn||t instanceof X)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,s=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return X.fromArray(t.map(c=>e.nodeFromJSON(c)));const u=e.nodeFromJSON(t);return n.errorOnInvalidContent&&u.check(),u}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Ca("",e,n)}if(s){if(n.errorOnInvalidContent){let u=!1,c="";const d=new hS({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(u=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?zi.fromSchema(d).parseSlice(dc(t),n.parseOptions):zi.fromSchema(d).parse(dc(t),n.parseOptions),n.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=zi.fromSchema(e);return n.slice?o.parseSlice(dc(t),n.parseOptions).content:o.parse(dc(t),n.parseOptions)}return Ca("",e,n)}function oD(t,e,n){const i=t.steps.length-1;if(i<e)return;const s=t.steps[i];if(!(s instanceof kt||s instanceof Nt))return;const o=t.mapping.maps[i];let u=0;o.forEach((c,d,h,m)=>{u===0&&(u=m)}),t.setSelection(Ce.near(t.doc.resolve(u),n))}var aD=t=>!("type"in t),uD=(t,e,n)=>({tr:i,dispatch:s,editor:o})=>{var u;if(s){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const d=T=>{o.emit("contentError",{editor:o,error:T,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Ca(e,o.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(T){d(T)}try{c=Ca(e,o.schema,{parseOptions:h,errorOnInvalidContent:(u=n.errorOnInvalidContent)!=null?u:o.options.enableContentCheck})}catch(T){return d(T),!1}let{from:m,to:y}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},b=!0,v=!0;if((aD(c)?c:[c]).forEach(T=>{T.check(),b=b?T.isText&&T.marks.length===0:!1,v=v?T.isBlock:!1}),m===y&&v){const{parent:T}=i.doc.resolve(m);T.isTextblock&&!T.type.spec.code&&!T.childCount&&(m-=1,y+=1)}let E;if(b){if(Array.isArray(e))E=e.map(T=>T.text||"").join("");else if(e instanceof X){let T="";e.forEach(A=>{A.text&&(T+=A.text)}),E=T}else typeof e=="object"&&e&&e.text?E=e.text:E=e;i.insertText(E,m,y)}else{E=c;const T=i.doc.resolve(m),A=T.node(),_=T.parentOffset===0,B=A.isText||A.isTextblock,$=A.content.size>0;_&&B&&$&&(m=Math.max(0,m-1)),i.replaceWith(m,y,E)}n.updateSelection&&oD(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:m,text:E}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:m,text:E})}return!0},cD=()=>({state:t,dispatch:e})=>LN(t,e),fD=()=>({state:t,dispatch:e})=>zN(t,e),dD=()=>({state:t,dispatch:e})=>_S(t,e),hD=()=>({state:t,dispatch:e})=>jS(t,e),pD=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Af(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},mD=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Af(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},gD=()=>({state:t,dispatch:e})=>DN(t,e),yD=()=>({state:t,dispatch:e})=>_N(t,e);function RE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function bD(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,s,o,u;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))Gc()||RE()?u=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return i&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),u&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var vD=t=>({editor:e,view:n,tr:i,dispatch:s})=>{const o=bD(t).split(/-(?!$)/),u=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,c))});return d==null||d.steps.forEach(h=>{const m=h.map(i.mapping);m&&s&&i.maybeStep(m)}),!0};function Pi(t,e,n={}){const{from:i,to:s,empty:o}=t.selection,u=e?St(e,t.schema):null,c=[];t.doc.nodesBetween(i,s,(y,b)=>{if(y.isText)return;const v=Math.max(i,b),S=Math.min(s,b+y.nodeSize);c.push({node:y,from:v,to:S})});const d=s-i,h=c.filter(y=>u?u.name===y.node.type.name:!0).filter(y=>qc(y.node.attrs,n,{strict:!1}));return o?!!h.length:h.reduce((y,b)=>y+b.to-b.from,0)>=d}var xD=(t,e={})=>({state:n,dispatch:i})=>{const s=St(t,n.schema);return Pi(n,s,e)?BN(n,i):!1},SD=()=>({state:t,dispatch:e})=>PS(t,e),ED=t=>({state:e,dispatch:n})=>{const i=St(t,e.schema);return KN(i)(e,n)},TD=()=>({state:t,dispatch:e})=>US(t,e);function Lf(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Gx(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,s)=>(n.includes(s)||(i[s]=t[s]),i),{})}var MD=(t,e)=>({tr:n,state:i,dispatch:s})=>{let o=null,u=null;const c=Lf(typeof t=="string"?t:t.name,i.schema);if(!c)return!1;c==="node"&&(o=St(t,i.schema)),c==="mark"&&(u=Jr(t,i.schema));let d=!1;return n.selection.ranges.forEach(h=>{i.doc.nodesBetween(h.$from.pos,h.$to.pos,(m,y)=>{o&&o===m.type&&(d=!0,s&&n.setNodeMarkup(y,void 0,Gx(m.attrs,e))),u&&m.marks.length&&m.marks.forEach(b=>{u===b.type&&(d=!0,s&&n.addMark(y,y+m.nodeSize,u.create(Gx(b.attrs,e))))})})}),d},CD=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),AD=()=>({tr:t,dispatch:e})=>{if(e){const n=new xn(t.doc);t.setSelection(n)}return!0},wD=()=>({state:t,dispatch:e})=>zS(t,e),kD=()=>({state:t,dispatch:e})=>HS(t,e),ND=()=>({state:t,dispatch:e})=>IN(t,e),OD=()=>({state:t,dispatch:e})=>qN(t,e),RD=()=>({state:t,dispatch:e})=>VN(t,e);function pm(t,e,n={},i={}){return Ca(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}var DD=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:i={}}={})=>({editor:s,tr:o,dispatch:u,commands:c})=>{const{doc:d}=o;if(i.preserveWhitespace!=="full"){const h=pm(t,s.schema,i,{errorOnInvalidContent:e??s.options.enableContentCheck});return u&&o.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!n),!0}return u&&o.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:d.content.size},t,{parseOptions:i,errorOnInvalidContent:e??s.options.enableContentCheck})};function DE(t,e){const n=Jr(e,t.schema),{from:i,to:s,empty:o}=t.selection,u=[];o?(t.storedMarks&&u.push(...t.storedMarks),u.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,s,d=>{u.push(...d.marks)});const c=u.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function _E(t,e){const n=new NS(t);return e.forEach(i=>{i.steps.forEach(s=>{n.step(s)})}),n}function _D(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function LD(t,e,n){const i=[];return t.nodesBetween(e.from,e.to,(s,o)=>{n(s)&&i.push({node:s,pos:o})}),i}function zD(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function zf(t){return e=>zD(e.$from,t)}function ce(t,e,n){return t.config[e]===void 0&&t.parent?ce(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ce(t.parent,e,n):null}):t.config[e]}function ig(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=ce(e,"addExtensions",n);return i?[e,...ig(i())]:e}).flat(10)}function lg(t,e){const n=Ll.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function LE(t){return typeof t=="function"}function Ve(t,e=void 0,...n){return LE(t)?e?t.bind(e)(...n):t(...n):t}function BD(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Bs(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),i=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function zE(t){const e=[],{nodeExtensions:n,markExtensions:i}=Bs(t),s=[...n,...i],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1},u=n.filter(h=>h.name!=="text").map(h=>h.name),c=i.map(h=>h.name),d=[...u,...c];return t.forEach(h=>{const m={name:h.name,options:h.options,storage:h.storage,extensions:s},y=ce(h,"addGlobalAttributes",m);if(!y)return;y().forEach(v=>{let S;Array.isArray(v.types)?S=v.types:v.types==="*"?S=d:v.types==="nodes"?S=u:v.types==="marks"?S=c:S=[],S.forEach(E=>{Object.entries(v.attributes).forEach(([T,A])=>{e.push({type:E,name:T,attribute:{...o,...A}})})})})}),s.forEach(h=>{const m={name:h.name,options:h.options,storage:h.storage},y=ce(h,"addAttributes",m);if(!y)return;const b=y();Object.entries(b).forEach(([v,S])=>{const E={...o,...S};typeof(E==null?void 0:E.default)=="function"&&(E.default=E.default()),E!=null&&E.isRequired&&(E==null?void 0:E.default)===void 0&&delete E.default,e.push({type:h.name,name:v,attribute:E})})}),e}function ht(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([s,o])=>{if(!i[s]){i[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],d=i[s]?i[s].split(" "):[],h=c.filter(m=>!d.includes(m));i[s]=[...d,...h].join(" ")}else if(s==="style"){const c=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],d=i[s]?i[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),c.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),i[s]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else i[s]=o}),i},{})}function Aa(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>ht(n,i),{})}function jD(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function $x(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const s=e.reduce((o,u)=>{const c=u.attribute.parseHTML?u.attribute.parseHTML(n):jD(n.getAttribute(u.name));return c==null?o:{...o,[u.name]:c}},{});return{...i,...s}}}}function Fx(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&BD(n)?!1:n!=null))}function Yx(t){var e,n;const i={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(i.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(i.validate=t.attribute.validate),[t.name,i]}function HD(t,e){var n;const i=zE(t),{nodeExtensions:s,markExtensions:o}=Bs(t),u=(n=s.find(h=>ce(h,"topNode")))==null?void 0:n.name,c=Object.fromEntries(s.map(h=>{const m=i.filter(A=>A.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((A,_)=>{const B=ce(_,"extendNodeSchema",y);return{...A,...B?B(h):{}}},{}),v=Fx({...b,content:Ve(ce(h,"content",y)),marks:Ve(ce(h,"marks",y)),group:Ve(ce(h,"group",y)),inline:Ve(ce(h,"inline",y)),atom:Ve(ce(h,"atom",y)),selectable:Ve(ce(h,"selectable",y)),draggable:Ve(ce(h,"draggable",y)),code:Ve(ce(h,"code",y)),whitespace:Ve(ce(h,"whitespace",y)),linebreakReplacement:Ve(ce(h,"linebreakReplacement",y)),defining:Ve(ce(h,"defining",y)),isolating:Ve(ce(h,"isolating",y)),attrs:Object.fromEntries(m.map(Yx))}),S=Ve(ce(h,"parseHTML",y));S&&(v.parseDOM=S.map(A=>$x(A,m)));const E=ce(h,"renderHTML",y);E&&(v.toDOM=A=>E({node:A,HTMLAttributes:Aa(A,m)}));const T=ce(h,"renderText",y);return T&&(v.toText=T),[h.name,v]})),d=Object.fromEntries(o.map(h=>{const m=i.filter(T=>T.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((T,A)=>{const _=ce(A,"extendMarkSchema",y);return{...T,..._?_(h):{}}},{}),v=Fx({...b,inclusive:Ve(ce(h,"inclusive",y)),excludes:Ve(ce(h,"excludes",y)),group:Ve(ce(h,"group",y)),spanning:Ve(ce(h,"spanning",y)),code:Ve(ce(h,"code",y)),attrs:Object.fromEntries(m.map(Yx))}),S=Ve(ce(h,"parseHTML",y));S&&(v.parseDOM=S.map(T=>$x(T,m)));const E=ce(h,"renderHTML",y);return E&&(v.toDOM=T=>E({mark:T,HTMLAttributes:Aa(T,m)})),[h.name,v]}));return new hS({topNode:u,nodes:c,marks:d})}function UD(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}function ca(t){return t.sort((n,i)=>{const s=ce(n,"priority")||100,o=ce(i,"priority")||100;return s>o?-1:s<o?1:0})}function BE(t){const e=ca(ig(t)),n=UD(e.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),e}function jE(t,e,n){const{from:i,to:s}=e,{blockSeparator:o=`

`,textSerializers:u={}}=n||{};let c="";return t.nodesBetween(i,s,(d,h,m,y)=>{var b;d.isBlock&&h>i&&(c+=o);const v=u==null?void 0:u[d.type.name];if(v)return m&&(c+=v({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(c+=(b=d==null?void 0:d.text)==null?void 0:b.slice(Math.max(i,h)-h,s-h))}),c}function ID(t,e){const n={from:0,to:t.content.size};return jE(t,n,e)}function HE(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function PD(t,e){const n=St(e,t.schema),{from:i,to:s}=t.selection,o=[];t.doc.nodesBetween(i,s,c=>{o.push(c)});const u=o.reverse().find(c=>c.type.name===n.name);return u?{...u.attrs}:{}}function UE(t,e){const n=Lf(typeof e=="string"?e:e.name,t.schema);return n==="node"?PD(t,e):n==="mark"?DE(t,e):{}}function VD(t,e=JSON.stringify){const n={};return t.filter(i=>{const s=e(i);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function qD(t){const e=VD(t);return e.length===1?e:e.filter((n,i)=>!e.filter((o,u)=>u!==i).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function IE(t){const{mapping:e,steps:n}=t,i=[];return e.maps.forEach((s,o)=>{const u=[];if(s.ranges.length)s.forEach((c,d)=>{u.push({from:c,to:d})});else{const{from:c,to:d}=n[o];if(c===void 0||d===void 0)return;u.push({from:c,to:d})}u.forEach(({from:c,to:d})=>{const h=e.slice(o).map(c,-1),m=e.slice(o).map(d),y=e.invert().map(h,-1),b=e.invert().map(m);i.push({oldRange:{from:y,to:b},newRange:{from:h,to:m}})})}),qD(i)}function sg(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(s=>{const o=n.resolve(t),u=rg(o,s.type);u&&i.push({mark:s,...u})}):n.nodesBetween(t,e,(s,o)=>{!s||(s==null?void 0:s.nodeSize)===void 0||i.push(...s.marks.map(u=>({from:o,to:o+s.nodeSize,mark:u})))}),i}var GD=(t,e,n,i=20)=>{const s=t.doc.resolve(n);let o=i,u=null;for(;o>0&&u===null;){const c=s.node(o);(c==null?void 0:c.type.name)===e?u=c:o-=1}return[u,o]};function Wo(t,e){return e.nodes[t]||e.marks[t]||null}function wc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const s=t.find(o=>o.type===e&&o.name===i);return s?s.attribute.keepOnSplit:!1}))}var $D=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(s,o,u,c)=>{var d,h;const m=((h=(d=s.type.spec).toText)==null?void 0:h.call(d,{node:s,pos:o,parent:u,index:c}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,i-o))}),n};function mm(t,e,n={}){const{empty:i,ranges:s}=t.selection,o=e?Jr(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(y=>o?o.name===y.type.name:!0).find(y=>qc(y.attrs,n,{strict:!1}));let u=0;const c=[];if(s.forEach(({$from:y,$to:b})=>{const v=y.pos,S=b.pos;t.doc.nodesBetween(v,S,(E,T)=>{if(o&&E.inlineContent&&!E.type.allowsMarkType(o))return!1;if(!E.isText&&!E.marks.length)return;const A=Math.max(v,T),_=Math.min(S,T+E.nodeSize),B=_-A;u+=B,c.push(...E.marks.map($=>({mark:$,from:A,to:_})))})}),u===0)return!1;const d=c.filter(y=>o?o.name===y.mark.type.name:!0).filter(y=>qc(y.mark.attrs,n,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),h=c.filter(y=>o?y.mark.type!==o&&y.mark.type.excludes(o):!0).reduce((y,b)=>y+b.to-b.from,0);return(d>0?d+h:d)>=u}function FD(t,e,n={}){if(!e)return Pi(t,null,n)||mm(t,null,n);const i=Lf(e,t.schema);return i==="node"?Pi(t,e,n):i==="mark"?mm(t,e,n):!1}var YD=(t,e)=>{const{$from:n,$to:i,$anchor:s}=t.selection;if(e){const o=zf(c=>c.type.name===e)(t.selection);if(!o)return!1;const u=t.doc.resolve(o.pos+1);return s.pos+1===u.end()}return!(i.parentOffset<i.parent.nodeSize-2||n.pos!==i.pos)},KD=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function Kx(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Xx(t,e){const{nodeExtensions:n}=Bs(e),i=n.find(u=>u.name===t);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},o=Ve(ce(i,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Bf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!=null?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(o=>{s!==!1&&(Bf(o,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function PE(t){return t instanceof pe}var VE=class qE{constructor(e){this.position=e}static fromJSON(e){return new qE(e.position)}toJSON(){return{position:this.position}}};function XD(t,e){const n=e.mapping.mapResult(t.position);return{position:new VE(n.pos),mapResult:n}}function JD(t){return new VE(t)}function QD(t,e,n){var i;const{selection:s}=e;let o=null;if(kE(s)&&(o=s.$cursor),o){const c=(i=t.storedMarks)!=null?i:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(h=>h.type.excludes(n)))}const{ranges:u}=s;return u.some(({$from:c,$to:d})=>{let h=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,d.pos,(m,y,b)=>{if(h)return!1;if(m.isInline){const v=!b||b.type.allowsMarkType(n),S=!!n.isInSet(m.marks)||!m.marks.some(E=>E.type.excludes(n));h=v&&S}return!h}),h})}var WD=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const{selection:o}=n,{empty:u,ranges:c}=o,d=Jr(t,i.schema);if(s)if(u){const h=DE(i,d);n.addStoredMark(d.create({...h,...e}))}else c.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;i.doc.nodesBetween(m,y,(b,v)=>{const S=Math.max(v,m),E=Math.min(v+b.nodeSize,y);b.marks.find(A=>A.type===d)?b.marks.forEach(A=>{d===A.type&&n.addMark(S,E,d.create({...A.attrs,...e}))}):n.addMark(S,E,d.create(e))})});return QD(i,n,d)},ZD=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),e2=(t,e={})=>({state:n,dispatch:i,chain:s})=>{const o=St(t,n.schema);let u;return n.selection.$anchor.sameParent(n.selection.$head)&&(u=n.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>ax(o,{...u,...e})(n)?!0:c.clearNodes()).command(({state:c})=>ax(o,{...u,...e})(c,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},t2=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,s=bl(t,0,i.content.size),o=pe.create(i,s);e.setSelection(o)}return!0},n2=(t,e)=>({tr:n,state:i,dispatch:s})=>{const{selection:o}=i;let u,c;return typeof e=="number"?(u=e,c=e):e&&"from"in e&&"to"in e?(u=e.from,c=e.to):(u=o.from,c=o.to),s&&n.doc.nodesBetween(u,c,(d,h)=>{d.isText||n.setNodeMarkup(h,void 0,{...d.attrs,dir:t})}),!0},r2=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:s,to:o}=typeof t=="number"?{from:t,to:t}:t,u=ye.atStart(i).from,c=ye.atEnd(i).to,d=bl(s,u,c),h=bl(o,u,c),m=ye.create(i,d,h);e.setSelection(m)}return!0},i2=t=>({state:e,dispatch:n})=>{const i=St(t,e.schema);return QN(i)(e,n)};function Jx(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(i)}}var l2=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:s})=>{const{selection:o,doc:u}=e,{$from:c,$to:d}=o,h=s.extensionManager.attributes,m=wc(h,c.node().type.name,c.node().attrs);if(o instanceof pe&&o.node.isBlock)return!c.parentOffset||!Yr(u,c.pos)?!1:(i&&(t&&Jx(n,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,b=c.depth===0?void 0:_D(c.node(-1).contentMatchAt(c.indexAfter(-1)));let v=y&&b?[{type:b,attrs:m}]:void 0,S=Yr(e.doc,e.mapping.map(c.pos),1,v);if(!v&&!S&&Yr(e.doc,e.mapping.map(c.pos),1,b?[{type:b}]:void 0)&&(S=!0,v=b?[{type:b,attrs:m}]:void 0),i){if(S&&(o instanceof ye&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,v),b&&!y&&!c.parentOffset&&c.parent.type!==b)){const E=e.mapping.map(c.before()),T=e.doc.resolve(E);c.node(-1).canReplaceWith(T.index(),T.index()+1,b)&&e.setNodeMarkup(e.mapping.map(c.before()),b)}t&&Jx(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return S},s2=(t,e={})=>({tr:n,state:i,dispatch:s,editor:o})=>{var u;const c=St(t,i.schema),{$from:d,$to:h}=i.selection,m=i.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==c)return!1;const b=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let A=X.empty;const _=d.index(-1)?1:d.index(-2)?2:3;for(let K=d.depth-_;K>=d.depth-3;K-=1)A=X.from(d.node(K).copy(A));const B=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,$={...wc(b,d.node().type.name,d.node().attrs),...e},H=((u=c.contentMatch.defaultType)==null?void 0:u.createAndFill($))||void 0;A=A.append(X.from(c.createAndFill(null,H)||void 0));const q=d.before(d.depth-(_-1));n.replace(q,d.after(-B),new ne(A,4-_,0));let P=-1;n.doc.nodesBetween(q,n.doc.content.size,(K,J)=>{if(P>-1)return!1;K.isTextblock&&K.content.size===0&&(P=J+1)}),P>-1&&n.setSelection(ye.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const v=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,S={...wc(b,y.type.name,y.attrs),...e},E={...wc(b,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,h.pos);const T=v?[{type:c,attrs:S},{type:v,attrs:E}]:[{type:c,attrs:S}];if(!Yr(n.doc,d.pos,2))return!1;if(s){const{selection:A,storedMarks:_}=i,{splittableMarks:B}=o.extensionManager,$=_||A.$to.parentOffset&&A.$from.marks();if(n.split(d.pos,2,T).scrollIntoView(),!$||!s)return!0;const H=$.filter(q=>B.includes(q.type.name));n.ensureMarks(H)}return!0},Rp=(t,e)=>{const n=zf(u=>u.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&qi(t.doc,n.pos)&&t.join(n.pos),!0},Dp=(t,e)=>{const n=zf(u=>u.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&qi(t.doc,i)&&t.join(i),!0},o2=(t,e,n,i={})=>({editor:s,tr:o,state:u,dispatch:c,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:b}=s.extensionManager,v=St(t,u.schema),S=St(e,u.schema),{selection:E,storedMarks:T}=u,{$from:A,$to:_}=E,B=A.blockRange(_),$=T||E.$to.parentOffset&&E.$from.marks();if(!B)return!1;const H=zf(q=>Xx(q.type.name,y))(E);if(B.depth>=1&&H&&B.depth-H.depth<=1){if(H.node.type===v)return h.liftListItem(S);if(Xx(H.node.type.name,y)&&v.validContent(H.node.content)&&c)return d().command(()=>(o.setNodeMarkup(H.pos,v),!0)).command(()=>Rp(o,v)).command(()=>Dp(o,v)).run()}return!n||!$||!c?d().command(()=>m().wrapInList(v,i)?!0:h.clearNodes()).wrapInList(v,i).command(()=>Rp(o,v)).command(()=>Dp(o,v)).run():d().command(()=>{const q=m().wrapInList(v,i),P=$.filter(K=>b.includes(K.type.name));return o.ensureMarks(P),q?!0:h.clearNodes()}).wrapInList(v,i).command(()=>Rp(o,v)).command(()=>Dp(o,v)).run()},a2=(t,e={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:o=!1}=n,u=Jr(t,i.schema);return mm(i,u,e)?s.unsetMark(u,{extendEmptyMarkRange:o}):s.setMark(u,e)},u2=(t,e,n={})=>({state:i,commands:s})=>{const o=St(t,i.schema),u=St(e,i.schema),c=Pi(i,o,n);let d;return i.selection.$anchor.sameParent(i.selection.$head)&&(d=i.selection.$anchor.parent.attrs),c?s.setNode(u,d):s.setNode(o,{...d,...n})},c2=(t,e={})=>({state:n,commands:i})=>{const s=St(t,n.schema);return Pi(n,s,e)?i.lift(s):i.wrapIn(s,e)},f2=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const s=n[i];let o;if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const u=t.tr,c=o.transform;for(let d=c.steps.length-1;d>=0;d-=1)u.step(c.steps[d].invert(c.docs[d]));if(o.text){const d=u.doc.resolve(o.from).marks();u.replaceWith(o.from,o.to,t.schema.text(o.text,d))}else u.delete(o.from,o.to)}return!0}}return!1},d2=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:s}=n;return i||e&&s.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},h2=(t,e={})=>({tr:n,state:i,dispatch:s})=>{var o;const{extendEmptyMarkRange:u=!1}=e,{selection:c}=n,d=Jr(t,i.schema),{$from:h,empty:m,ranges:y}=c;if(!s)return!0;if(m&&u){let{from:b,to:v}=c;const S=(o=h.marks().find(T=>T.type===d))==null?void 0:o.attrs,E=rg(h,d,S);E&&(b=E.from,v=E.to),n.removeMark(b,v,d)}else y.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,d)});return n.removeStoredMark(d),!0},p2=t=>({tr:e,state:n,dispatch:i})=>{const{selection:s}=n;let o,u;return typeof t=="number"?(o=t,u=t):t&&"from"in t&&"to"in t?(o=t.from,u=t.to):(o=s.from,u=s.to),i&&e.doc.nodesBetween(o,u,(c,d)=>{if(c.isText)return;const h={...c.attrs};delete h.dir,e.setNodeMarkup(d,void 0,h)}),!0},m2=(t,e={})=>({tr:n,state:i,dispatch:s})=>{let o=null,u=null;const c=Lf(typeof t=="string"?t:t.name,i.schema);if(!c)return!1;c==="node"&&(o=St(t,i.schema)),c==="mark"&&(u=Jr(t,i.schema));let d=!1;return n.selection.ranges.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;let b,v,S,E;n.selection.empty?i.doc.nodesBetween(m,y,(T,A)=>{o&&o===T.type&&(d=!0,S=Math.max(A,m),E=Math.min(A+T.nodeSize,y),b=A,v=T)}):i.doc.nodesBetween(m,y,(T,A)=>{A<m&&o&&o===T.type&&(d=!0,S=Math.max(A,m),E=Math.min(A+T.nodeSize,y),b=A,v=T),A>=m&&A<=y&&(o&&o===T.type&&(d=!0,s&&n.setNodeMarkup(A,void 0,{...T.attrs,...e})),u&&T.marks.length&&T.marks.forEach(_=>{if(u===_.type&&(d=!0,s)){const B=Math.max(A,m),$=Math.min(A+T.nodeSize,y);n.addMark(B,$,u.create({..._.attrs,...e}))}}))}),v&&(b!==void 0&&s&&n.setNodeMarkup(b,void 0,{...v.attrs,...e}),u&&v.marks.length&&v.marks.forEach(T=>{u===T.type&&s&&n.addMark(S,E,u.create({...T.attrs,...e}))}))}),d},g2=(t,e={})=>({state:n,dispatch:i})=>{const s=St(t,n.schema);return GN(s,e)(n,i)},y2=(t,e={})=>({state:n,dispatch:i})=>{const s=St(t,n.schema);return $N(s,e)(n,i)},b2=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(i=>i!==e):delete this.callbacks[t]),this}once(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},jf=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},v2=(t,e)=>{if(ng(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function hc(t){var e;const{editor:n,from:i,to:s,text:o,rules:u,plugin:c}=t,{view:d}=n;if(d.composing)return!1;const h=d.state.doc.resolve(i);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const y=$D(h)+o;return u.forEach(b=>{if(m)return;const v=v2(y,b.find);if(!v)return;const S=d.state.tr,E=Df({state:d.state,transaction:S}),T={from:i-(v[0].length-o.length),to:s},{commands:A,chain:_,can:B}=new _f({editor:n,state:E});b.handler({state:E,range:T,match:v,commands:A,chain:_,can:B})===null||!S.steps.length||(b.undoable&&S.setMeta(c,{transform:S,from:i,to:s,text:o}),d.dispatch(S),m=!0)}),m}function x2(t){const{editor:e,rules:n}=t,i=new it({state:{init(){return null},apply(s,o,u){const c=s.getMeta(i);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=lg(X.from(m),u.schema);const{from:y}=d,b=y+m.length;hc({editor:e,from:y,to:b,text:m,rules:n,plugin:i})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,u,c){return hc({editor:e,from:o,to:u,text:c,rules:n,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&hc({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:u}=s.state.selection;return u?hc({editor:e,from:u.pos,to:u.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function S2(t){return Object.prototype.toString.call(t).slice(8,-1)}function pc(t){return S2(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function GE(t,e){const n={...t};return pc(t)&&pc(e)&&Object.keys(e).forEach(i=>{pc(e[i])&&pc(t[i])?n[i]=GE(t[i],e[i]):n[i]=e[i]}),n}var og=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ve(ce(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ve(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>GE(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},$i=class $E extends og{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new $E(n)}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const u=s.marks();if(!!!u.find(h=>(h==null?void 0:h.type.name)===n.name))return!1;const d=u.find(h=>(h==null?void 0:h.type.name)===n.name);return d&&i.removeStoredMark(d),i.insertText(" ",s.pos),e.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function E2(t){return typeof t=="number"}var T2=class{constructor(t){this.find=t.find,this.handler=t.handler}},M2=(t,e,n)=>{if(ng(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(s=>{const o=[s.text];return o.index=s.index,o.input=t,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function C2(t){const{editor:e,state:n,from:i,to:s,rule:o,pasteEvent:u,dropEvent:c}=t,{commands:d,chain:h,can:m}=new _f({editor:e,state:n}),y=[];return n.doc.nodesBetween(i,s,(v,S)=>{var E,T,A,_,B;if((T=(E=v.type)==null?void 0:E.spec)!=null&&T.code||!(v.isText||v.isTextblock||v.isInline))return;const $=(B=(_=(A=v.content)==null?void 0:A.size)!=null?_:v.nodeSize)!=null?B:0,H=Math.max(i,S),q=Math.min(s,S+$);if(H>=q)return;const P=v.isText?v.text||"":v.textBetween(H-S,q-S,void 0,"");M2(P,o.find,u).forEach(J=>{if(J.index===void 0)return;const fe=H+J.index+1,oe=fe+J[0].length,Te={from:n.tr.mapping.map(fe),to:n.tr.mapping.map(oe)},te=o.handler({state:n,range:Te,match:J,commands:d,chain:h,can:m,pasteEvent:u,dropEvent:c});y.push(te)})}),y.every(v=>v!==null)}var mc=null,A2=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function w2(t){const{editor:e,rules:n}=t;let i=null,s=!1,o=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:m,from:y,to:b,rule:v,pasteEvt:S})=>{const E=m.tr,T=Df({state:m,transaction:E});if(!(!C2({editor:e,state:T,from:Math.max(y-1,0),to:b.b-1,rule:v,pasteEvent:S,dropEvent:c})||!E.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(m=>new it({view(y){const b=S=>{var E;i=(E=y.dom.parentElement)!=null&&E.contains(S.target)?y.dom.parentElement:null,i&&(mc=e)},v=()=>{mc&&(mc=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(o=i===y.dom.parentElement,c=b,!o){const v=mc;v!=null&&v.isEditable&&setTimeout(()=>{const S=v.state.selection;S&&v.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(y,b)=>{var v;const S=(v=b.clipboardData)==null?void 0:v.getData("text/html");return u=b,s=!!(S!=null&&S.includes("data-pm-slice")),!1}}},appendTransaction:(y,b,v)=>{const S=y[0],E=S.getMeta("uiEvent")==="paste"&&!s,T=S.getMeta("uiEvent")==="drop"&&!o,A=S.getMeta("applyPasteRules"),_=!!A;if(!E&&!T&&!_)return;if(_){let{text:H}=A;typeof H=="string"?H=H:H=lg(X.from(H),v.schema);const{from:q}=A,P=q+H.length,K=A2(H);return d({rule:m,state:v,from:q,to:{b:P},pasteEvt:K})}const B=b.doc.content.findDiffStart(v.doc.content),$=b.doc.content.findDiffEnd(v.doc.content);if(!(!E2(B)||!$||B===$.b))return d({rule:m,state:v,from:B,to:$,pasteEvt:u})}}))}var Hf=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=BE(t),this.schema=HD(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Wo(e.name,this.schema)},i=ce(e,"addCommands",n);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this;return ca([...this.extensions].reverse()).flatMap(i=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:Wo(i.name,this.schema)},o=[],u=ce(i,"addKeyboardShortcuts",s);let c={};if(i.type==="mark"&&ce(i,"exitable",s)&&(c.ArrowRight=()=>$i.handleExit({editor:t,mark:i})),u){const b=Object.fromEntries(Object.entries(u()).map(([v,S])=>[v,()=>S({editor:t})]));c={...c,...b}}const d=PR(c);o.push(d);const h=ce(i,"addInputRules",s);if(Kx(i,t.options.enableInputRules)&&h){const b=h();if(b&&b.length){const v=x2({editor:t,rules:b}),S=Array.isArray(v)?v:[v];o.push(...S)}}const m=ce(i,"addPasteRules",s);if(Kx(i,t.options.enablePasteRules)&&m){const b=m();if(b&&b.length){const v=w2({editor:t,rules:b});o.push(...v)}}const y=ce(i,"addProseMirrorPlugins",s);if(y){const b=y();o.push(...b)}return o})}get attributes(){return zE(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Bs(this.extensions);return Object.fromEntries(e.filter(n=>!!ce(n,"addNodeView")).map(n=>{const i=this.attributes.filter(d=>d.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:St(n.name,this.schema)},o=ce(n,"addNodeView",s);if(!o)return[];const u=o();if(!u)return[];const c=(d,h,m,y,b)=>{const v=Aa(d,i);return u({node:d,view:h,getPos:m,decorations:y,innerDecorations:b,editor:t,extension:n,HTMLAttributes:v})};return[n.name,c]}))}dispatchTransaction(t){const{editor:e}=this;return ca([...this.extensions].reverse()).reduceRight((i,s)=>{const o={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:Wo(s.name,this.schema)},u=ce(s,"dispatchTransaction",o);return u?c=>{u.call(o,{transaction:c,next:i})}:i},t)}transformPastedHTML(t){const{editor:e}=this;return ca([...this.extensions]).reduce((i,s)=>{const o={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:Wo(s.name,this.schema)},u=ce(s,"transformPastedHTML",o);return u?(c,d)=>{const h=i(c,d);return u.call(o,h)}:i},t||(i=>i))}get markViews(){const{editor:t}=this,{markExtensions:e}=Bs(this.extensions);return Object.fromEntries(e.filter(n=>!!ce(n,"addMarkView")).map(n=>{const i=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Jr(n.name,this.schema)},o=ce(n,"addMarkView",s);if(!o)return[];const u=(c,d,h)=>{const m=Aa(c,i);return o()({mark:c,view:d,inline:h,editor:t,extension:n,HTMLAttributes:m,updateAttributes:y=>{P2(c,t,y)}})};return[n.name,u]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const i={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Wo(e.name,this.schema)};e.type==="mark"&&((n=Ve(ce(e,"keepOnSplit",i)))==null||n)&&this.splittableMarks.push(e.name);const s=ce(e,"onBeforeCreate",i),o=ce(e,"onCreate",i),u=ce(e,"onUpdate",i),c=ce(e,"onSelectionUpdate",i),d=ce(e,"onTransaction",i),h=ce(e,"onFocus",i),m=ce(e,"onBlur",i),y=ce(e,"onDestroy",i);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),u&&this.editor.on("update",u),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}};Hf.resolve=BE;Hf.sort=ca;Hf.flatten=ig;var k2={};tg(k2,{ClipboardTextSerializer:()=>YE,Commands:()=>KE,Delete:()=>XE,Drop:()=>JE,Editable:()=>QE,FocusEvents:()=>ZE,Keymap:()=>eT,Paste:()=>tT,Tabindex:()=>nT,TextDirection:()=>rT,focusEventsPluginKey:()=>WE});var Fe=class FE extends og{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new FE(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},YE=Fe.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new it({key:new Mt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:s}=e,{ranges:o}=s,u=Math.min(...o.map(m=>m.$from.pos)),c=Math.max(...o.map(m=>m.$to.pos)),d=HE(n);return jE(i,{from:u,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),KE=Fe.create({name:"commands",addCommands(){return{...AE}}}),XE=Fe.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,i,s;const o=()=>{var u,c,d,h;if((h=(d=(c=(u=this.editor.options.coreExtensionOptions)==null?void 0:u.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,t))!=null?h:t.getMeta("y-sync$"))return;const m=_E(t.before,[t,...e]);IE(m).forEach(v=>{m.mapping.mapResult(v.oldRange.from).deletedAfter&&m.mapping.mapResult(v.oldRange.to).deletedBefore&&m.before.nodesBetween(v.oldRange.from,v.oldRange.to,(S,E)=>{const T=E+S.nodeSize-2,A=v.oldRange.from<=E&&T<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:E,to:T,newFrom:m.mapping.map(E),newTo:m.mapping.map(T),deletedRange:v.oldRange,newRange:v.newRange,partial:!A,editor:this.editor,transaction:t,combinedTransform:m})})});const b=m.mapping;m.steps.forEach((v,S)=>{var E,T;if(v instanceof Qn){const A=b.slice(S).map(v.from,-1),_=b.slice(S).map(v.to),B=b.invert().map(A,-1),$=b.invert().map(_),H=(E=m.doc.nodeAt(A-1))==null?void 0:E.marks.some(P=>P.eq(v.mark)),q=(T=m.doc.nodeAt(_))==null?void 0:T.marks.some(P=>P.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:B,to:$},newRange:{from:A,to:_},partial:!!(q||H),editor:this.editor,transaction:t,combinedTransform:m})}})};(s=(i=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:i.async)==null||s?setTimeout(o,0):o()}}),JE=Fe.create({name:"drop",addProseMirrorPlugins(){return[new it({key:new Mt("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),QE=Fe.create({name:"editable",addProseMirrorPlugins(){return[new it({key:new Mt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),WE=new Mt("focusEvents"),ZE=Fe.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new it({key:WE,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),eT=Fe.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:c})=>{const{selection:d,doc:h}=c,{empty:m,$anchor:y}=d,{pos:b,parent:v}=y,S=y.parent.isTextblock&&b>0?c.doc.resolve(b-1):y,E=S.parent.type.spec.isolating,T=y.pos-y.parentOffset,A=E&&S.parent.childCount===1?T===y.pos:Ce.atStart(h).from===b;return!m||!v.type.isTextblock||v.textContent.length||!A||A&&y.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},o={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Gc()||RE()?o:s},addProseMirrorPlugins(){return[new it({key:new Mt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const i=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),s=t.some(E=>E.getMeta("preventClearDocument"));if(!i||s)return;const{empty:o,from:u,to:c}=e.selection,d=Ce.atStart(e.doc).from,h=Ce.atEnd(e.doc).to;if(o||!(u===d&&c===h)||!Bf(n.doc))return;const b=n.tr,v=Df({state:n,transaction:b}),{commands:S}=new _f({editor:this.editor,state:v});if(S.clearNodes(),!!b.steps.length)return b}})]}}),tT=Fe.create({name:"paste",addProseMirrorPlugins(){return[new it({key:new Mt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),nT=Fe.create({name:"tabindex",addProseMirrorPlugins(){return[new it({key:new Mt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),rT=Fe.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Bs(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new it({key:new Mt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),N2=class ia{constructor(e,n,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ia(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ia(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ia(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const s=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,u=n.isInline,c=this.pos+i+(o?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(c);if(!s&&!u&&d.depth<=this.depth)return;const h=new ia(d,this.editor,s,s||u?n:null);s&&(h.actualDepth=this.depth+1),e.push(h)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===e)if(Object.keys(n).length>0){const o=s.node.attrs,u=Object.keys(n);for(let c=0;c<u.length;c+=1){const d=u[c];if(o[d]!==n[d])break}}else i=s;s=s.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(n);return this.children.forEach(u=>{i&&s.length>0||(u.node.type.name===e&&o.every(d=>n[d]===u.node.attrs[d])&&s.push(u),!(i&&s.length>0)&&(s=s.concat(u.querySelectorAll(e,n,i))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},O2=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function R2(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var D2=class extends b2{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:XD,createMappablePosition:JD},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:s,moved:o})=>this.options.onDrop(i,s,o)),this.on("paste",({event:i,slice:s})=>this.options.onPaste(i,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=NE(e,this.options.autofocus);this.editorState=ws.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=R2(O2,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=LE(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=n.filter(u=>!u.key.startsWith(o))}),e.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var t,e;const i=[...this.options.enableCoreExtensions?[QE,YE.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),KE,ZE,eT,nT,JE,tT,XE,rT.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Hf(i,this)}createCommandManager(){this.commandManager=new _f({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=pm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=pm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,i=e.dispatchTransaction||this.dispatchTransaction.bind(this),s=n?this.extensionManager.dispatchTransaction(i):i,o=e.transformPastedHTML,u=this.extensionManager.transformPastedHTML(o);this.editorView=new ME(t,{...e,attributes:{role:"textbox",...e==null?void 0:e.attributes},dispatchTransaction:s,transformPastedHTML:u,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const c=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(c),this.prependClass(),this.injectCSS();const d=this.view.dom;d.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),i=!this.state.selection.eq(e.selection),s=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const u=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),c=u==null?void 0:u.getMeta("focus"),d=u==null?void 0:u.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:u}),d&&this.emit("blur",{editor:this,event:d.event,transaction:u}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return UE(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,i=typeof t=="string"?e:t;return FD(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return lg(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return ID(this.state.doc,{blockSeparator:e,textSerializers:{...HE(this.schema),...n}})}get isEmpty(){return Bf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new N2(e,this)}get $doc(){return this.$pos(0)}};function js(t){return new jf({find:t.find,handler:({state:e,range:n,match:i})=>{const s=Ve(t.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:o}=e,u=i[i.length-1],c=i[0];if(u){const d=c.search(/\S/),h=n.from+c.indexOf(u),m=h+u.length;if(sg(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(E=>E===t.type&&E!==v.mark.type)).filter(v=>v.to>h).length)return null;m<n.to&&o.delete(m,n.to),h>n.from&&o.delete(n.from+d,h);const b=n.from+d+u.length;o.addMark(n.from+d,b,t.type.create(s||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function _2(t){return new jf({find:t.find,handler:({state:e,range:n,match:i})=>{const s=Ve(t.getAttributes,void 0,i)||{},{tr:o}=e,u=n.from;let c=n.to;const d=t.type.create(s);if(i[1]){const h=i[0].lastIndexOf(i[1]);let m=u+h;m>c?m=c:c=m+i[1].length;const y=i[0][i[0].length-1];o.insertText(y,u+i[0].length-1),o.replaceWith(m,c,d)}else if(i[0]){const h=t.type.isInline?u:u-1;o.insert(h,t.type.create(s)).delete(o.mapping.map(u),o.mapping.map(c))}o.scrollIntoView()},undoable:t.undoable})}function gm(t){return new jf({find:t.find,handler:({state:e,range:n,match:i})=>{const s=e.doc.resolve(n.from),o=Ve(t.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function Hs(t){return new jf({find:t.find,handler:({state:e,range:n,match:i,chain:s})=>{const o=Ve(t.getAttributes,void 0,i)||{},u=e.tr.delete(n.from,n.to),d=u.doc.resolve(n.from).blockRange(),h=d&&Um(d,t.type,o);if(!h)return null;if(u.wrap(d,h),t.keepMarks&&t.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:v}=t.editor.extensionManager,S=b||y.$to.parentOffset&&y.$from.marks();if(S){const E=S.filter(T=>v.includes(T.type.name));u.ensureMarks(E)}}if(t.keepAttributes){const y=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(y,o).run()}const m=u.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&qi(u.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,m))&&u.join(n.from-1)},undoable:t.undoable})}function L2(t,e){const{selection:n}=t,{$from:i}=n;if(n instanceof pe){const o=i.index();return i.parent.canReplaceWith(o,o+1,e)}let s=i.depth;for(;s>=0;){const o=i.index(s);if(i.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}var z2={};tg(z2,{createAtomBlockMarkdownSpec:()=>B2,createBlockMarkdownSpec:()=>j2,createInlineMarkdownSpec:()=>I2,parseAttributes:()=>ag,parseIndentedBlocks:()=>ym,renderNestedMarkdownContent:()=>cg,serializeAttributes:()=>ug});function ag(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],i=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),s=i.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(m=>m.trim().slice(1));e.class=h.join(" ")}const o=i.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const u=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(i.matchAll(u)).forEach(([,h,m])=>{var y;const b=parseInt(((y=m.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),v=n[b];v&&(e[h]=v.slice(1,-1))});const d=i.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function ug(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(i=>e.push(`.${i}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,i])=>{n==="class"||n==="id"||(i===!0?e.push(n):i!==!1&&i!=null&&e.push(`${n}="${String(i)}"`))}),e.join(" ")}function B2(t){const{nodeName:e,name:n,parseAttributes:i=ag,serializeAttributes:s=ug,defaultAttributes:o={},requiredAttributes:u=[],allowedAttributes:c}=t,d=n||e,h=m=>{if(!c)return m;const y={};return c.forEach(b=>{b in m&&(y[b]=m[b])}),y};return{parseMarkdown:(m,y)=>{const b={...o,...m.attributes};return y.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(m){var y;const b=new RegExp(`^:::${d}(?:\\s|$)`,"m"),v=(y=m.match(b))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(m,y,b){const v=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),S=m.match(v);if(!S)return;const E=S[1]||"",T=i(E);if(!u.find(_=>!(_ in T)))return{type:e,raw:S[0],attributes:T}}},renderMarkdown:m=>{const y=h(m.attrs||{}),b=s(y),v=b?` {${b}}`:"";return`:::${d}${v} :::`}}}function j2(t){const{nodeName:e,name:n,getContent:i,parseAttributes:s=ag,serializeAttributes:o=ug,defaultAttributes:u={},content:c="block",allowedAttributes:d}=t,h=n||e,m=y=>{if(!d)return y;const b={};return d.forEach(v=>{v in y&&(b[v]=y[v])}),b};return{parseMarkdown:(y,b)=>{let v;if(i){const E=i(y);v=typeof E=="string"?[{type:"text",text:E}]:E}else c==="block"?v=b.parseChildren(y.tokens||[]):v=b.parseInline(y.tokens||[]);const S={...u,...y.attributes};return b.createNode(e,S,v)},markdownTokenizer:{name:e,level:"block",start(y){var b;const v=new RegExp(`^:::${h}`,"m"),S=(b=y.match(v))==null?void 0:b.index;return S!==void 0?S:-1},tokenize(y,b,v){var S;const E=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),T=y.match(E);if(!T)return;const[A,_=""]=T,B=s(_);let $=1;const H=A.length;let q="";const P=/^:::([\w-]*)(\s.*)?/gm,K=y.slice(H);for(P.lastIndex=0;;){const J=P.exec(K);if(J===null)break;const fe=J.index,oe=J[1];if(!((S=J[2])!=null&&S.endsWith(":::"))){if(oe)$+=1;else if($-=1,$===0){const Te=K.slice(0,fe);q=Te.trim();const te=y.slice(0,H+fe+J[0].length);let de=[];if(q)if(c==="block")for(de=v.blockTokens(Te),de.forEach(Se=>{Se.text&&(!Se.tokens||Se.tokens.length===0)&&(Se.tokens=v.inlineTokens(Se.text))});de.length>0;){const Se=de[de.length-1];if(Se.type==="paragraph"&&(!Se.text||Se.text.trim()===""))de.pop();else break}else de=v.inlineTokens(q);return{type:e,raw:te,attributes:B,content:q,tokens:de}}}}}},renderMarkdown:(y,b)=>{const v=m(y.attrs||{}),S=o(v),E=S?` {${S}}`:"",T=b.renderChildren(y.content||[],`

`);return`:::${h}${E}

${T}

:::`}}}function H2(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let i=n.exec(t);for(;i!==null;){const[,s,o,u]=i;e[s]=o||u,i=n.exec(t)}return e}function U2(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function I2(t){const{nodeName:e,name:n,getContent:i,parseAttributes:s=H2,serializeAttributes:o=U2,defaultAttributes:u={},selfClosing:c=!1,allowedAttributes:d}=t,h=n||e,m=b=>{if(!d)return b;const v={};return d.forEach(S=>{const E=typeof S=="string"?S:S.name,T=typeof S=="string"?void 0:S.skipIfDefault;if(E in b){const A=b[E];if(T!==void 0&&A===T)return;v[E]=A}}),v},y=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,v)=>{const S={...u,...b.attributes};if(c)return v.createNode(e,S);const E=i?i(b):b.content||"";return E?v.createNode(e,S,[v.createTextNode(E)]):v.createNode(e,S,[])},markdownTokenizer:{name:e,level:"inline",start(b){const v=c?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),S=b.match(v),E=S==null?void 0:S.index;return E!==void 0?E:-1},tokenize(b,v,S){const E=c?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),T=b.match(E);if(!T)return;let A="",_="";if(c){const[,$]=T;_=$}else{const[,$,H]=T;_=$,A=H||""}const B=s(_.trim());return{type:e,raw:T[0],content:A.trim(),attributes:B}}},renderMarkdown:b=>{let v="";i?v=i(b):b.content&&b.content.length>0&&(v=b.content.filter(A=>A.type==="text").map(A=>A.text).join(""));const S=m(b.attrs||{}),E=o(S),T=E?` ${E}`:"";return c?`[${h}${T}]`:`[${h}${T}]${v}[/${h}]`}}}function ym(t,e,n){var i,s,o,u;const c=t.split(`
`),d=[];let h="",m=0;const y=e.baseIndentSize||2;for(;m<c.length;){const b=c[m],v=b.match(e.itemPattern);if(!v){if(d.length>0)break;if(b.trim()===""){m+=1,h=`${h}${b}
`;continue}else return}const S=e.extractItemData(v),{indentLevel:E,mainContent:T}=S;h=`${h}${b}
`;const A=[T];for(m+=1;m<c.length;){const H=c[m];if(H.trim()===""){const P=c.slice(m+1).findIndex(fe=>fe.trim()!=="");if(P===-1)break;if((((s=(i=c[m+1+P].match(/^(\s*)/))==null?void 0:i[1])==null?void 0:s.length)||0)>E){A.push(H),h=`${h}${H}
`,m+=1;continue}else break}if((((u=(o=H.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:u.length)||0)>E)A.push(H),h=`${h}${H}
`,m+=1;else break}let _;const B=A.slice(1);if(B.length>0){const H=B.map(q=>q.slice(E+y)).join(`
`);H.trim()&&(e.customNestedParser?_=e.customNestedParser(H):_=n.blockTokens(H))}const $=e.createToken(S,_);d.push($)}if(d.length!==0)return{items:d,raw:h}}function cg(t,e,n,i){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(i):n,[o,...u]=t.content,c=e.renderChildren([o]),d=[`${s}${c}`];return u&&u.length>0&&u.forEach(h=>{const m=e.renderChildren([h]);if(m){const y=m.split(`
`).map(b=>b?e.indent(b):"").join(`
`);d.push(y)}}),d.join(`
`)}function P2(t,e,n={}){const{state:i}=e,{doc:s,tr:o}=i,u=t;s.descendants((c,d)=>{const h=o.mapping.map(d),m=o.mapping.map(d)+c.nodeSize;let y=null;if(c.marks.forEach(v=>{if(v!==u)return!1;y=v}),!y)return;let b=!1;if(Object.keys(n).forEach(v=>{n[v]!==y.attrs[v]&&(b=!0)}),b){const v=t.type.create({...t.attrs,...n});o.removeMark(h,m,t.type),o.addMark(h,m,v)}}),o.docChanged&&e.view.dispatch(o)}var Sn=class iT extends og{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new iT(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Ol(t){return new T2({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:s})=>{const o=Ve(t.getAttributes,void 0,i,s);if(o===!1||o===null)return null;const{tr:u}=e,c=i[i.length-1],d=i[0];let h=n.to;if(c){const m=d.search(/\S/),y=n.from+d.indexOf(c),b=y+c.length;if(sg(n.from,n.to,e.doc).filter(S=>S.mark.type.excluded.find(T=>T===t.type&&T!==S.mark.type)).filter(S=>S.to>y).length)return null;b<n.to&&u.delete(b,n.to),y>n.from&&u.delete(n.from+m,y),h=n.from+m+c.length,u.addMark(n.from+m,h,t.type.create(o||{})),u.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:V2,getOwnPropertySymbols:q2}=Object,{hasOwnProperty:G2}=Object.prototype;function _p(t,e){return function(i,s,o){return t(i,s,o)&&e(i,s,o)}}function gc(t){return function(n,i,s){if(!n||!i||typeof n!="object"||typeof i!="object")return t(n,i,s);const{cache:o}=s,u=o.get(n),c=o.get(i);if(u&&c)return u===i&&c===n;o.set(n,i),o.set(i,n);const d=t(n,i,s);return o.delete(n),o.delete(i),d}}function $2(t){return t!=null?t[Symbol.toStringTag]:void 0}function Qx(t){return V2(t).concat(q2(t))}const F2=Object.hasOwn||((t,e)=>G2.call(t,e));function zl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Y2="__v",K2="__o",X2="_owner",{getOwnPropertyDescriptor:Wx,keys:Zx}=Object;function J2(t,e){return t.byteLength===e.byteLength&&$c(new Uint8Array(t),new Uint8Array(e))}function Q2(t,e,n){let i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n.equals(t[i],e[i],i,i,t,e,n))return!1;return!0}function W2(t,e){return t.byteLength===e.byteLength&&$c(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Z2(t,e){return zl(t.getTime(),e.getTime())}function e_(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function t_(t,e){return t===e}function e1(t,e,n){const i=t.size;if(i!==e.size)return!1;if(!i)return!0;const s=new Array(i),o=t.entries();let u,c,d=0;for(;(u=o.next())&&!u.done;){const h=e.entries();let m=!1,y=0;for(;(c=h.next())&&!c.done;){if(s[y]){y++;continue}const b=u.value,v=c.value;if(n.equals(b[0],v[0],d,y,t,e,n)&&n.equals(b[1],v[1],b[0],v[0],t,e,n)){m=s[y]=!0;break}y++}if(!m)return!1;d++}return!0}const n_=zl;function r_(t,e,n){const i=Zx(t);let s=i.length;if(Zx(e).length!==s)return!1;for(;s-- >0;)if(!lT(t,e,n,i[s]))return!1;return!0}function Zo(t,e,n){const i=Qx(t);let s=i.length;if(Qx(e).length!==s)return!1;let o,u,c;for(;s-- >0;)if(o=i[s],!lT(t,e,n,o)||(u=Wx(t,o),c=Wx(e,o),(u||c)&&(!u||!c||u.configurable!==c.configurable||u.enumerable!==c.enumerable||u.writable!==c.writable)))return!1;return!0}function i_(t,e){return zl(t.valueOf(),e.valueOf())}function l_(t,e){return t.source===e.source&&t.flags===e.flags}function t1(t,e,n){const i=t.size;if(i!==e.size)return!1;if(!i)return!0;const s=new Array(i),o=t.values();let u,c;for(;(u=o.next())&&!u.done;){const d=e.values();let h=!1,m=0;for(;(c=d.next())&&!c.done;){if(!s[m]&&n.equals(u.value,c.value,u.value,c.value,t,e,n)){h=s[m]=!0;break}m++}if(!h)return!1}return!0}function $c(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function s_(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function lT(t,e,n,i){return(i===X2||i===K2||i===Y2)&&(t.$$typeof||e.$$typeof)?!0:F2(e,i)&&n.equals(t[i],e[i],i,i,t,e,n)}const o_="[object ArrayBuffer]",a_="[object Arguments]",u_="[object Boolean]",c_="[object DataView]",f_="[object Date]",d_="[object Error]",h_="[object Map]",p_="[object Number]",m_="[object Object]",g_="[object RegExp]",y_="[object Set]",b_="[object String]",v_={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},x_="[object URL]",S_=Object.prototype.toString;function E_({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:i,areErrorsEqual:s,areFunctionsEqual:o,areMapsEqual:u,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:m,areSetsEqual:y,areTypedArraysEqual:b,areUrlsEqual:v,unknownTagComparators:S}){return function(T,A,_){if(T===A)return!0;if(T==null||A==null)return!1;const B=typeof T;if(B!==typeof A)return!1;if(B!=="object")return B==="number"?c(T,A,_):B==="function"?o(T,A,_):!1;const $=T.constructor;if($!==A.constructor)return!1;if($===Object)return d(T,A,_);if(Array.isArray(T))return e(T,A,_);if($===Date)return i(T,A,_);if($===RegExp)return m(T,A,_);if($===Map)return u(T,A,_);if($===Set)return y(T,A,_);const H=S_.call(T);if(H===f_)return i(T,A,_);if(H===g_)return m(T,A,_);if(H===h_)return u(T,A,_);if(H===y_)return y(T,A,_);if(H===m_)return typeof T.then!="function"&&typeof A.then!="function"&&d(T,A,_);if(H===x_)return v(T,A,_);if(H===d_)return s(T,A,_);if(H===a_)return d(T,A,_);if(v_[H])return b(T,A,_);if(H===o_)return t(T,A,_);if(H===c_)return n(T,A,_);if(H===u_||H===p_||H===b_)return h(T,A,_);if(S){let q=S[H];if(!q){const P=$2(T);P&&(q=S[P])}if(q)return q(T,A,_)}return!1}}function T_({circular:t,createCustomConfig:e,strict:n}){let i={areArrayBuffersEqual:J2,areArraysEqual:n?Zo:Q2,areDataViewsEqual:W2,areDatesEqual:Z2,areErrorsEqual:e_,areFunctionsEqual:t_,areMapsEqual:n?_p(e1,Zo):e1,areNumbersEqual:n_,areObjectsEqual:n?Zo:r_,arePrimitiveWrappersEqual:i_,areRegExpsEqual:l_,areSetsEqual:n?_p(t1,Zo):t1,areTypedArraysEqual:n?_p($c,Zo):$c,areUrlsEqual:s_,unknownTagComparators:void 0};if(e&&(i=Object.assign({},i,e(i))),t){const s=gc(i.areArraysEqual),o=gc(i.areMapsEqual),u=gc(i.areObjectsEqual),c=gc(i.areSetsEqual);i=Object.assign({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:c})}return i}function M_(t){return function(e,n,i,s,o,u,c){return t(e,n,c)}}function C_({circular:t,comparator:e,createState:n,equals:i,strict:s}){if(n)return function(c,d){const{cache:h=t?new WeakMap:void 0,meta:m}=n();return e(c,d,{cache:h,equals:i,meta:m,strict:s})};if(t)return function(c,d){return e(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};const o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,d){return e(c,d,o)}}const A_=Fi();Fi({strict:!0});Fi({circular:!0});Fi({circular:!0,strict:!0});Fi({createInternalComparator:()=>zl});Fi({strict:!0,createInternalComparator:()=>zl});Fi({circular:!0,createInternalComparator:()=>zl});Fi({circular:!0,createInternalComparator:()=>zl,strict:!0});function Fi(t={}){const{circular:e=!1,createInternalComparator:n,createState:i,strict:s=!1}=t,o=T_(t),u=E_(o),c=n?n(u):M_(u);return C_({circular:e,comparator:u,createState:i,equals:c,strict:s})}var Lp={exports:{}},zp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function w_(){if(n1)return zp;n1=1;var t=Na(),e=J1();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,u=t.useEffect,c=t.useMemo,d=t.useDebugValue;return zp.useSyncExternalStoreWithSelector=function(h,m,y,b,v){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=c(function(){function A(q){if(!_){if(_=!0,B=q,q=b(q),v!==void 0&&E.hasValue){var P=E.value;if(v(P,q))return $=P}return $=q}if(P=$,i(B,q))return P;var K=b(q);return v!==void 0&&v(P,K)?(B=q,P):(B=q,$=K)}var _=!1,B,$,H=y===void 0?null:y;return[function(){return A(m())},H===null?void 0:function(){return A(H())}]},[m,y,b,v]);var T=s(h,S[0],S[1]);return u(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},zp}var r1;function k_(){return r1||(r1=1,Lp.exports=w_()),Lp.exports}var N_=k_(),O_=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},R_=({contentComponent:t})=>{const e=Q1.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return C.jsx(C.Fragment,{children:Object.values(e)})};function D_(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:jw.createPortal(i.reactElement,i.element,n)},t.forEach(s=>s())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(s=>s())}}}var __=class extends an.Component{constructor(t){var e;super(t),this.editorContentRef=an.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=D_(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return C.jsxs(C.Fragment,{children:[C.jsx("div",{ref:O_(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&C.jsx(R_,{contentComponent:t.contentComponent})]})}},L_=R.forwardRef((t,e)=>{const n=an.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return an.createElement(__,{key:n,innerRef:e,...t})}),sT=an.memo(L_),z_=typeof window<"u"?R.useLayoutEffect:R.useEffect,B_=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function j_(t){var e;const[n]=R.useState(()=>new B_(t.editor)),i=N_.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:A_);return z_(()=>n.watch(t.editor),[t.editor,n]),R.useDebugValue(i),i}var H_=!1,bm=typeof window>"u",U_=bm||!!(typeof window<"u"&&window.next),I_=class oT{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?bm||U_?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...i)},onBlur:(...i)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...i)},onCreate:(...i)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...i)},onDestroy:(...i)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...i)},onFocus:(...i)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...i)},onSelectionUpdate:(...i)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...i)},onTransaction:(...i)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...i)},onUpdate:(...i)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...i)},onContentError:(...i)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...i)},onDrop:(...i)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...i)},onPaste:(...i)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...i)},onDelete:(...i)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...i)}};return new D2(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,o)=>{var u;return s===((u=n.extensions)==null?void 0:u[o])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?oT.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,s)=>i===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function P_(t={},e=[]){const n=R.useRef(t);n.current=t;const[i]=R.useState(()=>new I_(n)),s=Q1.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return R.useDebugValue(s),R.useEffect(i.onRender(e)),j_({editor:s,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),s}var aT=R.createContext({editor:null});aT.Consumer;var V_=R.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),q_=()=>R.useContext(V_);an.forwardRef((t,e)=>{const{onDragStart:n}=q_(),i=t.as||"div";return C.jsx(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});an.createContext({markViewContentRef:()=>{}});var fg=R.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});fg.displayName="TiptapContext";var G_=()=>R.useContext(fg);function uT({editor:t,instance:e,children:n}){const i=t??e;if(!i)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const s=R.useMemo(()=>({editor:i}),[i]),o=R.useMemo(()=>({editor:i}),[i]);return C.jsx(aT.Provider,{value:o,children:C.jsx(fg.Provider,{value:s,children:n})})}uT.displayName="Tiptap";function cT({...t}){const{editor:e}=G_();return C.jsx(sT,{editor:e,...t})}cT.displayName="Tiptap.Content";Object.assign(uT,{Content:cT});var Fc=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...i}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,i,n]},$_=/^\s*>\s$/,F_=Sn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Fc("blockquote",{...ht(this.options.HTMLAttributes,t),children:Fc("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",i=[];return t.content.forEach(s=>{const c=e.renderChildren([s]).split(`
`).map(d=>d.trim()===""?n:`${n} ${d}`);i.push(c.join(`
`))}),i.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Hs({find:$_,type:this.type})]}}),Y_=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,K_=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,X_=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,J_=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Q_=$i.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Fc("strong",{...ht(this.options.HTMLAttributes,t),children:Fc("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[js({find:Y_,type:this.type}),js({find:X_,type:this.type})]},addPasteRules(){return[Ol({find:K_,type:this.type}),Ol({find:J_,type:this.type})]}}),W_=/(^|[^`])`([^`]+)`(?!`)$/,Z_=/(^|[^`])`([^`]+)`(?!`)/g,eL=$i.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[js({find:W_,type:this.type})]},addPasteRules(){return[Ol({find:Z_,type:this.type})]}}),Bp=4,tL=/^```([a-z]+)?[\s\n]$/,nL=/^~~~([a-z]+)?[\s\n]$/,rL=Sn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Bp,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(u=>u.startsWith(n)).map(u=>u.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ht(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let i="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?i=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):i=`\`\`\`${s}

\`\`\``,i},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Bp,{state:i}=t,{selection:s}=i,{$from:o,empty:u}=s;if(o.parent.type!==this.type)return!1;const c=" ".repeat(n);return u?t.commands.insertContent(c):t.commands.command(({tr:d})=>{const{from:h,to:m}=s,v=i.doc.textBetween(h,m,`
`,`
`).split(`
`).map(S=>c+S).join(`
`);return d.replaceWith(h,m,i.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Bp,{state:i}=t,{selection:s}=i,{$from:o,empty:u}=s;return o.parent.type!==this.type?!1:u?t.commands.command(({tr:c})=>{var d;const{pos:h}=o,m=o.start(),y=o.end(),v=i.doc.textBetween(m,y,`
`,`
`).split(`
`);let S=0,E=0;const T=h-m;for(let q=0;q<v.length;q+=1){if(E+v[q].length>=T){S=q;break}E+=v[q].length+1}const _=((d=v[S].match(/^ */))==null?void 0:d[0])||"",B=Math.min(_.length,n);if(B===0)return!0;let $=m;for(let q=0;q<S;q+=1)$+=v[q].length+1;return c.delete($,$+B),h-$<=B&&c.setSelection(ye.create(c.doc,$)),!0}):t.commands.command(({tr:c})=>{const{from:d,to:h}=s,b=i.doc.textBetween(d,h,`
`,`
`).split(`
`).map(v=>{var S;const E=((S=v.match(/^ */))==null?void 0:S[0])||"",T=Math.min(E.length,n);return v.slice(T)}).join(`
`);return c.replaceWith(d,h,i.schema.text(b)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type)return!1;const o=i.parentOffset===i.parent.nodeSize-2,u=i.parent.textContent.endsWith(`

`);return!o||!u?!1:t.chain().command(({tr:c})=>(c.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:i.nodeAt(c)?t.commands.command(({tr:h})=>(h.setSelection(Ce.near(i.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[gm({find:tL,type:this.type,getAttributes:t=>({language:t[1]})}),gm({find:nL,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new it({key:new Mt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,o=s==null?void 0:s.mode;if(!n||!o)return!1;const{tr:u,schema:c}=t.state,d=c.text(n.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:o},d)),u.selection.$from.parent.type!==this.type&&u.setSelection(ye.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),t.dispatch(u),!0}}})]}}),iL=Sn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),lL=Sn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ht(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:o}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:c}=i.extensionManager,d=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&u){const y=d.filter(b=>c.includes(b.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),sL=Sn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ht(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const i=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(i);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>gm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),oL=Sn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ht(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!L2(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:i}=n,s=t();return PE(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:o,tr:u,dispatch:c})=>{if(c){const{$to:d}=u.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?u.setSelection(ye.create(u.doc,d.pos+1)):d.nodeAfter.isBlock?u.setSelection(pe.create(u.doc,d.pos)):u.setSelection(ye.create(u.doc,d.pos));else{const m=o.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,y=m==null?void 0:m.create();y&&(u.insert(h,y),u.setSelection(ye.create(u.doc,h+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[_2({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),aL=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,uL=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,cL=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,fL=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,dL=$i.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ht(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[js({find:aL,type:this.type}),js({find:cL,type:this.type})]},addPasteRules(){return[Ol({find:uL,type:this.type}),Ol({find:fL,type:this.type})]}});const hL="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",pL="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",vm="numeric",xm="ascii",Sm="alpha",fa="asciinumeric",la="alphanumeric",Em="domain",fT="emoji",mL="scheme",gL="slashscheme",jp="whitespace";function yL(t,e){return t in e||(e[t]=[]),e[t]}function vl(t,e,n){e[vm]&&(e[fa]=!0,e[la]=!0),e[xm]&&(e[fa]=!0,e[Sm]=!0),e[fa]&&(e[la]=!0),e[Sm]&&(e[la]=!0),e[la]&&(e[Em]=!0),e[fT]&&(e[Em]=!0);for(const i in e){const s=yL(i,n);s.indexOf(t)<0&&s.push(t)}}function bL(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function on(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}on.groups={};on.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const s=e.jr[i][0],o=e.jr[i][1];if(o&&s.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,i)},tr(t,e,n,i){i=i||on.groups;let s;return e&&e.j?s=e:(s=new on(e),n&&i&&vl(e,n,i)),this.jr.push([t,s]),s},ts(t,e,n,i){let s=this;const o=t.length;if(!o)return s;for(let u=0;u<o-1;u++)s=s.tt(t[u]);return s.tt(t[o-1],e,n,i)},tt(t,e,n,i){i=i||on.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const o=e;let u,c=s.go(t);if(c?(u=new on,Object.assign(u.j,c.j),u.jr.push.apply(u.jr,c.jr),u.jd=c.jd,u.t=c.t):u=new on,o){if(i)if(u.t&&typeof u.t=="string"){const d=Object.assign(bL(u.t,i),n);vl(o,d,i)}else n&&vl(o,n,i);u.t=o}return s.j[t]=u,u}};const Me=(t,e,n,i,s)=>t.ta(e,n,i,s),at=(t,e,n,i,s)=>t.tr(e,n,i,s),i1=(t,e,n,i,s)=>t.ts(e,n,i,s),W=(t,e,n,i,s)=>t.tt(e,n,i,s),qr="WORD",Tm="UWORD",dT="ASCIINUMERICAL",hT="ALPHANUMERICAL",wa="LOCALHOST",Mm="TLD",Cm="UTLD",kc="SCHEME",Cs="SLASH_SCHEME",dg="NUM",Am="WS",hg="NL",da="OPENBRACE",ha="CLOSEBRACE",Yc="OPENBRACKET",Kc="CLOSEBRACKET",Xc="OPENPAREN",Jc="CLOSEPAREN",Qc="OPENANGLEBRACKET",Wc="CLOSEANGLEBRACKET",Zc="FULLWIDTHLEFTPAREN",ef="FULLWIDTHRIGHTPAREN",tf="LEFTCORNERBRACKET",nf="RIGHTCORNERBRACKET",rf="LEFTWHITECORNERBRACKET",lf="RIGHTWHITECORNERBRACKET",sf="FULLWIDTHLESSTHAN",of="FULLWIDTHGREATERTHAN",af="AMPERSAND",uf="APOSTROPHE",cf="ASTERISK",wi="AT",ff="BACKSLASH",df="BACKTICK",hf="CARET",Oi="COLON",pg="COMMA",pf="DOLLAR",or="DOT",mf="EQUALS",mg="EXCLAMATION",Bn="HYPHEN",pa="PERCENT",gf="PIPE",yf="PLUS",bf="POUND",ma="QUERY",gg="QUOTE",pT="FULLWIDTHMIDDLEDOT",yg="SEMI",ar="SLASH",ga="TILDE",vf="UNDERSCORE",mT="EMOJI",xf="SYM";var gT=Object.freeze({__proto__:null,ALPHANUMERICAL:hT,AMPERSAND:af,APOSTROPHE:uf,ASCIINUMERICAL:dT,ASTERISK:cf,AT:wi,BACKSLASH:ff,BACKTICK:df,CARET:hf,CLOSEANGLEBRACKET:Wc,CLOSEBRACE:ha,CLOSEBRACKET:Kc,CLOSEPAREN:Jc,COLON:Oi,COMMA:pg,DOLLAR:pf,DOT:or,EMOJI:mT,EQUALS:mf,EXCLAMATION:mg,FULLWIDTHGREATERTHAN:of,FULLWIDTHLEFTPAREN:Zc,FULLWIDTHLESSTHAN:sf,FULLWIDTHMIDDLEDOT:pT,FULLWIDTHRIGHTPAREN:ef,HYPHEN:Bn,LEFTCORNERBRACKET:tf,LEFTWHITECORNERBRACKET:rf,LOCALHOST:wa,NL:hg,NUM:dg,OPENANGLEBRACKET:Qc,OPENBRACE:da,OPENBRACKET:Yc,OPENPAREN:Xc,PERCENT:pa,PIPE:gf,PLUS:yf,POUND:bf,QUERY:ma,QUOTE:gg,RIGHTCORNERBRACKET:nf,RIGHTWHITECORNERBRACKET:lf,SCHEME:kc,SEMI:yg,SLASH:ar,SLASH_SCHEME:Cs,SYM:xf,TILDE:ga,TLD:Mm,UNDERSCORE:vf,UTLD:Cm,UWORD:Tm,WORD:qr,WS:Am});const Pr=/[a-z]/,ea=new RegExp("\\p{L}","u"),Hp=new RegExp("\\p{Emoji}","u"),Vr=/\d/,Up=/\s/,l1="\r",Ip=`
`,vL="",xL="",Pp="";let yc=null,bc=null;function SL(t=[]){const e={};on.groups=e;const n=new on;yc==null&&(yc=s1(hL)),bc==null&&(bc=s1(pL)),W(n,"'",uf),W(n,"{",da),W(n,"}",ha),W(n,"[",Yc),W(n,"]",Kc),W(n,"(",Xc),W(n,")",Jc),W(n,"<",Qc),W(n,">",Wc),W(n,"",Zc),W(n,"",ef),W(n,"",tf),W(n,"",nf),W(n,"",rf),W(n,"",lf),W(n,"",sf),W(n,"",of),W(n,"&",af),W(n,"*",cf),W(n,"@",wi),W(n,"`",df),W(n,"^",hf),W(n,":",Oi),W(n,",",pg),W(n,"$",pf),W(n,".",or),W(n,"=",mf),W(n,"!",mg),W(n,"-",Bn),W(n,"%",pa),W(n,"|",gf),W(n,"+",yf),W(n,"#",bf),W(n,"?",ma),W(n,'"',gg),W(n,"/",ar),W(n,";",yg),W(n,"~",ga),W(n,"_",vf),W(n,"\\",ff),W(n,"",pT);const i=at(n,Vr,dg,{[vm]:!0});at(i,Vr,i);const s=at(i,Pr,dT,{[fa]:!0}),o=at(i,ea,hT,{[la]:!0}),u=at(n,Pr,qr,{[xm]:!0});at(u,Vr,s),at(u,Pr,u),at(s,Vr,s),at(s,Pr,s);const c=at(n,ea,Tm,{[Sm]:!0});at(c,Pr),at(c,Vr,o),at(c,ea,c),at(o,Vr,o),at(o,Pr),at(o,ea,o);const d=W(n,Ip,hg,{[jp]:!0}),h=W(n,l1,Am,{[jp]:!0}),m=at(n,Up,Am,{[jp]:!0});W(n,Pp,m),W(h,Ip,d),W(h,Pp,m),at(h,Up,m),W(m,l1),W(m,Ip),at(m,Up,m),W(m,Pp,m);const y=at(n,Hp,mT,{[fT]:!0});W(y,"#"),at(y,Hp,y),W(y,vL,y);const b=W(y,xL);W(b,"#"),at(b,Hp,y);const v=[[Pr,u],[Vr,s]],S=[[Pr,null],[ea,c],[Vr,o]];for(let E=0;E<yc.length;E++)Mi(n,yc[E],Mm,qr,v);for(let E=0;E<bc.length;E++)Mi(n,bc[E],Cm,Tm,S);vl(Mm,{tld:!0,ascii:!0},e),vl(Cm,{utld:!0,alpha:!0},e),Mi(n,"file",kc,qr,v),Mi(n,"mailto",kc,qr,v),Mi(n,"http",Cs,qr,v),Mi(n,"https",Cs,qr,v),Mi(n,"ftp",Cs,qr,v),Mi(n,"ftps",Cs,qr,v),vl(kc,{scheme:!0,ascii:!0},e),vl(Cs,{slashscheme:!0,ascii:!0},e),t=t.sort((E,T)=>E[0]>T[0]?1:-1);for(let E=0;E<t.length;E++){const T=t[E][0],_=t[E][1]?{[mL]:!0}:{[gL]:!0};T.indexOf("-")>=0?_[Em]=!0:Pr.test(T)?Vr.test(T)?_[fa]=!0:_[xm]=!0:_[vm]=!0,i1(n,T,T,_)}return i1(n,"localhost",wa,{ascii:!0}),n.jd=new on(xf),{start:n,tokens:Object.assign({groups:e},gT)}}function yT(t,e){const n=EL(e.replace(/[A-Z]/g,c=>c.toLowerCase())),i=n.length,s=[];let o=0,u=0;for(;u<i;){let c=t,d=null,h=0,m=null,y=-1,b=-1;for(;u<i&&(d=c.go(n[u]));)c=d,c.accepts()?(y=0,b=0,m=c):y>=0&&(y+=n[u].length,b++),h+=n[u].length,o+=n[u].length,u++;o-=y,u-=b,h-=y,s.push({t:m.t,v:e.slice(o-h,o),s:o-h,e:o})}return s}function EL(t){const e=[],n=t.length;let i=0;for(;i<n;){let s=t.charCodeAt(i),o,u=s<55296||s>56319||i+1===n||(o=t.charCodeAt(i+1))<56320||o>57343?t[i]:t.slice(i,i+2);e.push(u),i+=u.length}return e}function Mi(t,e,n,i,s){let o;const u=e.length;for(let c=0;c<u-1;c++){const d=e[c];t.j[d]?o=t.j[d]:(o=new on(i),o.jr=s.slice(),t.j[d]=o),t=o}return o=new on(n),o.jr=s.slice(),t.j[e[u-1]]=o,o}function s1(t){const e=[],n=[];let i=0,s="0123456789";for(;i<t.length;){let o=0;for(;s.indexOf(t[i+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let u=parseInt(t.substring(i,i+o),10);u>0;u--)n.pop();i+=o}else n.push(t[i]),i++}return e}const ka={defaultProtocol:"http",events:null,format:o1,formatHref:o1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function bg(t,e=null){let n=Object.assign({},ka);t&&(n=Object.assign(n,t instanceof bg?t.o:t));const i=n.ignoreTags,s=[];for(let o=0;o<i.length;o++)s.push(i[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}bg.prototype={o:ka,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:ka[t],typeof s=="function"&&i&&(s=s(e,n))):typeof s=="function"&&i&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function o1(t){return t}function bT(t,e){this.t="token",this.v=t,this.tk=e}bT.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ka.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),s=t.get("tagName",n,e),o=this.toFormattedString(t),u={},c=t.get("className",n,e),d=t.get("target",n,e),h=t.get("rel",n,e),m=t.getObj("attributes",n,e),y=t.getObj("events",n,e);return u.href=i,c&&(u.class=c),d&&(u.target=d),h&&(u.rel=h),m&&Object.assign(u,m),{tagName:s,attributes:u,content:o,eventListeners:y}}};function Uf(t,e){class n extends bT{constructor(s,o){super(s,o),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const a1=Uf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),u1=Uf("text"),TL=Uf("nl"),vc=Uf("url",{isLink:!0,toHref(t=ka.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==wa&&t[1].t===Oi}}),zn=t=>new on(t);function ML({groups:t}){const e=t.domain.concat([af,cf,wi,ff,df,hf,pf,mf,Bn,dg,pa,gf,yf,bf,ar,xf,ga,vf]),n=[uf,Oi,pg,or,mg,pa,ma,gg,yg,Qc,Wc,da,ha,Kc,Yc,Xc,Jc,Zc,ef,tf,nf,rf,lf,sf,of],i=[af,uf,cf,ff,df,hf,pf,mf,Bn,da,ha,pa,gf,yf,bf,ma,ar,xf,ga,vf],s=zn(),o=W(s,ga);Me(o,i,o),Me(o,t.domain,o);const u=zn(),c=zn(),d=zn();Me(s,t.domain,u),Me(s,t.scheme,c),Me(s,t.slashscheme,d),Me(u,i,o),Me(u,t.domain,u);const h=W(u,wi);W(o,wi,h),W(c,wi,h),W(d,wi,h);const m=W(o,or);Me(m,i,o),Me(m,t.domain,o);const y=zn();Me(h,t.domain,y),Me(y,t.domain,y);const b=W(y,or);Me(b,t.domain,y);const v=zn(a1);Me(b,t.tld,v),Me(b,t.utld,v),W(h,wa,v);const S=W(y,Bn);W(S,Bn,S),Me(S,t.domain,y),Me(v,t.domain,y),W(v,or,b),W(v,Bn,S);const E=W(v,Oi);Me(E,t.numeric,a1);const T=W(u,Bn),A=W(u,or);W(T,Bn,T),Me(T,t.domain,u),Me(A,i,o),Me(A,t.domain,u);const _=zn(vc);Me(A,t.tld,_),Me(A,t.utld,_),Me(_,t.domain,u),Me(_,i,o),W(_,or,A),W(_,Bn,T),W(_,wi,h);const B=W(_,Oi),$=zn(vc);Me(B,t.numeric,$);const H=zn(vc),q=zn();Me(H,e,H),Me(H,n,q),Me(q,e,H),Me(q,n,q),W(_,ar,H),W($,ar,H);const P=W(c,Oi),K=W(d,Oi),J=W(K,ar),fe=W(J,ar);Me(c,t.domain,u),W(c,or,A),W(c,Bn,T),Me(d,t.domain,u),W(d,or,A),W(d,Bn,T),Me(P,t.domain,H),W(P,ar,H),W(P,ma,H),Me(fe,t.domain,H),Me(fe,e,H),W(fe,ar,H);const oe=[[da,ha],[Yc,Kc],[Xc,Jc],[Qc,Wc],[Zc,ef],[tf,nf],[rf,lf],[sf,of]];for(let Te=0;Te<oe.length;Te++){const[te,de]=oe[Te],Se=W(H,te);W(q,te,Se),W(Se,de,H);const I=zn(vc);Me(Se,e,I);const ee=zn();Me(Se,n),Me(I,e,I),Me(I,n,ee),Me(ee,e,I),Me(ee,n,ee),W(I,de,H),W(ee,de,H)}return W(s,wa,_),W(s,hg,TL),{start:s,tokens:gT}}function CL(t,e,n){let i=n.length,s=0,o=[],u=[];for(;s<i;){let c=t,d=null,h=null,m=0,y=null,b=-1;for(;s<i&&!(d=c.go(n[s].t));)u.push(n[s++]);for(;s<i&&(h=d||c.go(n[s].t));)d=null,c=h,c.accepts()?(b=0,y=c):b>=0&&b++,s++,m++;if(b<0)s-=m,s<i&&(u.push(n[s]),s++);else{u.length>0&&(o.push(Vp(u1,e,u)),u=[]),s-=b,m-=b;const v=y.t,S=n.slice(s-m,s);o.push(Vp(v,e,S))}}return u.length>0&&o.push(Vp(u1,e,u)),o}function Vp(t,e,n){const i=n[0].s,s=n[n.length-1].e,o=e.slice(i,s);return new t(o,n)}const AL=typeof console<"u"&&console&&console.warn||(()=>{}),wL="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Qe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function kL(){return on.groups={},Qe.scanner=null,Qe.parser=null,Qe.tokenQueue=[],Qe.pluginQueue=[],Qe.customSchemes=[],Qe.initialized=!1,Qe}function c1(t,e=!1){if(Qe.initialized&&AL(`linkifyjs: already initialized - will not register custom scheme "${t}" ${wL}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Qe.customSchemes.push([t,e])}function NL(){Qe.scanner=SL(Qe.customSchemes);for(let t=0;t<Qe.tokenQueue.length;t++)Qe.tokenQueue[t][1]({scanner:Qe.scanner});Qe.parser=ML(Qe.scanner.tokens);for(let t=0;t<Qe.pluginQueue.length;t++)Qe.pluginQueue[t][1]({scanner:Qe.scanner,parser:Qe.parser});return Qe.initialized=!0,Qe}function vg(t){return Qe.initialized||NL(),CL(Qe.parser.start,t,yT(Qe.scanner.start,t))}vg.scan=yT;function vT(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new bg(n),s=vg(t),o=[];for(let u=0;u<s.length;u++){const c=s[u];c.isLink&&(!e||c.t===e)&&i.check(c)&&o.push(c.toFormattedObject(i))}return o}var xg="[\0- -\u2029]",OL=new RegExp(xg),RL=new RegExp(`${xg}$`),DL=new RegExp(xg,"g");function _L(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function LL(t){return new it({key:new Mt("autolink"),appendTransaction:(e,n,i)=>{const s=e.some(h=>h.docChanged)&&!n.doc.eq(i.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!s||o)return;const{tr:u}=i,c=_E(n.doc,[...e]);if(IE(c).forEach(({newRange:h})=>{const m=LD(i.doc,h,v=>v.isTextblock);let y,b;if(m.length>1)y=m[0],b=i.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(m.length){const v=i.doc.textBetween(h.from,h.to," "," ");if(!RL.test(v))return;y=m[0],b=i.doc.textBetween(y.pos,h.to,void 0," ")}if(y&&b){const v=b.split(OL).filter(Boolean);if(v.length<=0)return!1;const S=v[v.length-1],E=y.pos+b.lastIndexOf(S);if(!S)return!1;const T=vg(S).map(A=>A.toObject(t.defaultProtocol));if(!_L(T))return!1;T.filter(A=>A.isLink).map(A=>({...A,from:E+A.start+1,to:E+A.end+1})).filter(A=>i.schema.marks.code?!i.doc.rangeHasMark(A.from,A.to,i.schema.marks.code):!0).filter(A=>t.validate(A.value)).filter(A=>t.shouldAutoLink(A.value)).forEach(A=>{sg(A.from,A.to,i.doc).some(_=>_.mark.type===t.type)||u.addMark(A.from,A.to,t.type.create({href:A.href}))})}}),!!u.steps.length)return u}})}function zL(t){return new it({key:new Mt("handleClickLink"),props:{handleClick:(e,n,i)=>{var s,o;if(i.button!==0||!e.editable)return!1;let u=null;if(i.target instanceof HTMLAnchorElement)u=i.target;else{const d=i.target;if(!d)return!1;const h=t.editor.view.dom;u=d.closest("a"),u&&!h.contains(u)&&(u=null)}if(!u)return!1;let c=!1;if(t.enableClickSelection&&(c=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){const d=UE(e.state,t.type.name),h=(s=u.href)!=null?s:d.href,m=(o=u.target)!=null?o:d.target;h&&(window.open(h,m),c=!0)}return c}}})}function BL(t){return new it({key:new Mt("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{shouldAutoLink:s}=t,{state:o}=e,{selection:u}=o,{empty:c}=u;if(c)return!1;let d="";i.content.forEach(m=>{d+=m.textContent});const h=vT(d,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===d);return!d||!h||s!==void 0&&!s(h.value)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function pl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const s=typeof i=="string"?i:i.scheme;s&&n.push(s)}),!t||t.replace(DL,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var jL=$i.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){c1(t);return}c1(t.scheme,t.optionalSlashes)})},onDestroy(){kL()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!pl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const s=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(s)||!/\./.test(s))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!pl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!pl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ht(this.options.HTMLAttributes,t),0]:["a",ht(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n,i,s,o;const u=(i=(n=t.attrs)==null?void 0:n.href)!=null?i:"",c=(o=(s=t.attrs)==null?void 0:s.title)!=null?o:"",d=e.renderChildren(t);return c?`[${d}](${u} "${c}")`:`[${d}](${u})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:i=>!!pl(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:i=>!!pl(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ol({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:i}=this.options,s=vT(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:u=>!!pl(u,n),protocols:n,defaultProtocol:i}));s.length&&s.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(LL({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:s=>!!pl(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(zL({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(BL({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),HL=Object.defineProperty,UL=(t,e)=>{for(var n in e)HL(t,n,{get:e[n],enumerable:!0})},IL="listItem",f1="textStyle",d1=/^\s*([-+*])\s$/,xT=Sn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(IL,this.editor.getAttributes(f1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Hs({find:d1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Hs({find:d1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(f1),editor:this.editor})),[t]}}),ST=Sn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const u=t.tokens.slice(1),c=e.parseChildren(u);n.push(...c)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>cg(t,e,i=>{var s,o;return i.parentType==="bulletList"?"- ":i.parentType==="orderedList"?`${(((o=(s=i.meta)==null?void 0:s.parentAttrs)==null?void 0:o.start)||1)+i.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),PL={};UL(PL,{findListItemPos:()=>Ba,getNextListDepth:()=>Sg,handleBackspace:()=>wm,handleDelete:()=>km,hasListBefore:()=>ET,hasListItemAfter:()=>VL,hasListItemBefore:()=>TT,listItemHasSubList:()=>MT,nextListIsDeeper:()=>CT,nextListIsHigher:()=>AT});var Ba=(t,e)=>{const{$from:n}=e.selection,i=St(t,e.schema);let s=null,o=n.depth,u=n.pos,c=null;for(;o>0&&c===null;)s=n.node(o),s.type===i?c=o:(o-=1,u-=1);return c===null?null:{$pos:e.doc.resolve(u),depth:c}},Sg=(t,e)=>{const n=Ba(t,e);if(!n)return!1;const[,i]=GD(e,t,n.$pos.pos+4);return i},ET=(t,e,n)=>{const{$anchor:i}=t.selection,s=Math.max(0,i.pos-2),o=t.doc.resolve(s).node();return!(!o||!n.includes(o.type.name))},TT=(t,e)=>{var n;const{$anchor:i}=e.selection,s=e.doc.resolve(i.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},MT=(t,e,n)=>{if(!n)return!1;const i=St(t,e.schema);let s=!1;return n.descendants(o=>{o.type===i&&(s=!0)}),s},wm=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Pi(t.state,e)&&ET(t.state,e,n)){const{$anchor:c}=t.state.selection,d=t.state.doc.resolve(c.before()-1),h=[];d.node().descendants((b,v)=>{b.type.name===e&&h.push({node:b,pos:v})});const m=h.at(-1);if(!m)return!1;const y=t.state.doc.resolve(d.start()+m.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},y.end()).joinForward().run()}if(!Pi(t.state,e)||!KD(t.state))return!1;const i=Ba(e,t.state);if(!i)return!1;const o=t.state.doc.resolve(i.$pos.pos-2).node(i.depth),u=MT(e,t.state,o);return TT(e,t.state)&&!u?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},CT=(t,e)=>{const n=Sg(t,e),i=Ba(t,e);return!i||!n?!1:n>i.depth},AT=(t,e)=>{const n=Sg(t,e),i=Ba(t,e);return!i||!n?!1:n<i.depth},km=(t,e)=>{if(!Pi(t.state,e)||!YD(t.state,e))return!1;const{selection:n}=t.state,{$from:i,$to:s}=n;return!n.empty&&i.sameParent(s)?!1:CT(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():AT(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},VL=(t,e)=>{var n;const{$anchor:i}=e.selection,s=e.doc.resolve(i.pos-i.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},wT=Fe.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&km(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&km(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&wm(t,n,i)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&wm(t,n,i)&&(e=!0)}),e}}}}),h1=/^(\s*)(\d+)\.\s+(.*)$/,qL=/^\s/;function GL(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n],o=s.match(h1);if(!o)break;const[,u,c,d]=o,h=u.length;let m=d,y=n+1;const b=[s];for(;y<t.length;){const v=t[y];if(v.match(h1))break;if(v.trim()==="")b.push(v),m+=`
`,y+=1;else if(v.match(qL))b.push(v),m+=`
${v.slice(h+2)}`,y+=1;else break}e.push({indent:h,number:parseInt(c,10),content:m.trim(),raw:b.join(`
`)}),i=y,n=y}return[e,i]}function kT(t,e,n){var i;const s=[];let o=0;for(;o<t.length;){const u=t[o];if(u.indent===e){const c=u.content.split(`
`),d=((i=c[0])==null?void 0:i.trim())||"",h=[];d&&h.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const m=c.slice(1).join(`
`).trim();if(m){const v=n.blockTokens(m);h.push(...v)}let y=o+1;const b=[];for(;y<t.length&&t[y].indent>e;)b.push(t[y]),y+=1;if(b.length>0){const v=Math.min(...b.map(E=>E.indent)),S=kT(b,v,n);h.push({type:"list",ordered:!0,start:b[0].number,items:S,raw:b.map(E=>E.raw).join(`
`)})}s.push({type:"list_item",raw:u.raw,tokens:h}),o=y}else o+=1}return s}function $L(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const i=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")i.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const o=e.parseChildren([s]);i.push({type:"paragraph",content:o})}else{const o=e.parseChildren([s]);o.length>0&&i.push(...o)}}),{type:"listItem",content:i}})}var FL="listItem",p1="textStyle",m1=/^(\d+)\.\s$/,NT=Sn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ht(this.options.HTMLAttributes,n),0]:["ol",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,i=t.items?$L(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:i}:{type:"orderedList",content:i}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var i;const s=t.split(`
`),[o,u]=GL(s);if(o.length===0)return;const c=kT(o,0,n);return c.length===0?void 0:{type:"list",ordered:!0,start:((i=o[0])==null?void 0:i.number)||1,items:c,raw:s.slice(0,u).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(FL,this.editor.getAttributes(p1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Hs({find:m1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Hs({find:m1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(p1)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),YL=/^\s*(\[([( |x])?\])\s$/,KL=Sn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ht(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const i=e.parseChildren(t.nestedTokens);n.push(...i)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return cg(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:i})=>{const s=document.createElement("li"),o=document.createElement("label"),u=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),h=y=>{var b,v;c.ariaLabel=((v=(b=this.options.a11y)==null?void 0:b.checkboxLabel)==null?void 0:v.call(b,y,c.checked))||`Task item checkbox for ${y.textContent||"empty task item"}`};h(t),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",y=>y.preventDefault()),c.addEventListener("change",y=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:b}=y.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const S=n();if(typeof S!="number")return!1;const E=v.doc.nodeAt(S);return v.setNodeMarkup(S,void 0,{...E==null?void 0:E.attrs,checked:b}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,b)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([y,b])=>{s.setAttribute(y,b)}),s.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,o.append(c,u),s.append(o,d),Object.entries(e).forEach(([y,b])=>{s.setAttribute(y,b)});let m=new Set(Object.keys(e));return{dom:s,contentDOM:d,update:y=>{if(y.type!==this.type)return!1;s.dataset.checked=y.attrs.checked,c.checked=y.attrs.checked,h(y);const b=i.extensionManager.attributes,v=Aa(y,b),S=new Set(Object.keys(v)),E=this.options.HTMLAttributes;return m.forEach(T=>{S.has(T)||(T in E?s.setAttribute(T,E[T]):s.removeAttribute(T))}),Object.entries(v).forEach(([T,A])=>{A==null?T in E?s.setAttribute(T,E[T]):s.removeAttribute(T):s.setAttribute(T,A)}),m=S,!0}}}},addInputRules(){return[Hs({find:YL,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),XL=Sn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ht(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const i=o=>{const u=ym(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,d)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:n.inlineTokens(c.mainContent),nestedTokens:d}),customNestedParser:i},n);return u?[{type:"taskList",raw:u.raw,items:u.items}]:n.blockTokens(o)},s=ym(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,u)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:u}),customNestedParser:i},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Fe.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(xT.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(ST.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(wT.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(NT.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(KL.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(XL.configure(this.options.taskList)),t}});var g1="&nbsp;",JL="",QL=Sn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ht(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];if(n.length===1&&n[0].type==="image")return e.parseChildren([n[0]]);const i=e.parseInline(n);return i.length===1&&i[0].type==="text"&&(i[0].text===g1||i[0].text===JL)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,i)},renderMarkdown:(t,e)=>{if(!t)return"";const n=Array.isArray(t.content)?t.content:[];return n.length===0?g1:e.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),WL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ZL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,ez=$i.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[js({find:WL,type:this.type})]},addPasteRules(){return[Ol({find:ZL,type:this.type})]}}),tz=Sn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),OT=$i.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ht(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const o=s[2].trim();return{type:"underline",raw:s[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),nz=OT;function rz(t={}){return new it({view(e){return new iz(e,t)}})}class iz{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=u=>{this[s](u)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i,s=this.editorView.dom,o=s.getBoundingClientRect(),u=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(n){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let S=v.getBoundingClientRect(),E=y?S.bottom:S.top;y&&b&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let T=this.width/2*c;i={left:S.left,right:S.right,top:E-T,bottom:E+T}}}}if(!i){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*u;i={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=d.getBoundingClientRect(),b=y.width/d.offsetWidth,v=y.height/d.offsetHeight;h=y.left-d.scrollLeft*b,m=y.top-d.scrollTop*v}this.element.style.left=(i.left-h)/u+"px",this.element.style.top=(i.top-m)/c+"px",this.element.style.width=(i.right-i.left)/u+"px",this.element.style.height=(i.bottom-i.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=i&&i.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!o){let u=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=MS(this.editorView.state.doc,u,this.editorView.dragging.slice);c!=null&&(u=c)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ut extends Ce{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return ut.valid(i)?new ut(i):Ce.near(i)}content(){return ne.empty}eq(e){return e instanceof ut&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ut(e.resolve(n.pos))}getBookmark(){return new Eg(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!lz(e)||!sz(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&ut.valid(e))return e;let s=e.pos,o=null;for(let u=e.depth;;u--){let c=e.node(u);if(n>0?e.indexAfter(u)<c.childCount:e.index(u)>0){o=c.child(n>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;s+=n;let d=e.doc.resolve(s);if(ut.valid(d))return d}for(;;){let u=n>0?o.firstChild:o.lastChild;if(!u){if(o.isAtom&&!o.isText&&!pe.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*n),i=!1;continue e}break}o=u,s+=n;let c=e.doc.resolve(s);if(ut.valid(c))return c}return null}}}ut.prototype.visible=!1;ut.findFrom=ut.findGapCursorFrom;Ce.jsonID("gapcursor",ut);class Eg{constructor(e){this.pos=e}map(e){return new Eg(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ut.valid(n)?new ut(n):Ce.near(n)}}function RT(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function lz(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||RT(s.type))return!0;if(s.inlineContent)return!1}}return!0}function sz(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||RT(s.type))return!0;if(s.inlineContent)return!1}}return!0}function oz(){return new it({props:{decorations:fz,createSelectionBetween(t,e,n){return e.pos==n.pos&&ut.valid(n)?new ut(n):null},handleClick:uz,handleKeyDown:az,handleDOMEvents:{beforeinput:cz}}})}const az=CE({ArrowLeft:xc("horiz",-1),ArrowRight:xc("horiz",1),ArrowUp:xc("vert",-1),ArrowDown:xc("vert",1)});function xc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,s,o){let u=i.selection,c=e>0?u.$to:u.$from,d=u.empty;if(u instanceof ye){if(!o.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=i.doc.resolve(e>0?c.after():c.before())}let h=ut.findGapCursorFrom(c,e,d);return h?(s&&s(i.tr.setSelection(new ut(h))),!0):!1}}function uz(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!ut.valid(i))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&pe.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ut(i))),!0)}function cz(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ut))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let s=X.empty;for(let u=i.length-1;u>=0;u--)s=X.from(i[u].createAndFill(null,s));let o=t.state.tr.replace(n.pos,n.pos,new ne(s,0,0));return o.setSelection(ye.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function fz(t){if(!(t.selection instanceof ut))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",nt.create(t.doc,[Yt.widget(t.selection.head,e,{key:"gapcursor"})])}var Sf=200,Ot=function(){};Ot.prototype.append=function(e){return e.length?(e=Ot.from(e),!this.length&&e||e.length<Sf&&this.leafAppend(e)||this.length<Sf&&e.leafPrepend(this)||this.appendInner(e)):this};Ot.prototype.prepend=function(e){return e.length?Ot.from(e).append(this):this};Ot.prototype.appendInner=function(e){return new dz(this,e)};Ot.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ot.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ot.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ot.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};Ot.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(o,u){return s.push(e(o,u))},n,i),s};Ot.from=function(e){return e instanceof Ot?e:e&&e.length?new DT(e):Ot.empty};var DT=(function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,u,c){for(var d=o;d<u;d++)if(s(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,u,c){for(var d=o-1;d>=u;d--)if(s(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Sf)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Sf)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Ot);Ot.empty=new DT([]);var dz=(function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,s,o,u){var c=this.left.length;if(s<c&&this.left.forEachInner(i,s,Math.min(o,c),u)===!1||o>c&&this.right.forEachInner(i,Math.max(s-c,0),Math.min(this.length,o)-c,u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,u){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(i,s-c,Math.max(o,c)-c,u+c)===!1||o<c&&this.left.forEachInvertedInner(i,Math.min(s,c),o,u)===!1)return!1},e.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(i,s):i>=o?this.right.slice(i-o,s-o):this.left.slice(i,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new e(s,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e})(Ot);const hz=500;class Jn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,o;n&&(s=this.remapping(i,this.items.length),o=s.maps.length);let u=e.tr,c,d,h=[],m=[];return this.items.forEach((y,b)=>{if(!y.step){s||(s=this.remapping(i,b+1),o=s.maps.length),o--,m.push(y);return}if(s){m.push(new ur(y.map));let v=y.step.map(s.slice(o)),S;v&&u.maybeStep(v).doc&&(S=u.mapping.maps[u.mapping.maps.length-1],h.push(new ur(S,void 0,void 0,h.length+m.length))),o--,S&&s.appendMap(S,o)}else u.maybeStep(y.step);if(y.selection)return c=s?y.selection.map(s.slice(o)):y.selection,d=new Jn(this.items.slice(0,i).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:u,selection:c}}addTransform(e,n,i,s){let o=[],u=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),b=new ur(e.mapping.maps[m],y,n),v;(v=d&&d.merge(b))&&(b=v,m?o.pop():c=c.slice(0,c.length-1)),o.push(b),n&&(u++,n=void 0),s||(d=b)}let h=u-i.depth;return h>mz&&(c=pz(c,h),u-=h),new Jn(c.append(o),u)}remapping(e,n){let i=new xa;return this.items.forEach((s,o)=>{let u=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,u)},e,n),i}addMaps(e){return this.eventCount==0?this:new Jn(this.items.append(e.map(n=>new ur(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-n),o=e.mapping,u=e.steps.length,c=this.eventCount;this.items.forEach(b=>{b.selection&&c--},s);let d=n;this.items.forEach(b=>{let v=o.getMirror(--d);if(v==null)return;u=Math.min(u,v);let S=o.maps[v];if(b.step){let E=e.steps[v].invert(e.docs[v]),T=b.selection&&b.selection.map(o.slice(d+1,v));T&&c++,i.push(new ur(S,E,T))}else i.push(new ur(S))},s);let h=[];for(let b=n;b<u;b++)h.push(new ur(o.maps[b]));let m=this.items.slice(0,s).append(h).append(i),y=new Jn(m,c);return y.emptyItemCount()>hz&&(y=y.compress(this.items.length-i.length)),y}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,s=[],o=0;return this.items.forEach((u,c)=>{if(c>=e)s.push(u),u.selection&&o++;else if(u.step){let d=u.step.map(n.slice(i)),h=d&&d.getMap();if(i--,h&&n.appendMap(h,i),d){let m=u.selection&&u.selection.map(n.slice(i));m&&o++;let y=new ur(h.invert(),d,m),b,v=s.length-1;(b=s.length&&s[v].merge(y))?s[v]=b:s.push(y)}}else u.map&&i--},this.items.length,0),new Jn(Ot.from(s.reverse()),o)}}Jn.empty=new Jn(Ot.empty,0);function pz(t,e){let n;return t.forEach((i,s)=>{if(i.selection&&e--==0)return n=s,!1}),t.slice(n)}class ur{constructor(e,n,i,s){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ur(n.getMap().invert(),n,this.selection)}}}class ki{constructor(e,n,i,s,o){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=s,this.prevComposition=o}}const mz=20;function gz(t,e,n,i){let s=n.getMeta(Ml),o;if(s)return s.historyState;n.getMeta(vz)&&(t=new ki(t.done,t.undone,null,0,-1));let u=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(u&&u.getMeta(Ml))return u.getMeta(Ml).redo?new ki(t.done.addTransform(n,void 0,i,Nc(e)),t.undone,y1(n.mapping.maps),t.prevTime,t.prevComposition):new ki(t.done,t.undone.addTransform(n,void 0,i,Nc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=t.prevTime==0||!u&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-i.newGroupDelay||!yz(n,t.prevRanges)),h=u?qp(t.prevRanges,n.mapping):y1(n.mapping.maps);return new ki(t.done.addTransform(n,d?e.selection.getBookmark():void 0,i,Nc(e)),Jn.empty,h,n.time,c??t.prevComposition)}else return(o=n.getMeta("rebased"))?new ki(t.done.rebased(n,o),t.undone.rebased(n,o),qp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ki(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),qp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function yz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,s)=>{for(let o=0;o<e.length;o+=2)i<=e[o+1]&&s>=e[o]&&(n=!0)}),n}function y1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,s,o,u)=>e.push(o,u));return e}function qp(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let s=e.map(t[i],1),o=e.map(t[i+1],-1);s<=o&&n.push(s,o)}return n}function bz(t,e,n){let i=Nc(e),s=Ml.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,i);if(!o)return null;let u=o.selection.resolve(o.transform.doc),c=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,i),d=new ki(n?c:o.remaining,n?o.remaining:c,null,0,-1);return o.transform.setSelection(u).setMeta(Ml,{redo:n,historyState:d})}let Gp=!1,b1=null;function Nc(t){let e=t.plugins;if(b1!=e){Gp=!1,b1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Gp=!0;break}}return Gp}const Ml=new Mt("history"),vz=new Mt("closeHistory");function xz(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new it({key:Ml,state:{init(){return new ki(Jn.empty,Jn.empty,null,0,-1)},apply(e,n,i){return gz(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,s=i=="historyUndo"?LT:i=="historyRedo"?zT:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function _T(t,e){return(n,i)=>{let s=Ml.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(i){let o=bz(s,n,t);o&&i(e?o.scrollIntoView():o)}return!0}}const LT=_T(!1,!0),zT=_T(!0,!0);Fe.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const i=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(i)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new it({key:new Mt("characterCount"),appendTransaction:(e,n,i)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const o=this.storage.characters({node:i.doc});if(o>s){const u=o-s,c=0,d=u;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=i.tr.deleteRange(c,d);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const s=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=i||s>i&&o>i&&o<=s)return!0;if(s>i&&o>i&&o>s||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=o-i,h=c-d,m=c;return e.deleteRange(h,m),!(this.storage.characters({node:e.doc})>i)}})]}});var Sz=Fe.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[rz(this.options)]}});Fe.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new it({key:new Mt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:s}=e,o=[];if(!n||!i)return nt.create(t,[]);let u=0;this.options.mode==="deepest"&&t.descendants((d,h)=>{if(d.isText)return;if(!(s>=h&&s<=h+d.nodeSize-1))return!1;u+=1});let c=0;return t.descendants((d,h)=>{if(d.isText||!(s>=h&&s<=h+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&u-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(Yt.node(h,h+d.nodeSize,{class:this.options.className}))}),nt.create(t,o)}}})]}});var Ez=Fe.create({name:"gapCursor",addProseMirrorPlugins(){return[oz()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ve(ce(t,"allowGapCursor",n)))!=null?e:null}}}),v1="placeholder";function Tz(t){return t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}Fe.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:v1,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const t=this.options.dataAttribute?`data-${Tz(this.options.dataAttribute)}`:`data-${v1}`;return[new it({key:new Mt("placeholder"),props:{decorations:({doc:e,selection:n})=>{const i=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=n,o=[];if(!i)return null;const u=this.editor.isEmpty;return e.descendants((c,d)=>{const h=s>=d&&s<=d+c.nodeSize,m=!c.isLeaf&&Bf(c);if((h||!this.options.showOnlyCurrent)&&m){const y=[this.options.emptyNodeClass];u&&y.push(this.options.emptyEditorClass);const b=Yt.node(d,d+c.nodeSize,{class:y.join(" "),[t]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:d,hasAnchor:h}):this.options.placeholder});o.push(b)}return this.options.includeChildren}),nt.create(e,o)}}})]}});Fe.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new it({key:new Mt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||PE(n.selection)||t.view.dragging?null:nt.create(n.doc,[Yt.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function x1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var Mz=Fe.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Mt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",i=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new it({key:e,appendTransaction:(s,o,u)=>{const{doc:c,tr:d,schema:h}=u,m=e.getState(u),y=c.content.size,b=h.nodes[n];if(m)return d.insert(y,b.create())},state:{init:(s,o)=>{const u=o.tr.doc.lastChild;return!x1({node:u,types:i})},apply:(s,o)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return o;const u=s.doc.lastChild;return!x1({node:u,types:i})}}})]}}),Cz=Fe.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>LT(t,e),redo:()=>({state:t,dispatch:e})=>zT(t,e)}},addProseMirrorPlugins(){return[xz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Az=Fe.create({name:"starterKit",addExtensions(){var t,e,n,i;const s=[];return this.options.bold!==!1&&s.push(Q_.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(F_.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(xT.configure(this.options.bulletList)),this.options.code!==!1&&s.push(eL.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(rL.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(iL.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Sz.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Ez.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(lL.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(sL.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(Cz.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(oL.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(dL.configure(this.options.italic)),this.options.listItem!==!1&&s.push(ST.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(wT.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(jL.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(NT.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(QL.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(ez.configure(this.options.strike)),this.options.text!==!1&&s.push(tz.configure(this.options.text)),this.options.underline!==!1&&s.push(OT.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(Mz.configure((i=this.options)==null?void 0:i.trailingNode)),s}}),wz=Az,kz=Fe.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Nz=kz,Oz=20,BT=(t,e=0)=>{const n=[];return!t.children.length||e>Oz||Array.from(t.children).forEach(i=>{i.tagName==="SPAN"?n.push(i):i.children.length&&n.push(...BT(i,e+1))}),n},Rz=t=>{if(!t.children.length)return;const e=BT(t);e&&e.forEach(n=>{var i,s;const o=n.getAttribute("style"),u=(s=(i=n.parentElement)==null?void 0:i.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${u};${o}`)})},jT=$i.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Rz(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",ht(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,i)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(o=>!!o))||t.removeMark(i,i+n.nodeSize,this.type)}),!0}}}}),Dz=Fe.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const i=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=i.length-1;s>=0;s-=1){const o=i[s].split(":");if(o.length>=2){const u=o[0].trim().toLowerCase(),c=o.slice(1).join(":").trim();if(u==="background-color")return c.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),_z=Fe.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const i=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=i.length-1;s>=0;s-=1){const o=i[s].split(":");if(o.length>=2){const u=o[0].trim().toLowerCase(),c=o.slice(1).join(":").trim();if(u==="color")return c.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Lz=Fe.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),HT=Fe.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),UT=Fe.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Fe.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(Dz.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(_z.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Lz.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(HT.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(UT.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(jT.configure(this.options.textStyle)),t}});const zz=["14","16","18","20","24"],Bz=["1.2","1.4","1.5","1.75","2"];function jz(t){return an.useMemo(()=>[wz.configure({blockquote:{},bold:{},heading:{levels:[1,2,3]},italic:{},paragraph:{},underline:{},link:{openOnClick:!1,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer"}},strike:!1,code:!1,codeBlock:!1,bulletList:!1,orderedList:!1,listItem:!1,listKeymap:!1,horizontalRule:!1}),Nz.configure({types:["heading","paragraph","blockquote"]}),jT,HT,UT,nz],[])}const Tg=({value:t,onChange:e,placeholder:n="Write something",className:i="",minHeight:s="12rem"})=>{const o=t!=null&&t.trim()?t.includes("<")?t:Jp(t):"",u=jz(),c=P_({extensions:u,content:o,editorProps:{attributes:{class:"prose prose-sm max-w-none font-sans text-textPrimary focus:outline-none min-h-[8rem]"},handleDOMEvents:{blur:()=>{c&&e(c.getHTML())}}},onUpdate:({editor:h})=>{e(h.getHTML())}},[u]);R.useEffect(()=>{if(!c)return;const h=c.getHTML(),m=t!=null&&t.trim()?t.includes("<")?t:Jp(t):"<p></p>";h!==m&&document.activeElement!==c.view.dom&&c.commands.setContent(m,!1)},[c,t]);const d=R.useCallback(()=>{if(!c)return;const h=window.prompt("URL:",c.getAttributes("link").href||"https://");h!=null&&(h===""?c.chain().focus().extendMarkRange("link").unsetLink().run():c.chain().focus().extendMarkRange("link").setLink({href:h}).run())},[c]);return c?C.jsxs("div",{className:`border border-paletteBorder rounded-sm overflow-hidden bg-bgMain ${i}`,children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 border-b border-paletteBorder bg-neutral-100 font-mono text-xs",children:[C.jsxs("select",{className:"border border-paletteBorder bg-bgMain text-textPrimary px-2 py-1.5 rounded-sm uppercase tracking-wider",value:c.isActive("heading",{level:1})?"h1":c.isActive("heading",{level:2})?"h2":c.isActive("heading",{level:3})?"h3":c.isActive("blockquote")?"blockquote":"p",onChange:h=>{const m=h.target.value;m==="p"?c.chain().focus().setParagraph().run():m==="h1"?c.chain().focus().toggleHeading({level:1}).run():m==="h2"?c.chain().focus().toggleHeading({level:2}).run():m==="h3"?c.chain().focus().toggleHeading({level:3}).run():m==="blockquote"&&c.chain().focus().toggleBlockquote().run()},children:[C.jsx("option",{value:"p",children:"Paragraph"}),C.jsx("option",{value:"h1",children:"Heading 1"}),C.jsx("option",{value:"h2",children:"Heading 2"}),C.jsx("option",{value:"h3",children:"Heading 3"}),C.jsx("option",{value:"blockquote",children:"Blockquote"})]}),C.jsx("span",{className:"text-textSecondary mx-1",children:"|"}),C.jsxs("select",{className:"border border-paletteBorder bg-bgMain text-textPrimary px-2 py-1.5 rounded-sm w-12",onChange:h=>{const m=h.target.value;m?c.chain().focus().setFontSize(m+"px").run():c.chain().focus().unsetFontSize().run()},children:[C.jsx("option",{value:"",children:""}),zz.map(h=>C.jsx("option",{value:h,children:h},h))]}),C.jsxs("select",{className:"border border-paletteBorder bg-bgMain text-textPrimary px-2 py-1.5 rounded-sm w-12",onChange:h=>{const m=h.target.value;m?c.chain().focus().setLineHeight(m).run():c.chain().focus().unsetLineHeight().run()},children:[C.jsx("option",{value:"",children:""}),Bz.map(h=>C.jsx("option",{value:h,children:h},h))]}),C.jsx("span",{className:"text-textSecondary mx-1",children:"|"}),C.jsx("button",{type:"button",onClick:()=>c.chain().focus().toggleBold().run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder font-bold ${c.isActive("bold")?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Bold",children:"B"}),C.jsx("button",{type:"button",onClick:()=>c.chain().focus().toggleItalic().run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder italic ${c.isActive("italic")?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Italic",children:"I"}),C.jsx("button",{type:"button",onClick:()=>c.chain().focus().toggleUnderline().run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder underline ${c.isActive("underline")?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Underline",children:"U"}),C.jsx("span",{className:"text-textSecondary mx-1",children:"|"}),C.jsx("button",{type:"button",onClick:()=>c.chain().focus().setTextAlign("left").run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder ${c.isActive({textAlign:"left"})?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Align left",children:""}),C.jsx("button",{type:"button",onClick:()=>c.chain().focus().setTextAlign("center").run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder ${c.isActive({textAlign:"center"})?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Align center",children:""}),C.jsx("button",{type:"button",onClick:()=>c.chain().focus().setTextAlign("right").run(),className:`px-2 py-1.5 rounded-sm border border-paletteBorder ${c.isActive({textAlign:"right"})?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Align right",children:""}),C.jsx("span",{className:"text-textSecondary mx-1",children:"|"}),C.jsx("button",{type:"button",onClick:d,className:`px-2 py-1.5 rounded-sm border border-paletteBorder ${c.isActive("link")?"bg-neutral-300":"bg-bgMain text-textPrimary"}`,title:"Link",children:""}),C.jsx("button",{type:"button",onClick:()=>c.chain().focus().unsetLink().run(),className:"px-2 py-1.5 rounded-sm border border-paletteBorder bg-bgMain text-textPrimary",title:"Unlink",children:"Unlink"}),C.jsx("span",{className:"text-textSecondary mx-1",children:"|"}),C.jsx("button",{type:"button",onClick:()=>{c.chain().focus().unsetAllMarks().run(),c.chain().focus().clearNodes().run()},className:"px-2 py-1.5 rounded-sm border border-paletteBorder bg-bgMain text-textPrimary",title:"Clear formatting",children:"Clear"})]}),C.jsx(sT,{editor:c,style:{minHeight:s},className:"p-3 text-base leading-relaxed [&_.ProseMirror]:min-h-[8rem] [&_.ProseMirror]:outline-none [&_.ProseMirror_p]:mb-4 [&_.ProseMirror_p:last-child]:mb-0 [&_.ProseMirror_h1]:text-2xl [&_.ProseMirror_h1]:font-bold [&_.ProseMirror_h2]:text-xl [&_.ProseMirror_h2]:font-bold [&_.ProseMirror_h3]:text-lg [&_.ProseMirror_h3]:font-bold [&_.ProseMirror_blockquote]:border-l-2 [&_.ProseMirror_blockquote]:border-paletteBorder [&_.ProseMirror_blockquote]:pl-4 [&_.ProseMirror_blockquote]:italic [&_.ProseMirror_a]:underline"})]}):C.jsx("div",{className:`border border-paletteBorder rounded-sm overflow-hidden bg-bgMain ${i}`,style:{minHeight:s},children:C.jsx("div",{className:"p-3 text-textSecondary font-mono text-sm",children:"Loading editor"})})},Hz=({data:t,onRefresh:e})=>{const{isAdmin:n}=_l(),i=Dl(),[s,o]=R.useState(""),[u,c]=R.useState(new Date().getFullYear().toString()),[d,h]=R.useState(""),[m,y]=R.useState(""),[b,v]=R.useState([]),[S,E]=R.useState(!1);an.useEffect(()=>{n||i("/")},[n,i]);const T=R.useCallback(async H=>{var J;const q=(J=H.target.files)==null?void 0:J[0];if(!q)return;H.target.value="";const P=await new Promise(fe=>{const oe=new FileReader;oe.onloadend=()=>fe(oe.result),oe.readAsDataURL(q)}),K=await As(P);y(K)},[]),A=async H=>{const q=H.target.files;if(!(q!=null&&q.length))return;E(!0);const P=[];for(let K=0;K<q.length;K++){const J=await new Promise(fe=>{const oe=new FileReader;oe.onloadend=()=>fe(oe.result),oe.readAsDataURL(q[K])});P.push(await As(J))}v(K=>K.length?[...K,...P]:P),!m&&P[0]&&y(P[0]),E(!1)},_=H=>{const q=b.filter((P,K)=>K!==H);v(q),m&&b[H]===m&&y(q[0]??"")},B=H=>{const q=b[H];q&&y(q)},$=async H=>{if(H.preventDefault(),!s.trim()){alert("Please provide a project title.");return}if(b.length===0){alert("Please provide at least one image.");return}try{const q=Date.now().toString(),P=m||b[0]||"",K=P?await Wp(P).catch(()=>{}):void 0;await Ak({id:q,title:s.trim(),year:u.trim(),description:d.trim()||"",imageUrl:P,gallery:b,galleryColumns:1,coverAspectRatio:K}),e(),i(`/project/${q}`)}catch(q){console.error(q),q instanceof DOMException&&q.name==="QuotaExceededError"?alert("Storage limit reached (browser limit). Try fewer images, smaller file sizes, or remove images from other projects."):alert("Failed to create project.")}};return n?C.jsx("div",{className:"fixed inset-0 bg-bgMain flex flex-col overflow-hidden",children:C.jsxs("main",{className:"flex-1 min-h-0 flex",children:[C.jsx("div",{className:"w-2/5 min-w-0 overflow-y-auto pt-pageTop pl-6 pr-6 pb-12",children:C.jsxs("div",{className:"max-w-xl",children:[C.jsx("h1",{className:"font-mono text-sm uppercase tracking-wider text-textPrimary mb-6",children:"New project"}),C.jsxs("form",{onSubmit:$,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Title"}),C.jsx("input",{type:"text",className:"w-full p-3 border border-paletteBorder bg-transparent font-mono text-sm placeholder:text-textSecondary text-textPrimary focus:outline-none",value:s,onChange:H=>o(H.target.value),required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Year"}),C.jsx("input",{type:"text",className:"w-full p-3 border border-paletteBorder bg-transparent font-mono text-sm placeholder:text-textSecondary text-textPrimary focus:outline-none",value:u,onChange:H=>c(H.target.value),required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Description"}),C.jsx(Tg,{value:d,onChange:h,placeholder:"Project description",minHeight:"10rem"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Cover"}),C.jsx("input",{type:"file",accept:"image/*",className:"block w-full text-sm font-mono file:mr-4 file:py-2 file:px-4 file:border file:border-paletteBorder file:bg-bgMain file:font-mono file:text-xs file:uppercase file:tracking-wider file:text-textPrimary file:hover:bg-neutral-800 file:hover:text-white file:transition-colors file:duration-150 file:rounded-sm",onChange:T})]}),C.jsx("button",{type:"submit",disabled:S,className:"font-mono text-sm uppercase tracking-wider px-6 py-3 bg-accent text-textPrimary hover:opacity-90 disabled:opacity-50 transition-opacity duration-150 rounded-sm",children:S?"Processing":"Create project"})]})]})}),C.jsx("div",{className:"w-px shrink-0 bg-paletteBorder","aria-hidden":!0}),C.jsx("div",{className:"w-3/5 min-w-0 overflow-y-auto pt-pageTop px-6 pb-12",children:C.jsxs("div",{className:"space-y-4",children:[m&&C.jsxs("div",{children:[C.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Cover preview"}),C.jsx("img",{src:m,alt:"Cover",className:"max-h-64 w-auto border border-paletteBorder"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Gallery"}),C.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"block w-full text-sm font-mono file:mr-4 file:py-2 file:px-4 file:border file:border-paletteBorder file:bg-bgMain file:font-mono file:text-xs file:uppercase file:tracking-wider file:text-textPrimary file:hover:bg-neutral-800 file:hover:text-white file:transition-colors file:duration-150 file:rounded-sm",onChange:A})]}),b.length>0&&C.jsx("div",{className:"flex flex-wrap gap-4",children:b.map((H,q)=>C.jsxs("div",{className:"relative group",children:[C.jsx("img",{src:H,alt:"",className:"h-20 w-auto border border-paletteBorder"}),C.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-1 bg-neutral-800/50 opacity-0 group-hover:opacity-100 transition-opacity duration-150",children:[C.jsx("button",{type:"button",onClick:()=>_(q),className:"font-mono text-xs uppercase tracking-wider px-2 py-1 border border-destructive bg-bgMain text-destructive hover:bg-destructive hover:text-white transition-colors duration-150 rounded-sm",children:"Remove"}),C.jsx("button",{type:"button",onClick:()=>B(q),className:"font-mono text-xs uppercase tracking-wider px-2 py-1 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Set as cover"})]})]},q))})]})})]})}):null},Uz=({children:t})=>C.jsx("div",{className:"fixed inset-0 bg-bgMain flex flex-col overflow-hidden",children:t}),Iz=({src:t,alt:e,className:n})=>{const i="bg-bgMain";return t?C.jsxs("div",{className:`relative w-full h-full overflow-hidden ${i}`,children:[C.jsx("img",{src:t,alt:e,className:n?`${n} w-full h-full object-contain`:"w-full h-full object-contain",onContextMenu:s=>s.preventDefault(),onDragStart:s=>s.preventDefault(),style:{pointerEvents:"none"}}),C.jsx("div",{className:"absolute inset-0 z-10 bg-transparent",onContextMenu:s=>s.preventDefault()})]}):C.jsx("div",{className:`w-full aspect-[4/5] border border-dashed border-paletteBorder ${i}`,"aria-hidden":!0})},Pz=({project:t,onRefresh:e})=>{const n=Vi(),{isAdmin:i}=_l(),s=Dl(),o=i&&!n,[u,c]=R.useState(!1),[d,h]=R.useState(t),[m,y]=R.useState(!1),[b,v]=R.useState(!1),S=u?d:t,E=R.useCallback(async K=>{var te;const J=(te=K.target.files)==null?void 0:te[0];if(!J)return;K.target.value="";const fe=await new Promise(de=>{const Se=new FileReader;Se.onloadend=()=>de(Se.result),Se.readAsDataURL(J)}),oe=await As(fe),Te=await Wp(oe).catch(()=>{});h(de=>({...de,imageUrl:oe,coverAspectRatio:Te}))},[]),T=R.useCallback(K=>{const J=d.gallery[K];J&&Wp(J).then(fe=>{h(oe=>({...oe,imageUrl:J,coverAspectRatio:fe}))}).catch(()=>{h(fe=>({...fe,imageUrl:J}))})},[d.gallery]),A=async K=>{const J=K.target.files;if(!(J!=null&&J.length))return;v(!0);const fe=[];for(let oe=0;oe<J.length;oe++){const Te=await new Promise(te=>{const de=new FileReader;de.onloadend=()=>te(de.result),de.readAsDataURL(J[oe])});fe.push(await As(Te))}h(oe=>({...oe,gallery:[...oe.gallery,...fe],imageUrl:oe.imageUrl||fe[0]})),v(!1)},_=K=>{if(d.gallery.length<=1)return;const J=d.gallery.filter((fe,oe)=>oe!==K);h(fe=>({...fe,gallery:J,imageUrl:J[0]??fe.imageUrl}))},B=async(K,J)=>{var de;const fe=(de=J.target.files)==null?void 0:de[0];if(!fe)return;J.target.value="",v(!0);const oe=await new Promise(Se=>{const I=new FileReader;I.onloadend=()=>Se(I.result),I.readAsDataURL(fe)}),Te=await As(oe),te=[...d.gallery];te[K]=Te,h(Se=>({...Se,gallery:te,imageUrl:K===0?Te:Se.imageUrl})),v(!1)},$=async()=>{var K;if(!((K=d.title)!=null&&K.trim())){alert("Please provide a project title.");return}if(d.gallery.length===0){alert("Please provide at least one image.");return}try{y(!0);const J=await Promise.all(d.gallery.map(Te=>As(Te))),fe=d.gallery.findIndex(Te=>Te===d.imageUrl),oe={...d,gallery:J,imageUrl:fe>=0?J[fe]:J[0]};await wk(oe.id,oe),e(),c(!1)}catch(J){console.error(J),J instanceof DOMException&&J.name==="QuotaExceededError"?alert("Storage limit reached (browser limit). Try fewer images, smaller file sizes, or remove images from other projects."):alert("Failed to update project.")}finally{y(!1)}},H=async()=>{confirm("Delete this project?")&&(await kk(t.id),e(),s("/"))},q=C.jsx("div",{className:n?"w-full min-w-0 overflow-y-auto pt-6 px-6 pb-12":"w-2/5 min-w-0 overflow-y-auto pt-pageTop px-6 pb-12",children:C.jsx("div",{className:"max-w-xl",children:!n&&u?C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Title"}),C.jsx("input",{type:"text",className:"w-full p-3 border border-paletteBorder bg-transparent font-mono text-sm focus:outline-none",value:d.title,onChange:K=>h(J=>({...J,title:K.target.value}))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Year"}),C.jsx("input",{type:"text",className:"w-full p-3 border border-paletteBorder bg-transparent font-mono text-sm focus:outline-none",value:d.year,onChange:K=>h(J=>({...J,year:K.target.value}))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Description"}),C.jsx(Tg,{value:d.description,onChange:K=>h(J=>({...J,description:K})),placeholder:"Project description",minHeight:"10rem"})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{type:"button",onClick:$,disabled:m,className:"font-mono text-sm uppercase tracking-wider px-4 py-2 bg-accent text-textPrimary hover:opacity-90 disabled:opacity-50 transition-opacity duration-150 rounded-sm",children:m?"Saving":"Save"}),C.jsx("button",{type:"button",onClick:()=>{c(!1),h(t)},className:"font-mono text-sm uppercase tracking-wider px-4 py-2 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Cancel"})]})]}):C.jsxs(C.Fragment,{children:[C.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textSecondary mb-2",children:S.year}),C.jsx("h1",{className:"text-3xl font-bold mb-6",children:S.title}),C.jsx("div",{className:"text-base leading-relaxed text-textPrimary [&_p]:mb-8 [&_p:last-child]:mb-0",children:C.jsx(zm,{html:S.description})}),o&&C.jsxs("div",{className:"flex gap-2 mt-6",children:[C.jsx("button",{type:"button",onClick:()=>{h(t),c(!0)},className:"font-mono text-xs uppercase tracking-wider px-3 py-2 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Edit"}),C.jsx("button",{type:"button",onClick:H,className:"font-mono text-xs uppercase tracking-wider px-3 py-2 border border-destructive bg-bgMain text-destructive hover:bg-destructive hover:text-white transition-colors duration-150 rounded-sm",children:"Delete"})]})]})})}),P=C.jsx("div",{className:n?"w-full min-w-0 overflow-y-auto pt-6 px-6 pb-6":"w-3/5 min-w-0 overflow-y-auto pt-6 px-6 pb-12",children:!n&&u?C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Cover"}),S.imageUrl?C.jsx("img",{src:S.imageUrl,alt:"Cover",className:"max-h-64 w-auto border border-paletteBorder"}):C.jsx("div",{className:"max-h-64 h-64 border border-paletteBorder flex items-center justify-center font-mono text-xs text-textSecondary",children:"No cover"}),C.jsx("div",{className:"mt-2 flex gap-2",children:C.jsxs("label",{className:"font-mono text-xs uppercase tracking-wider px-3 py-2 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 cursor-pointer rounded-sm",children:["Change cover",C.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:E})]})})]}),C.jsxs("div",{children:[C.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Gallery layout"}),C.jsxs("div",{className:"flex gap-4 mb-2",children:[C.jsxs("label",{className:"flex items-center gap-2 font-mono text-sm cursor-pointer",children:[C.jsx("input",{type:"radio",name:"galleryColumns",checked:(d.galleryColumns??1)===1,onChange:()=>h(K=>({...K,galleryColumns:1})),className:"border border-paletteBorder"}),"One column"]}),C.jsxs("label",{className:"flex items-center gap-2 font-mono text-sm cursor-pointer",children:[C.jsx("input",{type:"radio",name:"galleryColumns",checked:d.galleryColumns===2,onChange:()=>h(K=>({...K,galleryColumns:2})),className:"border border-paletteBorder"}),"Two columns"]})]}),C.jsx("p",{className:"font-mono text-xs uppercase tracking-wider text-textPrimary mb-2",children:"Gallery"}),C.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"block w-full text-sm font-mono file:mr-4 file:py-2 file:px-4 file:border file:border-paletteBorder file:bg-bgMain file:font-mono file:text-xs file:uppercase file:tracking-wider file:text-textPrimary file:hover:bg-neutral-800 file:hover:text-white file:transition-colors file:duration-150 file:rounded-sm mb-2",onChange:A}),C.jsx("div",{className:"flex flex-wrap gap-4",children:S.gallery.map((K,J)=>C.jsxs("div",{className:"flex flex-col",children:[C.jsx("img",{src:K,alt:"",className:"h-20 w-auto border border-paletteBorder"}),C.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[C.jsx("button",{type:"button",onClick:()=>T(J),className:"font-mono text-xs uppercase tracking-wider px-2 py-1 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Set as cover"}),C.jsxs("label",{className:"font-mono text-xs uppercase tracking-wider px-2 py-1 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white cursor-pointer transition-colors duration-150 rounded-sm",children:["Replace",C.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:fe=>B(J,fe)})]}),C.jsx("button",{type:"button",onClick:()=>_(J),disabled:S.gallery.length<=1,className:"font-mono text-xs uppercase tracking-wider px-2 py-1 border border-destructive bg-bgMain text-destructive hover:bg-destructive hover:text-white disabled:opacity-50 transition-colors duration-150 rounded-sm",children:"Remove"})]})]},J))})]})]}):C.jsx(C.Fragment,{children:S.gallery&&S.gallery.length>0?C.jsx("div",{className:`grid gap-0 max-w-4xl ${S.galleryColumns===2?"grid-cols-1 sm:grid-cols-2":"grid-cols-1"}`,children:S.gallery.map((K,J)=>C.jsx("div",{children:C.jsx(Iz,{src:K,alt:`${S.title} ${J+1}`})},J))}):null})});return C.jsx(Uz,{children:C.jsx("main",{className:`flex-1 min-h-0 flex overflow-hidden ${n?"flex-col pt-12":""}`,children:n?C.jsxs(C.Fragment,{children:[P,q]}):C.jsxs(C.Fragment,{children:[q,C.jsx("div",{className:"w-px shrink-0 bg-paletteBorder","aria-hidden":!0}),P]})})})},Vz=()=>Vi()?null:C.jsx(Ui,{to:"/",className:"fixed top-0 left-0 z-[100] h-12 flex items-center font-mono text-base uppercase tracking-wider text-textPrimary px-6 rounded-sm transition-opacity duration-150 hover:opacity-90",style:{backgroundColor:Mf.accent},children:"Home"}),qz=()=>{const t=Vi(),{isAdmin:e,logout:n}=_l(),i=Dl();return t||!e?null:C.jsxs("div",{className:"fixed bottom-0 left-0 z-[99] pl-6 pb-6 flex gap-2",children:[C.jsx(Ui,{to:"/project/new",className:"font-mono text-xs uppercase tracking-wider border border-paletteBorder px-3 py-2 bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Add project"}),C.jsx(Ui,{to:"/admin/deployment",className:"font-mono text-xs uppercase tracking-wider border border-paletteBorder px-3 py-2 bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Domain setup"}),C.jsx("button",{type:"button",onClick:()=>{n(),i("/")},className:"font-mono text-xs uppercase tracking-wider border border-paletteBorder px-3 py-2 bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Logout"})]})},Mg=({children:t})=>C.jsx("div",{className:"fixed inset-0 bg-bgMain flex flex-col overflow-hidden",children:t}),Gz=({data:t,onRefresh:e})=>{const{id:n}=PA(),i=t.projects.find(s=>s.id===n);return i?C.jsx(Pz,{project:i,onRefresh:e}):C.jsx(Mg,{children:C.jsx("main",{className:"pt-pageTop px-6 pb-12",children:C.jsx("p",{children:"Project not found."})})})},$z=({data:t,onRefresh:e})=>{const n=Vi(),{isAdmin:i}=_l(),[s,o]=an.useState(!1),[u,c]=an.useState(t.aboutMe);an.useEffect(()=>{c(t.aboutMe)},[t.aboutMe]);const d=async()=>{await Ck(u),e(),o(!1)},h=i&&!n;return C.jsx(Mg,{children:C.jsxs("main",{className:`flex-1 min-h-0 flex overflow-hidden ${n?"flex-col":""}`,children:[C.jsx("div",{className:n?"w-full min-w-0 overflow-y-auto pt-pageTop px-6 pb-12":`w-2/5 min-w-0 overflow-y-auto pt-pageTop px-6 ${i?"pb-24":"pb-12"}`,children:C.jsxs("div",{className:"max-w-xl",children:[h&&C.jsx("div",{className:"mb-6",children:s?C.jsxs("div",{className:"space-y-4",children:[C.jsx(Tg,{value:u,onChange:c,placeholder:"About me",minHeight:"14rem"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{type:"button",onClick:d,className:"font-mono text-sm uppercase tracking-wider px-4 py-2 bg-accent text-textPrimary hover:opacity-90 transition-opacity duration-150 rounded-sm",children:"Save"}),C.jsx("button",{type:"button",onClick:()=>{o(!1),c(t.aboutMe)},className:"font-mono text-sm uppercase tracking-wider px-4 py-2 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Cancel"})]})]}):C.jsx("button",{type:"button",onClick:()=>o(!0),className:"font-mono text-xs uppercase tracking-wider px-3 py-2 border border-paletteBorder bg-bgMain text-textPrimary hover:bg-neutral-800 hover:text-white transition-colors duration-150 rounded-sm",children:"Edit biography"})}),!s&&C.jsxs(C.Fragment,{children:[C.jsx("h1",{className:"text-3xl font-bold mb-8 text-textPrimary",children:"About me"}),C.jsx("div",{className:"space-y-6 text-base leading-relaxed text-textPrimary",children:C.jsx(zm,{html:t.aboutMe})})]})]})}),!n&&C.jsx("div",{className:"w-px shrink-0 bg-paletteBorder","aria-hidden":!0}),C.jsx("div",{className:n?"w-full min-w-0 overflow-y-auto pt-6 px-6 pb-12 flex items-center justify-center text-textSecondary":"w-3/5 min-w-0 overflow-y-auto pt-pageTop px-6 pb-12 flex items-center justify-center text-textSecondary",children:null})]})})},Fz=()=>{const t=Vi();return C.jsx(Mg,{children:C.jsxs("main",{className:`flex-1 min-h-0 flex overflow-hidden ${t?"flex-col":""}`,children:[C.jsx("div",{className:t?"w-full min-w-0 overflow-y-auto pt-pageTop px-6 pb-12":"w-2/5 min-w-0 overflow-y-auto pt-pageTop px-6 pb-12",children:C.jsxs("div",{className:"max-w-xl",children:[C.jsx("h1",{className:"text-3xl font-bold mb-8 text-textPrimary",children:"Contact"}),C.jsx("p",{className:"mb-4",children:C.jsx("a",{href:"mailto:sphnsx@aol.com",className:"underline font-medium transition-colors duration-150 hover:opacity-80",children:"sphnsx@aol.com"})}),C.jsx("p",{children:C.jsx("a",{href:"https://www.instagram.com/sphnsx/",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium transition-colors duration-150 hover:opacity-80",children:"Instagram"})})]})}),!t&&C.jsx("div",{className:"w-px shrink-0 bg-paletteBorder","aria-hidden":!0}),C.jsx("div",{className:t?"w-full min-w-0 overflow-y-auto pt-6 px-6 pb-12 flex items-center justify-center text-textSecondary":"w-3/5 min-w-0 overflow-y-auto pt-pageTop px-6 pb-12 flex items-center justify-center text-textSecondary",children:null})]})})},Yz=()=>C.jsxs("main",{className:"min-h-screen flex flex-col items-center justify-center p-8 text-center",children:[C.jsx("h1",{className:"text-3xl font-bold mb-4 text-textPrimary",children:"404"}),C.jsx("p",{className:"text-base text-textSecondary mb-6 leading-relaxed",children:"Page not found."}),C.jsx(Ui,{to:"/",className:"text-sm underline transition-colors duration-150 hover:opacity-80",children:"Go home"})]}),Kz=()=>(typeof import.meta<"u"&&"/"||"/").replace(/\/$/,"")||"",Xz=()=>{const t=hr();return R.useEffect(()=>{const e=window.location.pathname,n=window.location.hash;if(n&&n!=="#")return;const i=Kz(),s=e===i||e===i+"/"?"/":e.startsWith(i+"/")?e.slice(i.length)||"/":e.startsWith("/")?e:"/"+e,o="#"+(s.startsWith("/")?s:"/"+s);window.location.hash=o;const u=s==="/admin"||s.startsWith("/admin/")?"/"+o:i?i+o:"/"+o;window.location.pathname+window.location.hash!==u&&window.history.replaceState(void 0,"",window.location.origin+u)},[t.pathname]),null},Jz=()=>{const t=Vi(),e=hr(),n=Dl();return R.useEffect(()=>{if(!t)return;const i=e.pathname;(i==="/project/new"||i==="/admin/deployment")&&n("/")},[t,e.pathname,n]),null},Qz=({children:t})=>{const{isAdmin:e}=_l(),n=Dl();return R.useEffect(()=>{e||n("/admin")},[e,n]),e?C.jsx(C.Fragment,{children:t}):null},Wz=()=>{const t=Vi(),[e,n]=R.useState(Mk()),i=()=>Cl().then(n);return R.useEffect(()=>{Cl().then(n)},[]),C.jsx(Aw,{children:C.jsxs(Ek,{children:[C.jsx(Xz,{}),C.jsx(Jz,{}),C.jsxs("div",{className:"min-h-screen bg-bgMain text-textPrimary font-sans",children:[t&&C.jsx(Lk,{}),C.jsx(Vz,{}),C.jsx(qz,{}),C.jsxs(nw,{children:[C.jsx(lr,{path:"/",element:C.jsx(Dk,{data:e,onRefresh:i})}),C.jsx(lr,{path:"/project/new",element:C.jsx(Hz,{data:e,onRefresh:i})}),C.jsx(lr,{path:"/project/:id",element:C.jsx(Gz,{data:e,onRefresh:i})}),C.jsx(lr,{path:"/about",element:C.jsx($z,{data:e,onRefresh:i})}),C.jsx(lr,{path:"/contact",element:C.jsx(Fz,{})}),C.jsx(lr,{path:"/admin",element:C.jsx(Iv,{})}),C.jsx(lr,{path:"/a",element:C.jsx(Iv,{})}),C.jsx(lr,{path:"/admin/deployment",element:C.jsx(Qz,{children:C.jsx(zk,{})})}),C.jsx(lr,{path:"*",element:C.jsx(Yz,{})})]})]})]})})},S1=window.location.pathname.replace(/\/$/,"")||"/";(S1==="/admin"||S1==="/a")&&(window.location.hash="#/admin");const IT=document.getElementById("root");if(!IT)throw new Error("Could not find root element to mount to");const Zz=iA.createRoot(IT);Zz.render(C.jsx(an.StrictMode,{children:C.jsx(Wz,{})}));
